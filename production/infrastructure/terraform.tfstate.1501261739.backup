{
    "version": 3,
    "terraform_version": "0.9.11",
    "serial": 55,
    "lineage": "bfda0ac6-916e-463e-8fb3-53e77c47d33d",
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {
                "account_number": {
                    "sensitive": false,
                    "type": "string",
                    "value": "643009352547"
                },
                "newrelic_key": {
                    "sensitive": false,
                    "type": "string",
                    "value": "bc34e4b264df582c2db0b453bd43ee438043757c"
                },
                "west_cidr": {
                    "sensitive": false,
                    "type": "string",
                    "value": "10.40.0.0/21"
                },
                "west_dns_servers": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "10.40.0.10",
                        "10.40.1.10",
                        "10.40.2.10"
                    ]
                },
                "west_vpc_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "vpc-39e6355f"
                }
            },
            "resources": {},
            "depends_on": []
        },
        {
            "path": [
                "root",
                "cloudtrail_audit"
            ],
            "outputs": {},
            "resources": {
                "aws_cloudtrail.audit": {
                    "type": "aws_cloudtrail",
                    "depends_on": [
                        "aws_s3_bucket.audit-logs",
                        "aws_sns_topic.audit-action"
                    ],
                    "primary": {
                        "id": "aws-audit",
                        "attributes": {
                            "arn": "arn:aws:cloudtrail:us-west-2:643009352547:trail/aws-audit",
                            "cloud_watch_logs_group_arn": "",
                            "cloud_watch_logs_role_arn": "",
                            "enable_log_file_validation": "false",
                            "enable_logging": "true",
                            "home_region": "us-west-2",
                            "id": "aws-audit",
                            "include_global_service_events": "true",
                            "is_multi_region_trail": "false",
                            "kms_key_id": "",
                            "name": "aws-audit",
                            "s3_bucket_name": "lf-engineering-prod-cloudtrail-audit",
                            "s3_key_prefix": "643009352547",
                            "sns_topic_name": "account-wide-api-actions",
                            "tags.%": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_s3_bucket.audit-logs": {
                    "type": "aws_s3_bucket",
                    "depends_on": [],
                    "primary": {
                        "id": "lf-engineering-prod-cloudtrail-audit",
                        "attributes": {
                            "acceleration_status": "",
                            "acl": "private",
                            "arn": "arn:aws:s3:::lf-engineering-prod-cloudtrail-audit",
                            "bucket": "lf-engineering-prod-cloudtrail-audit",
                            "bucket_domain_name": "lf-engineering-prod-cloudtrail-audit.s3.amazonaws.com",
                            "force_destroy": "true",
                            "hosted_zone_id": "Z3BJ6K6RIION7M",
                            "id": "lf-engineering-prod-cloudtrail-audit",
                            "logging.#": "0",
                            "policy": "{\"Statement\":[{\"Action\":\"s3:GetBucketAcl\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"cloudtrail.amazonaws.com\"},\"Resource\":\"arn:aws:s3:::lf-engineering-prod-cloudtrail-audit\",\"Sid\":\"AWSCloudTrailAclCheck\"},{\"Action\":\"s3:PutObject\",\"Condition\":{\"StringEquals\":{\"s3:x-amz-acl\":\"bucket-owner-full-control\"}},\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"cloudtrail.amazonaws.com\"},\"Resource\":\"arn:aws:s3:::lf-engineering-prod-cloudtrail-audit/*\",\"Sid\":\"AWSCloudTrailWrite\"}],\"Version\":\"2012-10-17\"}",
                            "region": "us-west-2",
                            "request_payer": "BucketOwner",
                            "tags.%": "0",
                            "versioning.#": "1",
                            "versioning.0.enabled": "false",
                            "versioning.0.mfa_delete": "false",
                            "website.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_sns_topic.audit-action": {
                    "type": "aws_sns_topic",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:sns:us-west-2:643009352547:account-wide-api-actions",
                        "attributes": {
                            "arn": "arn:aws:sns:us-west-2:643009352547:account-wide-api-actions",
                            "display_name": "AWS API Actions",
                            "id": "arn:aws:sns:us-west-2:643009352547:account-wide-api-actions",
                            "name": "account-wide-api-actions",
                            "policy": "{\"Id\":\"default\",\"Statement\":[{\"Action\":[\"SNS:GetTopicAttributes\",\"SNS:SetTopicAttributes\",\"SNS:AddPermission\",\"SNS:RemovePermission\",\"SNS:DeleteTopic\"],\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Resource\":\"arn:aws:sns:us-west-2:643009352547:account-wide-api-actions\",\"Sid\":\"default\"},{\"Action\":\"SNS:Publish\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"cloudtrail.amazonaws.com\"},\"Resource\":\"arn:aws:sns:us-west-2:643009352547:account-wide-api-actions\",\"Sid\":\"AWSCloudTrailSNSPolicy20131101\"}],\"Version\":\"2012-10-17\"}"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_sns_topic_policy.custom": {
                    "type": "aws_sns_topic_policy",
                    "depends_on": [
                        "aws_sns_topic.audit-action"
                    ],
                    "primary": {
                        "id": "arn:aws:sns:us-west-2:643009352547:account-wide-api-actions",
                        "attributes": {
                            "arn": "arn:aws:sns:us-west-2:643009352547:account-wide-api-actions",
                            "id": "arn:aws:sns:us-west-2:643009352547:account-wide-api-actions",
                            "policy": "{\"Version\":\"2012-10-17\",\"Id\":\"default\",\"Statement\":[{\"Sid\":\"default\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Action\":[\"SNS:GetTopicAttributes\",\"SNS:SetTopicAttributes\",\"SNS:AddPermission\",\"SNS:RemovePermission\",\"SNS:DeleteTopic\"],\"Resource\":\"arn:aws:sns:us-west-2:643009352547:account-wide-api-actions\"},{\"Sid\":\"AWSCloudTrailSNSPolicy20131101\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"cloudtrail.amazonaws.com\"},\"Action\":\"SNS:Publish\",\"Resource\":\"arn:aws:sns:us-west-2:643009352547:account-wide-api-actions\"}]}"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "project_cinco"
            ],
            "outputs": {},
            "resources": {
                "aws_route.peer_external": {
                    "type": "aws_route",
                    "depends_on": [],
                    "primary": {
                        "id": "r-rtb-fc9abc9a831558515",
                        "attributes": {
                            "destination_cidr_block": "10.32.3.0/24",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-fc9abc9a831558515",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-fc9abc9a",
                            "state": "active",
                            "vpc_peering_connection_id": "pcx-91f961f8"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.western"
                },
                "aws_route.peer_internal_1": {
                    "type": "aws_route",
                    "depends_on": [],
                    "primary": {
                        "id": "r-rtb-35614053831558515",
                        "attributes": {
                            "destination_cidr_block": "10.32.3.0/24",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-35614053831558515",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-35614053",
                            "state": "active",
                            "vpc_peering_connection_id": "pcx-91f961f8"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.western"
                },
                "aws_route.peer_internal_2": {
                    "type": "aws_route",
                    "depends_on": [],
                    "primary": {
                        "id": "r-rtb-ad98becb831558515",
                        "attributes": {
                            "destination_cidr_block": "10.32.3.0/24",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-ad98becb831558515",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-ad98becb",
                            "state": "active",
                            "vpc_peering_connection_id": "pcx-91f961f8"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.western"
                },
                "aws_route.peer_internal_3": {
                    "type": "aws_route",
                    "depends_on": [],
                    "primary": {
                        "id": "r-rtb-be9dbbd8831558515",
                        "attributes": {
                            "destination_cidr_block": "10.32.3.0/24",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-be9dbbd8831558515",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-be9dbbd8",
                            "state": "active",
                            "vpc_peering_connection_id": "pcx-91f961f8"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.western"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "project_pmc"
            ],
            "outputs": {},
            "resources": {
                "aws_route.peer_external": {
                    "type": "aws_route",
                    "depends_on": [],
                    "primary": {
                        "id": "r-rtb-fc9abc9a748004299",
                        "attributes": {
                            "destination_cidr_block": "10.32.4.0/24",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-fc9abc9a748004299",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-fc9abc9a",
                            "state": "active",
                            "vpc_peering_connection_id": "pcx-c4f961ad"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.western"
                },
                "aws_route.peer_internal_1": {
                    "type": "aws_route",
                    "depends_on": [],
                    "primary": {
                        "id": "r-rtb-35614053748004299",
                        "attributes": {
                            "destination_cidr_block": "10.32.4.0/24",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-35614053748004299",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-35614053",
                            "state": "active",
                            "vpc_peering_connection_id": "pcx-c4f961ad"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.western"
                },
                "aws_route.peer_internal_2": {
                    "type": "aws_route",
                    "depends_on": [],
                    "primary": {
                        "id": "r-rtb-ad98becb748004299",
                        "attributes": {
                            "destination_cidr_block": "10.32.4.0/24",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-ad98becb748004299",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-ad98becb",
                            "state": "active",
                            "vpc_peering_connection_id": "pcx-c4f961ad"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.western"
                },
                "aws_route.peer_internal_3": {
                    "type": "aws_route",
                    "depends_on": [],
                    "primary": {
                        "id": "r-rtb-be9dbbd8748004299",
                        "attributes": {
                            "destination_cidr_block": "10.32.4.0/24",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-be9dbbd8748004299",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-be9dbbd8",
                            "state": "active",
                            "vpc_peering_connection_id": "pcx-c4f961ad"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.western"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "s3_buckets"
            ],
            "outputs": {
                "backups_bucket": {
                    "sensitive": false,
                    "type": "string",
                    "value": "lf-engineering-prod-backups"
                },
                "production_logs": {
                    "sensitive": false,
                    "type": "string",
                    "value": "lf-engineering-prod-logs"
                }
            },
            "resources": {
                "aws_s3_bucket.backups": {
                    "type": "aws_s3_bucket",
                    "depends_on": [],
                    "primary": {
                        "id": "lf-engineering-prod-backups",
                        "attributes": {
                            "acceleration_status": "",
                            "acl": "private",
                            "arn": "arn:aws:s3:::lf-engineering-prod-backups",
                            "bucket": "lf-engineering-prod-backups",
                            "bucket_domain_name": "lf-engineering-prod-backups.s3.amazonaws.com",
                            "force_destroy": "false",
                            "hosted_zone_id": "Z3BJ6K6RIION7M",
                            "id": "lf-engineering-prod-backups",
                            "logging.#": "0",
                            "region": "us-west-2",
                            "request_payer": "BucketOwner",
                            "tags.%": "3",
                            "tags.Environment": "Production",
                            "tags.Name": "Backups",
                            "tags.Team": "Engineering",
                            "versioning.#": "1",
                            "versioning.0.enabled": "false",
                            "versioning.0.mfa_delete": "false",
                            "website.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.western"
                },
                "aws_s3_bucket.production-logs": {
                    "type": "aws_s3_bucket",
                    "depends_on": [],
                    "primary": {
                        "id": "lf-engineering-prod-logs",
                        "attributes": {
                            "acceleration_status": "",
                            "acl": "private",
                            "arn": "arn:aws:s3:::lf-engineering-prod-logs",
                            "bucket": "lf-engineering-prod-logs",
                            "bucket_domain_name": "lf-engineering-prod-logs.s3.amazonaws.com",
                            "force_destroy": "false",
                            "hosted_zone_id": "Z3BJ6K6RIION7M",
                            "id": "lf-engineering-prod-logs",
                            "logging.#": "0",
                            "region": "us-west-2",
                            "request_payer": "BucketOwner",
                            "tags.%": "3",
                            "tags.Environment": "Production",
                            "tags.Name": "Production Logs",
                            "tags.Team": "Engineering",
                            "versioning.#": "1",
                            "versioning.0.enabled": "false",
                            "versioning.0.mfa_delete": "false",
                            "website.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.western"
                },
                "aws_s3_bucket_policy.b": {
                    "type": "aws_s3_bucket_policy",
                    "depends_on": [
                        "aws_s3_bucket.production-logs"
                    ],
                    "primary": {
                        "id": "lf-engineering-prod-logs",
                        "attributes": {
                            "bucket": "lf-engineering-prod-logs",
                            "id": "lf-engineering-prod-logs",
                            "policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"Stmt1429136633762\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::797873946194:root\"},\"Action\":\"s3:PutObject\",\"Resource\":\"arn:aws:s3:::lf-engineering-prod-logs/*\"}]}"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "vpc_west"
            ],
            "outputs": {
                "availability_zones": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "us-west-2a",
                        "us-west-2b",
                        "us-west-2c"
                    ]
                },
                "cidr": {
                    "sensitive": false,
                    "type": "string",
                    "value": "10.40.0.0/21"
                },
                "dns_servers": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "10.40.0.10",
                        "10.40.1.10",
                        "10.40.2.10"
                    ]
                },
                "external_route_tables": {
                    "sensitive": false,
                    "type": "string",
                    "value": "rtb-fc9abc9a"
                },
                "external_rtb_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "rtb-fc9abc9a"
                },
                "external_subnets": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "subnet-2c3a3d65",
                        "subnet-7833de1e",
                        "subnet-1dca4e46"
                    ]
                },
                "internal_route_tables": {
                    "sensitive": false,
                    "type": "string",
                    "value": "rtb-35614053,rtb-ad98becb,rtb-be9dbbd8"
                },
                "internal_subnets": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "subnet-d63b3c9f",
                        "subnet-cc08e5aa",
                        "subnet-7bc94d20"
                    ]
                },
                "raw_route_tables_id": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "rtb-35614053",
                        "rtb-ad98becb",
                        "rtb-be9dbbd8"
                    ]
                },
                "region": {
                    "sensitive": false,
                    "type": "string",
                    "value": "us-west-2"
                },
                "sg_internal_elb": {
                    "sensitive": false,
                    "type": "string",
                    "value": "sg-8e0bb0f4"
                },
                "tools_ecs_asg": {
                    "sensitive": false,
                    "type": "string",
                    "value": "infrastructure-ecs-instances"
                },
                "tools_ecs_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "infrastructure"
                },
                "tools_ecs_sg": {
                    "sensitive": false,
                    "type": "string",
                    "value": "sg-470bb03d"
                },
                "vpc_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "vpc-39e6355f"
                },
                "vpc_security_group": {
                    "sensitive": false,
                    "type": "string",
                    "value": "sg-7714af0d"
                }
            },
            "resources": {
                "aws_cloudwatch_log_group.infrastructure": {
                    "type": "aws_cloudwatch_log_group",
                    "depends_on": [],
                    "primary": {
                        "id": "infrastructure",
                        "attributes": {
                            "arn": "arn:aws:logs:us-west-2:643009352547:log-group:infrastructure:*",
                            "id": "infrastructure",
                            "name": "infrastructure",
                            "retention_in_days": "0",
                            "tags.%": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route.peer_external": {
                    "type": "aws_route",
                    "depends_on": [
                        "aws_vpc_peering_connection.sandbox",
                        "module.vpc"
                    ],
                    "primary": {
                        "id": "r-rtb-fc9abc9a3070550493",
                        "attributes": {
                            "destination_cidr_block": "10.32.0.0/24",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-fc9abc9a3070550493",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-fc9abc9a",
                            "state": "active",
                            "vpc_peering_connection_id": "pcx-4a73ea23"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_route.peer_internal_1": {
                    "type": "aws_route",
                    "depends_on": [
                        "aws_vpc_peering_connection.sandbox",
                        "module.vpc"
                    ],
                    "primary": {
                        "id": "r-rtb-356140533070550493",
                        "attributes": {
                            "destination_cidr_block": "10.32.0.0/24",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-356140533070550493",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-35614053",
                            "state": "active",
                            "vpc_peering_connection_id": "pcx-4a73ea23"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_route.peer_internal_2": {
                    "type": "aws_route",
                    "depends_on": [
                        "aws_vpc_peering_connection.sandbox",
                        "module.vpc"
                    ],
                    "primary": {
                        "id": "r-rtb-ad98becb3070550493",
                        "attributes": {
                            "destination_cidr_block": "10.32.0.0/24",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-ad98becb3070550493",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-ad98becb",
                            "state": "active",
                            "vpc_peering_connection_id": "pcx-4a73ea23"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_route.peer_internal_3": {
                    "type": "aws_route",
                    "depends_on": [
                        "aws_vpc_peering_connection.sandbox",
                        "module.vpc"
                    ],
                    "primary": {
                        "id": "r-rtb-be9dbbd83070550493",
                        "attributes": {
                            "destination_cidr_block": "10.32.0.0/24",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-be9dbbd83070550493",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-be9dbbd8",
                            "state": "active",
                            "vpc_peering_connection_id": "pcx-4a73ea23"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_route53_zone.prod": {
                    "type": "aws_route53_zone",
                    "depends_on": [
                        "module.vpc"
                    ],
                    "primary": {
                        "id": "Z2HTB06CBYQ0L5",
                        "attributes": {
                            "comment": "Managed by Terraform",
                            "force_destroy": "false",
                            "id": "Z2HTB06CBYQ0L5",
                            "name": "west.prod-infra.linuxfoundation.internal.",
                            "name_servers.#": "4",
                            "name_servers.0": "ns-0.awsdns-00.com.",
                            "name_servers.1": "ns-1024.awsdns-00.org.",
                            "name_servers.2": "ns-1536.awsdns-00.co.uk.",
                            "name_servers.3": "ns-512.awsdns-00.net.",
                            "tags.%": "0",
                            "vpc_id": "vpc-39e6355f",
                            "vpc_region": "us-west-2",
                            "zone_id": "Z2HTB06CBYQ0L5"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_vpc_peering_connection.sandbox": {
                    "type": "aws_vpc_peering_connection",
                    "depends_on": [
                        "module.vpc"
                    ],
                    "primary": {
                        "id": "pcx-4a73ea23",
                        "attributes": {
                            "accept_status": "active",
                            "accepter.#": "1",
                            "accepter.1102046665.allow_classic_link_to_remote_vpc": "false",
                            "accepter.1102046665.allow_remote_vpc_dns_resolution": "true",
                            "accepter.1102046665.allow_vpc_to_remote_classic_link": "false",
                            "id": "pcx-4a73ea23",
                            "peer_owner_id": "433610389961",
                            "peer_vpc_id": "vpc-f4201f93",
                            "requester.#": "1",
                            "requester.3244290774.allow_classic_link_to_remote_vpc": "false",
                            "requester.3244290774.allow_remote_vpc_dns_resolution": "false",
                            "requester.3244290774.allow_vpc_to_remote_classic_link": "false",
                            "tags.%": "0",
                            "vpc_id": "vpc-39e6355f"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "data.template_file.ecs_instance_cloudinit_tools": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "b9a8f8be8e88167c6ee53b1a6c3432e30adcffc61e020cfb08730c83d4061b80",
                        "attributes": {
                            "id": "b9a8f8be8e88167c6ee53b1a6c3432e30adcffc61e020cfb08730c83d4061b80",
                            "rendered": "#!/bin/bash\n\n# Join the default ECS cluster\necho ECS_CLUSTER=infrastructure \u003e\u003e /etc/ecs/ecs.config\n\n# Adding gelf \u0026 syslog logging drivers\necho 'ECS_AVAILABLE_LOGGING_DRIVERS=[\"json-file\",\"syslog\",\"awslogs\",\"gelf\"]' \u003e\u003e /etc/ecs/ecs.config\n\nPATH=$PATH:/usr/local/bin\n\n# Instance should be added to an security group that allows HTTP outbound\nyum update -y\n\n# Install packages\nyum -y install jq nfs-utils python27 python27-pip\n\n# Get region of EC2 from instance metadata\nEC2_AVAIL_ZONE=`curl -s http://169.254.169.254/latest/meta-data/placement/availability-zone`\nEC2_REGION=\"`echo \\\"$EC2_AVAIL_ZONE\\\" | sed -e 's:\\([0-9][0-9]*\\)[a-z]*\\$:\\\\1:'`\"\nEC2_INSTANCE_ID=`curl -s http://169.254.169.254/latest/meta-data/instance-id`\nEC2_PRIVATE_IP=`curl -s http://169.254.169.254/latest/meta-data/local-ipv4`\n\n# NewRelic Infrastructure Agent\necho \"license_key: bc34e4b264df582c2db0b453bd43ee438043757c\" | sudo tee -a /etc/newrelic-infra.yml\nprintf \"[newrelic-infra]\\nname=New Relic Infrastructure\\nbaseurl=http://download.newrelic.com/infrastructure_agent/linux/yum/el/6/x86_64\\nenable=1\\ngpgcheck=0\" | sudo tee -a /etc/yum.repos.d/newrelic-infra.repo\nyum -q makecache -y --disablerepo='*' --enablerepo='newrelic-infra'\nsudo yum install newrelic-infra -y\n\n# Restarting ECS\nstart ecs\n\n# Install FileBeat Agent\ncurl -L -O https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-5.4.0-x86_64.rpm\nsudo rpm -vi filebeat-5.4.0-x86_64.rpm\ncat \u003e '/etc/filebeat/filebeat.yml' \u003c\u003c-EOF\nfilebeat.prospectors:\n\n- input_type: log\n\n  paths:\n    - /var/log/cloud-init*.log\n    - /var/log/ecs/*.log\n    - /var/log/messages\n    - /var/log/secure\n    - /var/log/yum.log\n    - /var/log/cron\n    - /var/log/maillog\n    - /var/log/docker\n    - /var/log/lastlog\n    - /var/log/audit/*.log\n\n#================================ General =====================================\n\nname: infrastructure-ecs-cluster\ntags: [\"system\"]\nfields:\n  sys_name: infrastructure\n  sys_env: production\n  sys_region: us-west-2\n\n#================================ Outputs =====================================\noutput.logstash:\n  hosts: [\"us-west-2.logstash.service.consul:5044\"]\nEOF\n\nservice filebeat start\n\ninitctl restart newrelic-infra",
                            "template": "#!/bin/bash\n\n# Join the default ECS cluster\necho ECS_CLUSTER=${ecs_cluster_name} \u003e\u003e /etc/ecs/ecs.config\n\n# Adding gelf \u0026 syslog logging drivers\necho 'ECS_AVAILABLE_LOGGING_DRIVERS=[\"json-file\",\"syslog\",\"awslogs\",\"gelf\"]' \u003e\u003e /etc/ecs/ecs.config\n\nPATH=$PATH:/usr/local/bin\n\n# Instance should be added to an security group that allows HTTP outbound\nyum update -y\n\n# Install packages\nyum -y install jq nfs-utils python27 python27-pip\n\n# Get region of EC2 from instance metadata\nEC2_AVAIL_ZONE=`curl -s http://169.254.169.254/latest/meta-data/placement/availability-zone`\nEC2_REGION=\"`echo \\\"$EC2_AVAIL_ZONE\\\" | sed -e 's:\\([0-9][0-9]*\\)[a-z]*\\$:\\\\1:'`\"\nEC2_INSTANCE_ID=`curl -s http://169.254.169.254/latest/meta-data/instance-id`\nEC2_PRIVATE_IP=`curl -s http://169.254.169.254/latest/meta-data/local-ipv4`\n\n# NewRelic Infrastructure Agent\necho \"license_key: ${newrelic_key}\" | sudo tee -a /etc/newrelic-infra.yml\nprintf \"[newrelic-infra]\\nname=New Relic Infrastructure\\nbaseurl=http://download.newrelic.com/infrastructure_agent/linux/yum/el/6/x86_64\\nenable=1\\ngpgcheck=0\" | sudo tee -a /etc/yum.repos.d/newrelic-infra.repo\nyum -q makecache -y --disablerepo='*' --enablerepo='newrelic-infra'\nsudo yum install newrelic-infra -y\n\n# Restarting ECS\nstart ecs\n\n# Install FileBeat Agent\ncurl -L -O https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-5.4.0-x86_64.rpm\nsudo rpm -vi filebeat-5.4.0-x86_64.rpm\ncat \u003e '/etc/filebeat/filebeat.yml' \u003c\u003c-EOF\nfilebeat.prospectors:\n\n- input_type: log\n\n  paths:\n    - /var/log/cloud-init*.log\n    - /var/log/ecs/*.log\n    - /var/log/messages\n    - /var/log/secure\n    - /var/log/yum.log\n    - /var/log/cron\n    - /var/log/maillog\n    - /var/log/docker\n    - /var/log/lastlog\n    - /var/log/audit/*.log\n\n#================================ General =====================================\n\nname: infrastructure-ecs-cluster\ntags: [\"system\"]\nfields:\n  sys_name: infrastructure\n  sys_env: production\n  sys_region: ${region}\n\n#================================ Outputs =====================================\noutput.logstash:\n  hosts: [\"${region}.logstash.service.consul:5044\"]\nEOF\n\nservice filebeat start\n\ninitctl restart newrelic-infra",
                            "vars.%": "4",
                            "vars.ecs_cluster_name": "infrastructure",
                            "vars.newrelic_key": "bc34e4b264df582c2db0b453bd43ee438043757c",
                            "vars.region": "us-west-2",
                            "vars.region_identifier": "west"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "vpc_west",
                "consul-agent"
            ],
            "outputs": {},
            "resources": {
                "aws_ecs_service.registrator": {
                    "type": "aws_ecs_service",
                    "depends_on": [
                        "aws_ecs_task_definition.consul"
                    ],
                    "primary": {
                        "id": "arn:aws:ecs:us-west-2:643009352547:service/consul-agent",
                        "attributes": {
                            "cluster": "infrastructure",
                            "deployment_maximum_percent": "200",
                            "deployment_minimum_healthy_percent": "100",
                            "desired_count": "12",
                            "id": "arn:aws:ecs:us-west-2:643009352547:service/consul-agent",
                            "name": "consul-agent",
                            "placement_constraints.#": "1",
                            "placement_constraints.2067840941.expression": "",
                            "placement_constraints.2067840941.type": "distinctInstance",
                            "placement_strategy.#": "1",
                            "placement_strategy.3946258308.field": "instanceId",
                            "placement_strategy.3946258308.type": "spread",
                            "task_definition": "arn:aws:ecs:us-west-2:643009352547:task-definition/consul-agent:14"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_ecs_task_definition.consul": {
                    "type": "aws_ecs_task_definition",
                    "depends_on": [
                        "data.template_file.consul_ecs_task"
                    ],
                    "primary": {
                        "id": "consul-agent",
                        "attributes": {
                            "arn": "arn:aws:ecs:us-west-2:643009352547:task-definition/consul-agent:14",
                            "container_definitions": "4fe48ea2c38b16b79e432ec69ba9e4a8290c6429",
                            "family": "consul-agent",
                            "id": "consul-agent",
                            "network_mode": "host",
                            "placement_constraints.#": "0",
                            "revision": "14",
                            "task_role_arn": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "data.template_file.consul_ecs_task": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "4467dfbe1d6b1292a77642d7303e9de699b93fbabbf8ca4ef55688e2750c158f",
                        "attributes": {
                            "id": "4467dfbe1d6b1292a77642d7303e9de699b93fbabbf8ca4ef55688e2750c158f",
                            "rendered": "[\n  {\n    \"essential\": true,\n    \"memory\": 256,\n    \"image\": \"643009352547.dkr.ecr.us-west-2.amazonaws.com/consul-agent:latest\",\n    \"name\": \"consul-agent\",\n    \"dnsServers\": [\n      \"10.40.0.10\",\n      \"10.40.1.10\",\n      \"10.40.2.10\"\n    ],\n    \"environment\": [\n      {\n        \"name\": \"CONSUL_ENCRYPT\",\n        \"value\": \"9F2n4KWdxSj2Z4MMVqbHqg==\"\n      },\n      {\n        \"name\": \"CONSUL_DATACENTER\",\n        \"value\": \"production\"\n      },\n      {\n        \"name\": \"CONSUL_ENDPOINT\",\n        \"value\": \"consul.service.production.consul\"\n      }\n    ],\n    \"logConfiguration\": {\n      \"logDriver\": \"awslogs\",\n      \"options\": {\n        \"awslogs-group\": \"infrastructure\",\n        \"awslogs-region\": \"us-west-2\",\n        \"awslogs-stream-prefix\": \"consul-agent\"\n      }\n    },\n    \"dockerLabels\": {\n      \"app_name\": \"consul-agent\",\n      \"app_env\": \"production\",\n      \"app_region\": \"us-west-2\"\n    }\n  }\n]",
                            "template": "[\n  {\n    \"essential\": true,\n    \"memory\": 256,\n    \"image\": \"643009352547.dkr.ecr.us-west-2.amazonaws.com/consul-agent:latest\",\n    \"name\": \"consul-agent\",\n    \"dnsServers\": [\n      \"${DNS_SERVER_1}\",\n      \"${DNS_SERVER_2}\",\n      \"${DNS_SERVER_3}\"\n    ],\n    \"environment\": [\n      {\n        \"name\": \"CONSUL_ENCRYPT\",\n        \"value\": \"${ENCRYPTION}\"\n      },\n      {\n        \"name\": \"CONSUL_DATACENTER\",\n        \"value\": \"${DATACENTER}\"\n      },\n      {\n        \"name\": \"CONSUL_ENDPOINT\",\n        \"value\": \"${CONSUL_ENDPOINT}\"\n      }\n    ],\n    \"logConfiguration\": {\n      \"logDriver\": \"awslogs\",\n      \"options\": {\n        \"awslogs-group\": \"infrastructure\",\n        \"awslogs-region\": \"us-west-2\",\n        \"awslogs-stream-prefix\": \"consul-agent\"\n      }\n    },\n    \"dockerLabels\": {\n      \"app_name\": \"consul-agent\",\n      \"app_env\": \"production\",\n      \"app_region\": \"${AWS_REGION}\"\n    }\n  }\n]",
                            "vars.%": "7",
                            "vars.AWS_REGION": "us-west-2",
                            "vars.CONSUL_ENDPOINT": "consul.service.production.consul",
                            "vars.DATACENTER": "production",
                            "vars.DNS_SERVER_1": "10.40.0.10",
                            "vars.DNS_SERVER_2": "10.40.1.10",
                            "vars.DNS_SERVER_3": "10.40.2.10",
                            "vars.ENCRYPTION": "9F2n4KWdxSj2Z4MMVqbHqg=="
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "vpc_west",
                "consul-bind"
            ],
            "outputs": {
                "dns_servers": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "10.40.0.10",
                        "10.40.1.10",
                        "10.40.2.10"
                    ]
                }
            },
            "resources": {
                "aws_elb.consul": {
                    "type": "aws_elb",
                    "depends_on": [],
                    "primary": {
                        "id": "consul-bind-cluster",
                        "attributes": {
                            "access_logs.#": "1",
                            "access_logs.0.bucket": "lf-engineering-prod-logs",
                            "access_logs.0.bucket_prefix": "",
                            "access_logs.0.enabled": "true",
                            "access_logs.0.interval": "60",
                            "availability_zones.#": "3",
                            "availability_zones.2050015877": "us-west-2c",
                            "availability_zones.221770259": "us-west-2b",
                            "availability_zones.2487133097": "us-west-2a",
                            "connection_draining": "true",
                            "connection_draining_timeout": "400",
                            "cross_zone_load_balancing": "true",
                            "dns_name": "internal-consul-bind-cluster-1921020743.us-west-2.elb.amazonaws.com",
                            "health_check.#": "1",
                            "health_check.0.healthy_threshold": "2",
                            "health_check.0.interval": "30",
                            "health_check.0.target": "TCP:8300",
                            "health_check.0.timeout": "5",
                            "health_check.0.unhealthy_threshold": "2",
                            "id": "consul-bind-cluster",
                            "idle_timeout": "400",
                            "instances.#": "3",
                            "instances.1370518099": "i-08bf3bffb3e394ff4",
                            "instances.4087089122": "i-072e4daeca2bdbc0d",
                            "instances.7069068": "i-08e632d3887efa42c",
                            "internal": "true",
                            "listener.#": "6",
                            "listener.1053189378.instance_port": "8500",
                            "listener.1053189378.instance_protocol": "http",
                            "listener.1053189378.lb_port": "8500",
                            "listener.1053189378.lb_protocol": "http",
                            "listener.1053189378.ssl_certificate_id": "",
                            "listener.206307251.instance_port": "8301",
                            "listener.206307251.instance_protocol": "tcp",
                            "listener.206307251.lb_port": "8301",
                            "listener.206307251.lb_protocol": "tcp",
                            "listener.206307251.ssl_certificate_id": "",
                            "listener.2166030907.instance_port": "8400",
                            "listener.2166030907.instance_protocol": "tcp",
                            "listener.2166030907.lb_port": "8400",
                            "listener.2166030907.lb_protocol": "tcp",
                            "listener.2166030907.ssl_certificate_id": "",
                            "listener.3078347141.instance_port": "8600",
                            "listener.3078347141.instance_protocol": "tcp",
                            "listener.3078347141.lb_port": "53",
                            "listener.3078347141.lb_protocol": "tcp",
                            "listener.3078347141.ssl_certificate_id": "",
                            "listener.342577628.instance_port": "8302",
                            "listener.342577628.instance_protocol": "tcp",
                            "listener.342577628.lb_port": "8302",
                            "listener.342577628.lb_protocol": "tcp",
                            "listener.342577628.ssl_certificate_id": "",
                            "listener.72639894.instance_port": "8300",
                            "listener.72639894.instance_protocol": "tcp",
                            "listener.72639894.lb_port": "8300",
                            "listener.72639894.lb_protocol": "tcp",
                            "listener.72639894.ssl_certificate_id": "",
                            "name": "consul-bind-cluster",
                            "security_groups.#": "1",
                            "security_groups.2210076005": "sg-8e0bb0f4",
                            "source_security_group": "643009352547/Infrastructure-internal_elb",
                            "source_security_group_id": "sg-8e0bb0f4",
                            "subnets.#": "3",
                            "subnets.1345962131": "subnet-d63b3c9f",
                            "subnets.3044535005": "subnet-cc08e5aa",
                            "subnets.3861056521": "subnet-7bc94d20",
                            "tags.%": "1",
                            "tags.Name": "Consul Cluster",
                            "zone_id": "Z1H1FL5HABSF5"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_elb_attachment.consul_elb_1": {
                    "type": "aws_elb_attachment",
                    "depends_on": [
                        "aws_elb.consul",
                        "aws_instance.bind_1"
                    ],
                    "primary": {
                        "id": "consul-bind-cluster-00dec444c892cce4b60d666274",
                        "attributes": {
                            "elb": "consul-bind-cluster",
                            "id": "consul-bind-cluster-00dec444c892cce4b60d666274",
                            "instance": "i-08bf3bffb3e394ff4"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_elb_attachment.consul_elb_2": {
                    "type": "aws_elb_attachment",
                    "depends_on": [
                        "aws_elb.consul",
                        "aws_instance.bind_2"
                    ],
                    "primary": {
                        "id": "consul-bind-cluster-00dec444c892cce4b60d666272",
                        "attributes": {
                            "elb": "consul-bind-cluster",
                            "id": "consul-bind-cluster-00dec444c892cce4b60d666272",
                            "instance": "i-08e632d3887efa42c"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_elb_attachment.consul_elb_3": {
                    "type": "aws_elb_attachment",
                    "depends_on": [
                        "aws_elb.consul",
                        "aws_instance.bind_3"
                    ],
                    "primary": {
                        "id": "consul-bind-cluster-00dec444c892cce4b60d666273",
                        "attributes": {
                            "elb": "consul-bind-cluster",
                            "id": "consul-bind-cluster-00dec444c892cce4b60d666273",
                            "instance": "i-072e4daeca2bdbc0d"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_instance.bind_1": {
                    "type": "aws_instance",
                    "depends_on": [
                        "data.aws_ami.bind-consul-ami",
                        "data.template_file.bind-installation-bash"
                    ],
                    "primary": {
                        "id": "i-08bf3bffb3e394ff4",
                        "attributes": {
                            "ami": "ami-3efde647",
                            "associate_public_ip_address": "false",
                            "availability_zone": "us-west-2a",
                            "disable_api_termination": "false",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "infrastructure-prod-ecsInstanceProfile",
                            "id": "i-08bf3bffb3e394ff4",
                            "instance_state": "running",
                            "instance_type": "t2.micro",
                            "ipv6_addresses.#": "0",
                            "key_name": "infrastructure",
                            "monitoring": "true",
                            "network_interface.#": "0",
                            "network_interface_id": "eni-57070868",
                            "primary_network_interface_id": "eni-57070868",
                            "private_dns": "ip-10-40-0-10.us-west-2.compute.internal",
                            "private_ip": "10.40.0.10",
                            "public_dns": "",
                            "public_ip": "",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "100",
                            "root_block_device.0.volume_size": "8",
                            "root_block_device.0.volume_type": "gp2",
                            "security_groups.#": "0",
                            "source_dest_check": "false",
                            "subnet_id": "subnet-d63b3c9f",
                            "tags.%": "4",
                            "tags.Environment": "Production",
                            "tags.Name": "Bind/Consul - Node #1",
                            "tags.Team": "Engineering",
                            "tags.consul-node": "true",
                            "tenancy": "default",
                            "user_data": "a1c2284005da4a549991014f72f4c084023b88f6",
                            "volume_tags.%": "0",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.3472777159": "sg-df0ab1a5"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_instance.bind_2": {
                    "type": "aws_instance",
                    "depends_on": [
                        "data.aws_ami.bind-consul-ami",
                        "data.template_file.bind-installation-bash"
                    ],
                    "primary": {
                        "id": "i-08e632d3887efa42c",
                        "attributes": {
                            "ami": "ami-3efde647",
                            "associate_public_ip_address": "false",
                            "availability_zone": "us-west-2b",
                            "disable_api_termination": "false",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "infrastructure-prod-ecsInstanceProfile",
                            "id": "i-08e632d3887efa42c",
                            "instance_state": "running",
                            "instance_type": "t2.micro",
                            "ipv6_addresses.#": "0",
                            "key_name": "infrastructure",
                            "monitoring": "true",
                            "network_interface.#": "0",
                            "network_interface_id": "eni-ea2eb9c6",
                            "primary_network_interface_id": "eni-ea2eb9c6",
                            "private_dns": "ip-10-40-1-10.us-west-2.compute.internal",
                            "private_ip": "10.40.1.10",
                            "public_dns": "",
                            "public_ip": "",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "100",
                            "root_block_device.0.volume_size": "8",
                            "root_block_device.0.volume_type": "gp2",
                            "security_groups.#": "0",
                            "source_dest_check": "false",
                            "subnet_id": "subnet-cc08e5aa",
                            "tags.%": "4",
                            "tags.Environment": "Production",
                            "tags.Name": "Bind/Consul - Node #2",
                            "tags.Team": "Engineering",
                            "tags.consul-node": "true",
                            "tenancy": "default",
                            "user_data": "a1c2284005da4a549991014f72f4c084023b88f6",
                            "volume_tags.%": "0",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.3472777159": "sg-df0ab1a5"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_instance.bind_3": {
                    "type": "aws_instance",
                    "depends_on": [
                        "data.aws_ami.bind-consul-ami",
                        "data.template_file.bind-installation-bash"
                    ],
                    "primary": {
                        "id": "i-072e4daeca2bdbc0d",
                        "attributes": {
                            "ami": "ami-3efde647",
                            "associate_public_ip_address": "false",
                            "availability_zone": "us-west-2c",
                            "disable_api_termination": "false",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "infrastructure-prod-ecsInstanceProfile",
                            "id": "i-072e4daeca2bdbc0d",
                            "instance_state": "running",
                            "instance_type": "t2.micro",
                            "ipv6_addresses.#": "0",
                            "key_name": "infrastructure",
                            "monitoring": "true",
                            "network_interface.#": "0",
                            "network_interface_id": "eni-bbb809bb",
                            "primary_network_interface_id": "eni-bbb809bb",
                            "private_dns": "ip-10-40-2-10.us-west-2.compute.internal",
                            "private_ip": "10.40.2.10",
                            "public_dns": "",
                            "public_ip": "",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "100",
                            "root_block_device.0.volume_size": "8",
                            "root_block_device.0.volume_type": "gp2",
                            "security_groups.#": "0",
                            "source_dest_check": "false",
                            "subnet_id": "subnet-7bc94d20",
                            "tags.%": "4",
                            "tags.Environment": "Production",
                            "tags.Name": "Bind/Consul - Node #3",
                            "tags.Team": "Engineering",
                            "tags.consul-node": "true",
                            "tenancy": "default",
                            "user_data": "a1c2284005da4a549991014f72f4c084023b88f6",
                            "volume_tags.%": "0",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.3472777159": "sg-df0ab1a5"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_route53_record.consul": {
                    "type": "aws_route53_record",
                    "depends_on": [
                        "aws_elb.consul"
                    ],
                    "primary": {
                        "id": "Z1WGT54F777KX0_consul_A",
                        "attributes": {
                            "alias.#": "1",
                            "alias.2359002028.evaluate_target_health": "true",
                            "alias.2359002028.name": "internal-consul-bind-cluster-1921020743.us-west-2.elb.amazonaws.com",
                            "alias.2359002028.zone_id": "Z1H1FL5HABSF5",
                            "fqdn": "consul.eng.linuxfoundation.org",
                            "health_check_id": "",
                            "id": "Z1WGT54F777KX0_consul_A",
                            "name": "consul",
                            "records.#": "0",
                            "set_identifier": "",
                            "ttl": "0",
                            "type": "A",
                            "zone_id": "Z1WGT54F777KX0"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.aws_ami.bind-consul-ami": {
                    "type": "aws_ami",
                    "depends_on": [],
                    "primary": {
                        "id": "ami-3efde647",
                        "attributes": {
                            "architecture": "x86_64",
                            "block_device_mappings.#": "1",
                            "block_device_mappings.340275815.device_name": "/dev/xvda",
                            "block_device_mappings.340275815.ebs.%": "6",
                            "block_device_mappings.340275815.ebs.delete_on_termination": "true",
                            "block_device_mappings.340275815.ebs.encrypted": "false",
                            "block_device_mappings.340275815.ebs.iops": "0",
                            "block_device_mappings.340275815.ebs.snapshot_id": "snap-02032041d7de7eee8",
                            "block_device_mappings.340275815.ebs.volume_size": "8",
                            "block_device_mappings.340275815.ebs.volume_type": "gp2",
                            "block_device_mappings.340275815.no_device": "",
                            "block_device_mappings.340275815.virtual_name": "",
                            "creation_date": "2017-07-25T14:10:35.000Z",
                            "filter.#": "2",
                            "filter.2324977488.name": "name",
                            "filter.2324977488.values.#": "1",
                            "filter.2324977488.values.0": "*Consul*",
                            "filter.490168357.name": "virtualization-type",
                            "filter.490168357.values.#": "1",
                            "filter.490168357.values.0": "hvm",
                            "hypervisor": "xen",
                            "id": "ami-3efde647",
                            "image_id": "ami-3efde647",
                            "image_location": "643009352547/Bind and Consul - 1500991682",
                            "image_type": "machine",
                            "most_recent": "true",
                            "name": "Bind and Consul - 1500991682",
                            "owner_id": "643009352547",
                            "owners.#": "1",
                            "owners.0": "self",
                            "product_codes.#": "0",
                            "public": "false",
                            "root_device_name": "/dev/xvda",
                            "root_device_type": "ebs",
                            "sriov_net_support": "simple",
                            "state": "available",
                            "state_reason.%": "2",
                            "state_reason.code": "UNSET",
                            "state_reason.message": "UNSET",
                            "tags.#": "0",
                            "virtualization_type": "hvm"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "data.template_file.bind-installation-bash": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "1ab977d4d9b986706c2c4a695c13fa6dc42089f716a1a211eb3723dea2910b02",
                        "attributes": {
                            "id": "1ab977d4d9b986706c2c4a695c13fa6dc42089f716a1a211eb3723dea2910b02",
                            "rendered": "#!/bin/bash\n\n# Launching Bind Server through consul-template\nconsul-template \\\n  -log-level warn \\\n  -consul-addr 127.0.0.1:8500 \\\n  -template \"/etc/named/consul.conf.ctmpl:/etc/named/consul.conf\" \\\n  -retry 5s \\\n  -exec=\"named -f -g\"",
                            "template": "#!/bin/bash\n\n# Launching Bind Server through consul-template\nconsul-template \\\n  -log-level warn \\\n  -consul-addr 127.0.0.1:8500 \\\n  -template \"/etc/named/consul.conf.ctmpl:/etc/named/consul.conf\" \\\n  -retry 5s \\\n  -exec=\"named -f -g\""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "vpc_west",
                "dhcp"
            ],
            "outputs": {},
            "resources": {
                "aws_vpc_dhcp_options.dns_resolver": {
                    "type": "aws_vpc_dhcp_options",
                    "depends_on": [],
                    "primary": {
                        "id": "dopt-30ede557",
                        "attributes": {
                            "domain_name": "eng.linuxfoundation.org",
                            "domain_name_servers.#": "4",
                            "domain_name_servers.0": "10.40.0.10",
                            "domain_name_servers.1": "10.40.1.10",
                            "domain_name_servers.2": "10.40.2.10",
                            "domain_name_servers.3": "10.40.0.2",
                            "id": "dopt-30ede557",
                            "tags.%": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_vpc_dhcp_options_association.dns_resolver": {
                    "type": "aws_vpc_dhcp_options_association",
                    "depends_on": [
                        "aws_vpc_dhcp_options.dns_resolver"
                    ],
                    "primary": {
                        "id": "dopt-30ede557-vpc-39e6355f",
                        "attributes": {
                            "dhcp_options_id": "dopt-30ede557",
                            "id": "dopt-30ede557-vpc-39e6355f",
                            "vpc_id": "vpc-39e6355f"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "vpc_west",
                "iams"
            ],
            "outputs": {
                "container_instance_role_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:iam::643009352547:role/infrastructure-prod-ecsContainerInstance"
                },
                "container_instance_role_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "infrastructure-prod-ecsContainerInstance"
                },
                "ecsInstanceProfile": {
                    "sensitive": false,
                    "type": "string",
                    "value": "infrastructure-prod-ecsInstanceProfile"
                },
                "service_role_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:iam::643009352547:role/infrastructure-prod-ecsServiceRole"
                },
                "service_role_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "infrastructure-prod-ecsServiceRole"
                }
            },
            "resources": {
                "aws_iam_instance_profile.AmazonEC2ContainerServiceforEC2Role": {
                    "type": "aws_iam_instance_profile",
                    "depends_on": [
                        "aws_iam_role.container_instance_role"
                    ],
                    "primary": {
                        "id": "infrastructure-prod-ecsInstanceProfile",
                        "attributes": {
                            "arn": "arn:aws:iam::643009352547:instance-profile/infrastructure-prod-ecsInstanceProfile",
                            "id": "infrastructure-prod-ecsInstanceProfile",
                            "name": "infrastructure-prod-ecsInstanceProfile",
                            "path": "/",
                            "role": "infrastructure-prod-ecsContainerInstance",
                            "roles.#": "1",
                            "roles.3183454838": "infrastructure-prod-ecsContainerInstance",
                            "unique_id": "AIPAJSA7KTVQ6EGV2BDFK"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_iam_role.container_instance_role": {
                    "type": "aws_iam_role",
                    "depends_on": [],
                    "primary": {
                        "id": "infrastructure-prod-ecsContainerInstance",
                        "attributes": {
                            "arn": "arn:aws:iam::643009352547:role/infrastructure-prod-ecsContainerInstance",
                            "assume_role_policy": "{\"Version\":\"2008-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"},{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2017-07-24T18:55:34Z",
                            "id": "infrastructure-prod-ecsContainerInstance",
                            "name": "infrastructure-prod-ecsContainerInstance",
                            "path": "/",
                            "unique_id": "AROAIK4IMKE2J4YAOZ4IQ"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_iam_role.service_role": {
                    "type": "aws_iam_role",
                    "depends_on": [],
                    "primary": {
                        "id": "infrastructure-prod-ecsServiceRole",
                        "attributes": {
                            "arn": "arn:aws:iam::643009352547:role/infrastructure-prod-ecsServiceRole",
                            "assume_role_policy": "{\"Version\":\"2008-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"},{\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"application-autoscaling.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2017-07-24T18:55:34Z",
                            "id": "infrastructure-prod-ecsServiceRole",
                            "name": "infrastructure-prod-ecsServiceRole",
                            "path": "/",
                            "unique_id": "AROAJSGEC3WZPDE5LOBZE"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_iam_role_policy.container_instance_policy": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_iam_role.container_instance_role"
                    ],
                    "primary": {
                        "id": "infrastructure-prod-ecsContainerInstance:infrastructure-prod-ecs-container-instance",
                        "attributes": {
                            "id": "infrastructure-prod-ecsContainerInstance:infrastructure-prod-ecs-container-instance",
                            "name": "infrastructure-prod-ecs-container-instance",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:Describe*\",\n        \"ecs:CreateCluster\",\n        \"ecs:DeregisterContainerInstance\",\n        \"ecs:DiscoverPollEndpoint\",\n        \"ecs:Poll\",\n        \"ecs:RegisterContainerInstance\",\n        \"ecs:StartTelemetrySession\",\n        \"ecs:Submit*\",\n        \"ecr:GetAuthorizationToken\",\n        \"ecr:BatchCheckLayerAvailability\",\n        \"ecr:GetDownloadUrlForLayer\",\n        \"ecr:GetRepositoryPolicy\",\n        \"ecr:DescribeRepositories\",\n        \"ecr:ListImages\",\n        \"ecr:DescribeImages\",\n        \"ecr:BatchGetImage\",\n        \"logs:CreateLogStream\",\n        \"logs:PutLogEvents\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"Stmt1495566019000\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"dynamodb:*\"\n      ],\n      \"Resource\": [\n        \"*\"\n      ]\n    },\n    {\n      \"Sid\": \"Stmt1495568761000\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:*\"\n      ],\n      \"Resource\": [\n        \"*\"\n      ]\n    }\n  ]\n}\n",
                            "role": "infrastructure-prod-ecsContainerInstance"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_iam_role_policy.service_policy": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_iam_role.service_role"
                    ],
                    "primary": {
                        "id": "infrastructure-prod-ecsServiceRole:infrastructure-prod-ecs-service",
                        "attributes": {
                            "id": "infrastructure-prod-ecsServiceRole:infrastructure-prod-ecs-service",
                            "name": "infrastructure-prod-ecs-service",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:AuthorizeSecurityGroupIngress\",\n        \"ec2:Describe*\",\n        \"elasticloadbalancing:DeregisterInstancesFromLoadBalancer\",\n        \"elasticloadbalancing:DeregisterTargets\",\n        \"elasticloadbalancing:Describe*\",\n        \"elasticloadbalancing:RegisterInstancesWithLoadBalancer\",\n        \"elasticloadbalancing:RegisterTargets\",\n        \"ecs:DescribeServices\",\n        \"ecs:UpdateService\",\n        \"cloudwatch:DescribeAlarms\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}\n",
                            "role": "infrastructure-prod-ecsServiceRole"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "vpc_west",
                "logstash"
            ],
            "outputs": {},
            "resources": {
                "aws_ecs_service.logstash": {
                    "type": "aws_ecs_service",
                    "depends_on": [
                        "aws_ecs_task_definition.logstash"
                    ],
                    "primary": {
                        "id": "arn:aws:ecs:us-west-2:643009352547:service/logstash",
                        "attributes": {
                            "cluster": "infrastructure",
                            "deployment_maximum_percent": "200",
                            "deployment_minimum_healthy_percent": "100",
                            "desired_count": "3",
                            "id": "arn:aws:ecs:us-west-2:643009352547:service/logstash",
                            "name": "logstash",
                            "placement_constraints.#": "0",
                            "placement_strategy.#": "0",
                            "task_definition": "arn:aws:ecs:us-west-2:643009352547:task-definition/logstash:4"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_ecs_task_definition.logstash": {
                    "type": "aws_ecs_task_definition",
                    "depends_on": [],
                    "primary": {
                        "id": "logstash",
                        "attributes": {
                            "arn": "arn:aws:ecs:us-west-2:643009352547:task-definition/logstash:4",
                            "container_definitions": "a11c9437e04d9daf22d58f1479246b090196c8ed",
                            "family": "logstash",
                            "id": "logstash",
                            "network_mode": "host",
                            "placement_constraints.#": "0",
                            "revision": "4",
                            "task_role_arn": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "data.template_file.logstash_ecs_task": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "0a06eb9d151d66cd05bdc49095ddeeabd007a665649d6284224a6095168f14e3",
                        "attributes": {
                            "id": "0a06eb9d151d66cd05bdc49095ddeeabd007a665649d6284224a6095168f14e3",
                            "rendered": "[\n  {\n    \"essential\": true,\n    \"image\": \"643009352547.dkr.ecr.us-west-2.amazonaws.com/infrastructure/logstash:latest\",\n    \"memoryReservation\": 1024,\n    \"name\": \"logstash\",\n    \"portMappings\": [\n      {\n        \"containerPort\": 5044,\n        \"hostPort\": 5044\n      },\n      {\n        \"containerPort\": 12201,\n        \"hostPort\": 12201,\n        \"protocol\": \"udp\"\n      },\n      {\n        \"containerPort\": 9600,\n        \"hostPort\": 9600\n      },\n      {\n        \"containerPort\": 1514,\n        \"hostPort\": 1514\n      }\n    ],\n    \"dnsServers\": [\n      \"10.40.0.10\",\n      \"10.40.1.10\",\n      \"10.40.2.10\"\n    ],\n    \"environment\": [\n      {\n        \"name\": \"PIPELINE_NAME\",\n        \"value\": \"infrastructure\"\n      },\n      {\n        \"name\": \"AWS_ACCESS_KEY_ID\",\n        \"value\": \"AKIAJ33SX36Q7JL4DT7Q\"\n      },\n      {\n        \"name\": \"AWS_SECRET_ACCESS_KEY\",\n        \"value\": \"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\"\n      },\n      {\n        \"name\": \"S3_LOG_BUCKET\",\n        \"value\": \"lf-engineering-prod-logs\"\n      },\n      {\n        \"name\": \"ES_USERNAME\",\n        \"value\": \"elastic\"\n      },\n      {\n        \"name\": \"ES_PASSWORD\",\n        \"value\": \"zShz2Q3vamuhtIhZ3FkV55Py\"\n      },\n      {\n        \"name\": \"ES_HOST_URL\",\n        \"value\": \"https://c99ea3c2e8e8a90dd2fed3e9564a4c1e.us-west-2.aws.found.io:9243\"\n      },\n      {\n        \"name\": \"SERVICE_9600_NAME\",\n        \"value\": \"logstash\"\n      },\n      {\n        \"name\": \"SERVICE_9600_TAGS\",\n        \"value\": \"us-west-2,vpc-39e6355f\"\n      },\n      {\n        \"name\": \"SERVICE_9600_CHECK_TCP\",\n        \"value\": \"true\"\n      },\n      {\n        \"name\": \"SERVICE_9600_CHECK_INTERVAL\",\n        \"value\": \"5s\"\n      },\n      {\n        \"name\": \"SERVICE_12201_IGNORE\",\n        \"value\": \"true\"\n      },\n      {\n        \"name\": \"SERVICE_5044_IGNORE\",\n        \"value\": \"true\"\n      },\n      {\n        \"name\": \"SERVICE_1514_IGNORE\",\n        \"value\": \"true\"\n      }\n    ],\n    \"logConfiguration\": {\n      \"logDriver\": \"awslogs\",\n      \"options\": {\n        \"awslogs-group\": \"infrastructure\",\n        \"awslogs-region\": \"us-west-2\",\n        \"awslogs-stream-prefix\": \"logstash\"\n      }\n    }\n  }\n]",
                            "template": "[\n  {\n    \"essential\": true,\n    \"image\": \"643009352547.dkr.ecr.us-west-2.amazonaws.com/infrastructure/logstash:latest\",\n    \"memoryReservation\": 1024,\n    \"name\": \"logstash\",\n    \"portMappings\": [\n      {\n        \"containerPort\": 5044,\n        \"hostPort\": 5044\n      },\n      {\n        \"containerPort\": 12201,\n        \"hostPort\": 12201,\n        \"protocol\": \"udp\"\n      },\n      {\n        \"containerPort\": 9600,\n        \"hostPort\": 9600\n      },\n      {\n        \"containerPort\": 1514,\n        \"hostPort\": 1514\n      }\n    ],\n    \"dnsServers\": [\n      \"${DNS_SERVER_1}\",\n      \"${DNS_SERVER_2}\",\n      \"${DNS_SERVER_3}\"\n    ],\n    \"environment\": [\n      {\n        \"name\": \"PIPELINE_NAME\",\n        \"value\": \"${PIPELINE_NAME}\"\n      },\n      {\n        \"name\": \"AWS_ACCESS_KEY_ID\",\n        \"value\": \"${AWS_ACCESS_KEY_ID}\"\n      },\n      {\n        \"name\": \"AWS_SECRET_ACCESS_KEY\",\n        \"value\": \"${AWS_SECRET_ACCESS_KEY}\"\n      },\n      {\n        \"name\": \"S3_LOG_BUCKET\",\n        \"value\": \"${S3_LOG_BUCKET}\"\n      },\n      {\n        \"name\": \"ES_USERNAME\",\n        \"value\": \"${ES_USERNAME}\"\n      },\n      {\n        \"name\": \"ES_PASSWORD\",\n        \"value\": \"${ES_PASSWORD}\"\n      },\n      {\n        \"name\": \"ES_HOST_URL\",\n        \"value\": \"${ES_HOST_URL}\"\n      },\n      {\n        \"name\": \"SERVICE_9600_NAME\",\n        \"value\": \"logstash\"\n      },\n      {\n        \"name\": \"SERVICE_9600_TAGS\",\n        \"value\": \"${TAG_REGION},${TAG_VPC_ID}\"\n      },\n      {\n        \"name\": \"SERVICE_9600_CHECK_TCP\",\n        \"value\": \"true\"\n      },\n      {\n        \"name\": \"SERVICE_9600_CHECK_INTERVAL\",\n        \"value\": \"5s\"\n      },\n      {\n        \"name\": \"SERVICE_12201_IGNORE\",\n        \"value\": \"true\"\n      },\n      {\n        \"name\": \"SERVICE_5044_IGNORE\",\n        \"value\": \"true\"\n      },\n      {\n        \"name\": \"SERVICE_1514_IGNORE\",\n        \"value\": \"true\"\n      }\n    ],\n    \"logConfiguration\": {\n      \"logDriver\": \"awslogs\",\n      \"options\": {\n        \"awslogs-group\": \"infrastructure\",\n        \"awslogs-region\": \"us-west-2\",\n        \"awslogs-stream-prefix\": \"logstash\"\n      }\n    }\n  }\n]",
                            "vars.%": "12",
                            "vars.AWS_ACCESS_KEY_ID": "AKIAJ33SX36Q7JL4DT7Q",
                            "vars.AWS_SECRET_ACCESS_KEY": "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",
                            "vars.DNS_SERVER_1": "10.40.0.10",
                            "vars.DNS_SERVER_2": "10.40.1.10",
                            "vars.DNS_SERVER_3": "10.40.2.10",
                            "vars.ES_HOST_URL": "https://c99ea3c2e8e8a90dd2fed3e9564a4c1e.us-west-2.aws.found.io:9243",
                            "vars.ES_PASSWORD": "zShz2Q3vamuhtIhZ3FkV55Py",
                            "vars.ES_USERNAME": "elastic",
                            "vars.PIPELINE_NAME": "infrastructure",
                            "vars.S3_LOG_BUCKET": "lf-engineering-prod-logs",
                            "vars.TAG_REGION": "us-west-2",
                            "vars.TAG_VPC_ID": "vpc-39e6355f"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "vpc_west",
                "logstash-cloudwatch"
            ],
            "outputs": {},
            "resources": {
                "aws_ecs_service.logstash": {
                    "type": "aws_ecs_service",
                    "depends_on": [
                        "aws_ecs_task_definition.logstash"
                    ],
                    "primary": {
                        "id": "arn:aws:ecs:us-west-2:643009352547:service/logstash-cloudwatch",
                        "attributes": {
                            "cluster": "infrastructure",
                            "deployment_maximum_percent": "200",
                            "deployment_minimum_healthy_percent": "100",
                            "desired_count": "1",
                            "id": "arn:aws:ecs:us-west-2:643009352547:service/logstash-cloudwatch",
                            "name": "logstash-cloudwatch",
                            "placement_constraints.#": "0",
                            "placement_strategy.#": "0",
                            "task_definition": "arn:aws:ecs:us-west-2:643009352547:task-definition/logstash-cloudwatch:1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_ecs_task_definition.logstash": {
                    "type": "aws_ecs_task_definition",
                    "depends_on": [
                        "data.template_file.logstash_ecs_task"
                    ],
                    "primary": {
                        "id": "logstash-cloudwatch",
                        "attributes": {
                            "arn": "arn:aws:ecs:us-west-2:643009352547:task-definition/logstash-cloudwatch:1",
                            "container_definitions": "502593944cae920b889d3c2404ddf514881cb1c9",
                            "family": "logstash-cloudwatch",
                            "id": "logstash-cloudwatch",
                            "network_mode": "",
                            "placement_constraints.#": "0",
                            "revision": "1",
                            "task_role_arn": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "data.template_file.logstash_ecs_task": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "ba3fb43e692ac7b405d1e28dbf4f1e228cb372ab6174db316be34eda75eb88b5",
                        "attributes": {
                            "id": "ba3fb43e692ac7b405d1e28dbf4f1e228cb372ab6174db316be34eda75eb88b5",
                            "rendered": "[\n  {\n    \"essential\": true,\n    \"image\": \"643009352547.dkr.ecr.us-west-2.amazonaws.com/infrastructure/logstash-cwl:latest\",\n    \"memoryReservation\": 1024,\n    \"name\": \"logstash\",\n    \"dnsServers\": [\n      \"10.40.0.10\",\n      \"10.40.1.10\",\n      \"10.40.2.10\"\n    ],\n    \"environment\": [\n      {\n        \"name\": \"PIPELINE_NAME\",\n        \"value\": \"infrastructure\"\n      },\n      {\n        \"name\": \"AWS_ACCESS_KEY_ID\",\n        \"value\": \"AKIAJ33SX36Q7JL4DT7Q\"\n      },\n      {\n        \"name\": \"AWS_SECRET_ACCESS_KEY\",\n        \"value\": \"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\"\n      },\n      {\n        \"name\": \"AWS_CLOUDWATCH_LOG_GROUP_PATH\",\n        \"value\": \"infrastructure\"\n      },\n      {\n        \"name\": \"AWS_CLOUDWATCH_REGION\",\n        \"value\": \"us-west-2\"\n      },\n      {\n        \"name\": \"S3_LOG_BUCKET\",\n        \"value\": \"lf-engineering-prod-logs\"\n      },\n      {\n        \"name\": \"ES_USERNAME\",\n        \"value\": \"elastic\"\n      },\n      {\n        \"name\": \"ES_PASSWORD\",\n        \"value\": \"zShz2Q3vamuhtIhZ3FkV55Py\"\n      },\n      {\n        \"name\": \"ES_HOST_URL\",\n        \"value\": \"https://c99ea3c2e8e8a90dd2fed3e9564a4c1e.us-west-2.aws.found.io:9243\"\n      },\n      {\n        \"name\": \"SERVICE_9600_NAME\",\n        \"value\": \"logstash\"\n      },\n      {\n        \"name\": \"SERVICE_9600_TAGS\",\n        \"value\": \"us-west-2,vpc-39e6355f\"\n      },\n      {\n        \"name\": \"SERVICE_9600_CHECK_TCP\",\n        \"value\": \"true\"\n      },\n      {\n        \"name\": \"SERVICE_9600_CHECK_INTERVAL\",\n        \"value\": \"5s\"\n      },\n      {\n        \"name\": \"SERVICE_12201_IGNORE\",\n        \"value\": \"true\"\n      },\n      {\n        \"name\": \"SERVICE_5044_IGNORE\",\n        \"value\": \"true\"\n      },\n      {\n        \"name\": \"SERVICE_1514_IGNORE\",\n        \"value\": \"true\"\n      }\n    ],\n    \"logConfiguration\": {\n      \"logDriver\": \"awslogs\",\n      \"options\": {\n        \"awslogs-group\": \"infrastructure\",\n        \"awslogs-region\": \"us-west-2\",\n        \"awslogs-stream-prefix\": \"logstash\"\n      }\n    }\n  }\n]",
                            "template": "[\n  {\n    \"essential\": true,\n    \"image\": \"643009352547.dkr.ecr.us-west-2.amazonaws.com/infrastructure/logstash-cwl:latest\",\n    \"memoryReservation\": 1024,\n    \"name\": \"logstash\",\n    \"dnsServers\": [\n      \"${DNS_SERVER_1}\",\n      \"${DNS_SERVER_2}\",\n      \"${DNS_SERVER_3}\"\n    ],\n    \"environment\": [\n      {\n        \"name\": \"PIPELINE_NAME\",\n        \"value\": \"${PIPELINE_NAME}\"\n      },\n      {\n        \"name\": \"AWS_ACCESS_KEY_ID\",\n        \"value\": \"${AWS_ACCESS_KEY_ID}\"\n      },\n      {\n        \"name\": \"AWS_SECRET_ACCESS_KEY\",\n        \"value\": \"${AWS_SECRET_ACCESS_KEY}\"\n      },\n      {\n        \"name\": \"AWS_CLOUDWATCH_LOG_GROUP_PATH\",\n        \"value\": \"${AWS_CLOUDWATCH_LOG_GROUP_PATH}\"\n      },\n      {\n        \"name\": \"AWS_CLOUDWATCH_REGION\",\n        \"value\": \"${AWS_CLOUDWATCH_REGION}\"\n      },\n      {\n        \"name\": \"S3_LOG_BUCKET\",\n        \"value\": \"${S3_LOG_BUCKET}\"\n      },\n      {\n        \"name\": \"ES_USERNAME\",\n        \"value\": \"${ES_USERNAME}\"\n      },\n      {\n        \"name\": \"ES_PASSWORD\",\n        \"value\": \"${ES_PASSWORD}\"\n      },\n      {\n        \"name\": \"ES_HOST_URL\",\n        \"value\": \"${ES_HOST_URL}\"\n      },\n      {\n        \"name\": \"SERVICE_9600_NAME\",\n        \"value\": \"logstash\"\n      },\n      {\n        \"name\": \"SERVICE_9600_TAGS\",\n        \"value\": \"${TAG_REGION},${TAG_VPC_ID}\"\n      },\n      {\n        \"name\": \"SERVICE_9600_CHECK_TCP\",\n        \"value\": \"true\"\n      },\n      {\n        \"name\": \"SERVICE_9600_CHECK_INTERVAL\",\n        \"value\": \"5s\"\n      },\n      {\n        \"name\": \"SERVICE_12201_IGNORE\",\n        \"value\": \"true\"\n      },\n      {\n        \"name\": \"SERVICE_5044_IGNORE\",\n        \"value\": \"true\"\n      },\n      {\n        \"name\": \"SERVICE_1514_IGNORE\",\n        \"value\": \"true\"\n      }\n    ],\n    \"logConfiguration\": {\n      \"logDriver\": \"awslogs\",\n      \"options\": {\n        \"awslogs-group\": \"infrastructure\",\n        \"awslogs-region\": \"us-west-2\",\n        \"awslogs-stream-prefix\": \"logstash\"\n      }\n    }\n  }\n]",
                            "vars.%": "14",
                            "vars.AWS_ACCESS_KEY_ID": "AKIAJ33SX36Q7JL4DT7Q",
                            "vars.AWS_CLOUDWATCH_LOG_GROUP_PATH": "infrastructure",
                            "vars.AWS_CLOUDWATCH_REGION": "us-west-2",
                            "vars.AWS_SECRET_ACCESS_KEY": "Hsx7GGjeQutGgIPS1qUoF1aBUTH92U/6MyXolQVB",
                            "vars.DNS_SERVER_1": "10.40.0.10",
                            "vars.DNS_SERVER_2": "10.40.1.10",
                            "vars.DNS_SERVER_3": "10.40.2.10",
                            "vars.ES_HOST_URL": "https://c99ea3c2e8e8a90dd2fed3e9564a4c1e.us-west-2.aws.found.io:9243",
                            "vars.ES_PASSWORD": "zShz2Q3vamuhtIhZ3FkV55Py",
                            "vars.ES_USERNAME": "elastic",
                            "vars.PIPELINE_NAME": "infrastructure",
                            "vars.S3_LOG_BUCKET": "lf-engineering-prod-logs",
                            "vars.TAG_REGION": "us-west-2",
                            "vars.TAG_VPC_ID": "vpc-39e6355f"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "vpc_west",
                "mongodb"
            ],
            "outputs": {},
            "resources": {
                "aws_ebs_volume.mongodb_storage": {
                    "type": "aws_ebs_volume",
                    "depends_on": [],
                    "primary": {
                        "id": "vol-0bfe1b50221a22dac",
                        "attributes": {
                            "availability_zone": "us-west-2a",
                            "encrypted": "false",
                            "id": "vol-0bfe1b50221a22dac",
                            "size": "100",
                            "snapshot_id": "",
                            "type": "standard"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_instance.ecs_mongodb": {
                    "type": "aws_instance",
                    "depends_on": [
                        "data.aws_ami.amazon-linux-ecs-optimized",
                        "data.template_file.ecs_instance_cloudinit_tools"
                    ],
                    "primary": {
                        "id": "i-025bd36f88eaf43fe",
                        "attributes": {
                            "ami": "ami-57d9cd2e",
                            "associate_public_ip_address": "false",
                            "availability_zone": "us-west-2a",
                            "disable_api_termination": "false",
                            "ebs_block_device.#": "2",
                            "ebs_block_device.3846643179.delete_on_termination": "false",
                            "ebs_block_device.3846643179.device_name": "/dev/xvdh",
                            "ebs_block_device.3846643179.encrypted": "false",
                            "ebs_block_device.3846643179.iops": "0",
                            "ebs_block_device.3846643179.snapshot_id": "",
                            "ebs_block_device.3846643179.volume_size": "100",
                            "ebs_block_device.3846643179.volume_type": "standard",
                            "ebs_block_device.504524833.delete_on_termination": "true",
                            "ebs_block_device.504524833.device_name": "/dev/xvdcz",
                            "ebs_block_device.504524833.encrypted": "false",
                            "ebs_block_device.504524833.iops": "100",
                            "ebs_block_device.504524833.snapshot_id": "",
                            "ebs_block_device.504524833.volume_size": "22",
                            "ebs_block_device.504524833.volume_type": "gp2",
                            "ebs_optimized": "false",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "infrastructure-prod-ecsInstanceProfile",
                            "id": "i-025bd36f88eaf43fe",
                            "instance_state": "running",
                            "instance_type": "t2.small",
                            "ipv6_addresses.#": "0",
                            "key_name": "infrastructure",
                            "monitoring": "false",
                            "network_interface.#": "0",
                            "network_interface_id": "eni-6cf2e053",
                            "primary_network_interface_id": "eni-6cf2e053",
                            "private_dns": "ip-10-40-0-30.us-west-2.compute.internal",
                            "private_ip": "10.40.0.30",
                            "public_dns": "",
                            "public_ip": "",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "100",
                            "root_block_device.0.volume_size": "8",
                            "root_block_device.0.volume_type": "gp2",
                            "security_groups.#": "0",
                            "source_dest_check": "true",
                            "subnet_id": "subnet-d63b3c9f",
                            "tags.%": "1",
                            "tags.Name": "infrastructure-mongo",
                            "tenancy": "default",
                            "user_data": "4f3288c5fc095c088bd934c925cd9c39cb4e5905",
                            "volume_tags.%": "0",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.3438870609": "sg-470bb03d"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_volume_attachment.ebs_att": {
                    "type": "aws_volume_attachment",
                    "depends_on": [
                        "aws_ebs_volume.mongodb_storage",
                        "aws_instance.ecs_mongodb"
                    ],
                    "primary": {
                        "id": "vai-2835413643",
                        "attributes": {
                            "device_name": "/dev/xvdh",
                            "id": "vai-2835413643",
                            "instance_id": "i-025bd36f88eaf43fe",
                            "volume_id": "vol-0bfe1b50221a22dac"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "vpc_west",
                "registrator"
            ],
            "outputs": {},
            "resources": {
                "aws_ecs_service.registrator": {
                    "type": "aws_ecs_service",
                    "depends_on": [
                        "aws_ecs_task_definition.registrator"
                    ],
                    "primary": {
                        "id": "arn:aws:ecs:us-west-2:643009352547:service/registrator",
                        "attributes": {
                            "cluster": "infrastructure",
                            "deployment_maximum_percent": "200",
                            "deployment_minimum_healthy_percent": "100",
                            "desired_count": "12",
                            "id": "arn:aws:ecs:us-west-2:643009352547:service/registrator",
                            "name": "registrator",
                            "placement_constraints.#": "1",
                            "placement_constraints.2067840941.expression": "",
                            "placement_constraints.2067840941.type": "distinctInstance",
                            "placement_strategy.#": "1",
                            "placement_strategy.3946258308.field": "instanceId",
                            "placement_strategy.3946258308.type": "spread",
                            "task_definition": "arn:aws:ecs:us-west-2:643009352547:task-definition/registrator:12"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_ecs_task_definition.registrator": {
                    "type": "aws_ecs_task_definition",
                    "depends_on": [
                        "data.template_file.registrator_ecs_task"
                    ],
                    "primary": {
                        "id": "registrator",
                        "attributes": {
                            "arn": "arn:aws:ecs:us-west-2:643009352547:task-definition/registrator:12",
                            "container_definitions": "93c994d58b059ac2d2264107e1c2eb4afe5562ad",
                            "family": "registrator",
                            "id": "registrator",
                            "network_mode": "host",
                            "placement_constraints.#": "0",
                            "revision": "12",
                            "task_role_arn": "",
                            "volume.#": "1",
                            "volume.1973364920.host_path": "/var/run/docker.sock",
                            "volume.1973364920.name": "docker-sock"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "data.template_file.registrator_ecs_task": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "738239fbce1eeb4715d84a617ac2d3655746f70b96f17600ebfaec581afd4091",
                        "attributes": {
                            "id": "738239fbce1eeb4715d84a617ac2d3655746f70b96f17600ebfaec581afd4091",
                            "rendered": "[\n  {\n    \"essential\": true,\n    \"memory\": 256,\n    \"image\": \"gliderlabs/registrator:latest\",\n    \"name\": \"registrator\",\n    \"command\": [\"-cleanup\", \"consul://127.0.0.1:8500\"],\n    \"mountPoints\": [\n      {\n        \"sourceVolume\": \"docker-sock\",\n        \"containerPath\": \"/tmp/docker.sock\"\n      }\n    ],\n    \"dnsServers\": [\n      \"10.40.0.10\",\n      \"10.40.1.10\",\n      \"10.40.2.10\"\n    ],\n    \"logConfiguration\": {\n      \"logDriver\": \"awslogs\",\n      \"options\": {\n        \"awslogs-group\": \"infrastructure\",\n        \"awslogs-region\": \"us-west-2\",\n        \"awslogs-stream-prefix\": \"registrator\"\n      }\n    }\n  }\n]",
                            "template": "[\n  {\n    \"essential\": true,\n    \"memory\": 256,\n    \"image\": \"gliderlabs/registrator:latest\",\n    \"name\": \"registrator\",\n    \"command\": [\"-cleanup\", \"consul://127.0.0.1:8500\"],\n    \"mountPoints\": [\n      {\n        \"sourceVolume\": \"docker-sock\",\n        \"containerPath\": \"/tmp/docker.sock\"\n      }\n    ],\n    \"dnsServers\": [\n      \"${DNS_SERVER_1}\",\n      \"${DNS_SERVER_2}\",\n      \"${DNS_SERVER_3}\"\n    ],\n    \"logConfiguration\": {\n      \"logDriver\": \"awslogs\",\n      \"options\": {\n        \"awslogs-group\": \"infrastructure\",\n        \"awslogs-region\": \"us-west-2\",\n        \"awslogs-stream-prefix\": \"registrator\"\n      }\n    }\n  }\n]",
                            "vars.%": "4",
                            "vars.AWS_REGION": "us-west-2",
                            "vars.DNS_SERVER_1": "10.40.0.10",
                            "vars.DNS_SERVER_2": "10.40.1.10",
                            "vars.DNS_SERVER_3": "10.40.2.10"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "vpc_west",
                "security_groups"
            ],
            "outputs": {
                "bind": {
                    "sensitive": false,
                    "type": "string",
                    "value": "sg-df0ab1a5"
                },
                "internal_elb": {
                    "sensitive": false,
                    "type": "string",
                    "value": "sg-8e0bb0f4"
                },
                "tools-ecs-cluster": {
                    "sensitive": false,
                    "type": "string",
                    "value": "sg-470bb03d"
                }
            },
            "resources": {
                "aws_security_group.bind": {
                    "type": "aws_security_group",
                    "depends_on": [],
                    "primary": {
                        "id": "sg-df0ab1a5",
                        "attributes": {
                            "description": "Allows Access to DNS Servers",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.ipv6_cidr_blocks.#": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-df0ab1a5",
                            "ingress.#": "3",
                            "ingress.2342672136.cidr_blocks.#": "1",
                            "ingress.2342672136.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2342672136.from_port": "53",
                            "ingress.2342672136.ipv6_cidr_blocks.#": "0",
                            "ingress.2342672136.protocol": "tcp",
                            "ingress.2342672136.security_groups.#": "0",
                            "ingress.2342672136.self": "false",
                            "ingress.2342672136.to_port": "53",
                            "ingress.2767972101.cidr_blocks.#": "1",
                            "ingress.2767972101.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2767972101.from_port": "53",
                            "ingress.2767972101.ipv6_cidr_blocks.#": "0",
                            "ingress.2767972101.protocol": "udp",
                            "ingress.2767972101.security_groups.#": "0",
                            "ingress.2767972101.self": "false",
                            "ingress.2767972101.to_port": "53",
                            "ingress.482069346.cidr_blocks.#": "1",
                            "ingress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.482069346.from_port": "0",
                            "ingress.482069346.ipv6_cidr_blocks.#": "0",
                            "ingress.482069346.protocol": "-1",
                            "ingress.482069346.security_groups.#": "0",
                            "ingress.482069346.self": "false",
                            "ingress.482069346.to_port": "0",
                            "name": "Infrastructure-bind-servers",
                            "owner_id": "643009352547",
                            "tags.%": "1",
                            "tags.Name": "Infrastructure bind servers",
                            "vpc_id": "vpc-39e6355f"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_security_group.internal_elb": {
                    "type": "aws_security_group",
                    "depends_on": [],
                    "primary": {
                        "id": "sg-8e0bb0f4",
                        "attributes": {
                            "description": "Allows ELB Access Access",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.ipv6_cidr_blocks.#": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-8e0bb0f4",
                            "ingress.#": "1",
                            "ingress.342168632.cidr_blocks.#": "1",
                            "ingress.342168632.cidr_blocks.0": "10.32.0.0/12",
                            "ingress.342168632.from_port": "0",
                            "ingress.342168632.ipv6_cidr_blocks.#": "0",
                            "ingress.342168632.protocol": "-1",
                            "ingress.342168632.security_groups.#": "0",
                            "ingress.342168632.self": "false",
                            "ingress.342168632.to_port": "0",
                            "name": "Infrastructure-internal_elb",
                            "owner_id": "643009352547",
                            "tags.%": "1",
                            "tags.Name": "Infrastructure internal elb",
                            "vpc_id": "vpc-39e6355f"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_security_group.tools": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_security_group.internal_elb"
                    ],
                    "primary": {
                        "id": "sg-470bb03d",
                        "attributes": {
                            "description": "Centralized SG for the Shared Production Tools ECS Cluster",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.ipv6_cidr_blocks.#": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-470bb03d",
                            "ingress.#": "2",
                            "ingress.1617868480.cidr_blocks.#": "1",
                            "ingress.1617868480.cidr_blocks.0": "10.32.0.0/12",
                            "ingress.1617868480.from_port": "0",
                            "ingress.1617868480.ipv6_cidr_blocks.#": "0",
                            "ingress.1617868480.protocol": "-1",
                            "ingress.1617868480.security_groups.#": "1",
                            "ingress.1617868480.security_groups.2210076005": "sg-8e0bb0f4",
                            "ingress.1617868480.self": "false",
                            "ingress.1617868480.to_port": "0",
                            "ingress.753360330.cidr_blocks.#": "0",
                            "ingress.753360330.from_port": "0",
                            "ingress.753360330.ipv6_cidr_blocks.#": "0",
                            "ingress.753360330.protocol": "-1",
                            "ingress.753360330.security_groups.#": "0",
                            "ingress.753360330.self": "true",
                            "ingress.753360330.to_port": "0",
                            "name": "engineering-tools",
                            "owner_id": "643009352547",
                            "tags.%": "1",
                            "tags.Name": "Shared Production Tools",
                            "vpc_id": "vpc-39e6355f"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "vpc_west",
                "tools-ecs-cluster"
            ],
            "outputs": {
                "asg_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "infrastructure-ecs-instances"
                },
                "name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "infrastructure"
                },
                "security_group_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "sg-470bb03d"
                }
            },
            "resources": {
                "aws_autoscaling_group.main": {
                    "type": "aws_autoscaling_group",
                    "depends_on": [
                        "aws_launch_configuration.main"
                    ],
                    "primary": {
                        "id": "infrastructure-ecs-instances",
                        "attributes": {
                            "arn": "arn:aws:autoscaling:us-west-2:643009352547:autoScalingGroup:d9bff01b-d13a-4234-8705-b681616182a4:autoScalingGroupName/infrastructure-ecs-instances",
                            "availability_zones.#": "3",
                            "availability_zones.2050015877": "us-west-2c",
                            "availability_zones.221770259": "us-west-2b",
                            "availability_zones.2487133097": "us-west-2a",
                            "default_cooldown": "300",
                            "desired_capacity": "3",
                            "force_delete": "false",
                            "health_check_grace_period": "300",
                            "health_check_type": "EC2",
                            "id": "infrastructure-ecs-instances",
                            "launch_configuration": "infrastructure-ecs-0085d68c2687d08baa4749199d",
                            "load_balancers.#": "0",
                            "max_size": "100",
                            "metrics_granularity": "1Minute",
                            "min_size": "3",
                            "name": "infrastructure-ecs-instances",
                            "placement_group": "",
                            "protect_from_scale_in": "false",
                            "suspended_processes.#": "0",
                            "tag.#": "4",
                            "tag.1039535141.key": "Environment",
                            "tag.1039535141.propagate_at_launch": "true",
                            "tag.1039535141.value": "Production",
                            "tag.1081809071.key": "Name",
                            "tag.1081809071.propagate_at_launch": "true",
                            "tag.1081809071.value": "infrastructure",
                            "tag.383995631.key": "Cluster",
                            "tag.383995631.propagate_at_launch": "true",
                            "tag.383995631.value": "infrastructure",
                            "tag.534765253.key": "Team",
                            "tag.534765253.propagate_at_launch": "true",
                            "tag.534765253.value": "Engineering",
                            "target_group_arns.#": "0",
                            "termination_policies.#": "2",
                            "termination_policies.0": "OldestLaunchConfiguration",
                            "termination_policies.1": "Default",
                            "vpc_zone_identifier.#": "3",
                            "vpc_zone_identifier.1345962131": "subnet-d63b3c9f",
                            "vpc_zone_identifier.3044535005": "subnet-cc08e5aa",
                            "vpc_zone_identifier.3861056521": "subnet-7bc94d20",
                            "wait_for_capacity_timeout": "10m"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_autoscaling_policy.scale_down": {
                    "type": "aws_autoscaling_policy",
                    "depends_on": [
                        "aws_autoscaling_group.main"
                    ],
                    "primary": {
                        "id": "infrastructure-scaledown",
                        "attributes": {
                            "adjustment_type": "ChangeInCapacity",
                            "arn": "arn:aws:autoscaling:us-west-2:643009352547:scalingPolicy:bedfc3fb-c120-47b0-ba96-572d226cffb1:autoScalingGroupName/infrastructure-ecs-instances:policyName/infrastructure-scaledown",
                            "autoscaling_group_name": "infrastructure-ecs-instances",
                            "cooldown": "300",
                            "estimated_instance_warmup": "0",
                            "id": "infrastructure-scaledown",
                            "metric_aggregation_type": "",
                            "min_adjustment_step": "0",
                            "name": "infrastructure-scaledown",
                            "policy_type": "SimpleScaling",
                            "scaling_adjustment": "-1",
                            "step_adjustment.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_autoscaling_policy.scale_up": {
                    "type": "aws_autoscaling_policy",
                    "depends_on": [
                        "aws_autoscaling_group.main"
                    ],
                    "primary": {
                        "id": "infrastructure-scaleup",
                        "attributes": {
                            "adjustment_type": "ChangeInCapacity",
                            "arn": "arn:aws:autoscaling:us-west-2:643009352547:scalingPolicy:b505e3e9-d2cc-440b-a8ab-d49ab430a5b6:autoScalingGroupName/infrastructure-ecs-instances:policyName/infrastructure-scaleup",
                            "autoscaling_group_name": "infrastructure-ecs-instances",
                            "cooldown": "300",
                            "estimated_instance_warmup": "0",
                            "id": "infrastructure-scaleup",
                            "metric_aggregation_type": "",
                            "min_adjustment_step": "0",
                            "name": "infrastructure-scaleup",
                            "policy_type": "SimpleScaling",
                            "scaling_adjustment": "1",
                            "step_adjustment.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_cloudwatch_metric_alarm.cpu_high": {
                    "type": "aws_cloudwatch_metric_alarm",
                    "depends_on": [
                        "aws_autoscaling_policy.scale_up",
                        "aws_ecs_cluster.main"
                    ],
                    "primary": {
                        "id": "infrastructure-cpureservation-high",
                        "attributes": {
                            "actions_enabled": "true",
                            "alarm_actions.#": "1",
                            "alarm_actions.4048297795": "arn:aws:autoscaling:us-west-2:643009352547:scalingPolicy:b505e3e9-d2cc-440b-a8ab-d49ab430a5b6:autoScalingGroupName/infrastructure-ecs-instances:policyName/infrastructure-scaleup",
                            "alarm_description": "Scale up if the cpu reservation is above 90% for 10 minutes",
                            "alarm_name": "infrastructure-cpureservation-high",
                            "comparison_operator": "GreaterThanOrEqualToThreshold",
                            "dimensions.%": "1",
                            "dimensions.ClusterName": "infrastructure",
                            "evaluate_low_sample_count_percentiles": "",
                            "evaluation_periods": "2",
                            "extended_statistic": "",
                            "id": "infrastructure-cpureservation-high",
                            "insufficient_data_actions.#": "0",
                            "metric_name": "CPUReservation",
                            "namespace": "AWS/ECS",
                            "ok_actions.#": "0",
                            "period": "300",
                            "statistic": "Maximum",
                            "threshold": "90",
                            "treat_missing_data": "missing",
                            "unit": ""
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_cloudwatch_metric_alarm.cpu_low": {
                    "type": "aws_cloudwatch_metric_alarm",
                    "depends_on": [
                        "aws_autoscaling_policy.scale_down",
                        "aws_cloudwatch_metric_alarm.memory_high",
                        "aws_ecs_cluster.main"
                    ],
                    "primary": {
                        "id": "infrastructure-cpureservation-low",
                        "attributes": {
                            "actions_enabled": "true",
                            "alarm_actions.#": "1",
                            "alarm_actions.1052387745": "arn:aws:autoscaling:us-west-2:643009352547:scalingPolicy:bedfc3fb-c120-47b0-ba96-572d226cffb1:autoScalingGroupName/infrastructure-ecs-instances:policyName/infrastructure-scaledown",
                            "alarm_description": "Scale down if the cpu reservation is below 10% for 10 minutes",
                            "alarm_name": "infrastructure-cpureservation-low",
                            "comparison_operator": "LessThanOrEqualToThreshold",
                            "dimensions.%": "1",
                            "dimensions.ClusterName": "infrastructure",
                            "evaluate_low_sample_count_percentiles": "",
                            "evaluation_periods": "2",
                            "extended_statistic": "",
                            "id": "infrastructure-cpureservation-low",
                            "insufficient_data_actions.#": "0",
                            "metric_name": "CPUReservation",
                            "namespace": "AWS/ECS",
                            "ok_actions.#": "0",
                            "period": "300",
                            "statistic": "Maximum",
                            "threshold": "10",
                            "treat_missing_data": "missing",
                            "unit": ""
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_cloudwatch_metric_alarm.memory_high": {
                    "type": "aws_cloudwatch_metric_alarm",
                    "depends_on": [
                        "aws_autoscaling_policy.scale_up",
                        "aws_cloudwatch_metric_alarm.cpu_high",
                        "aws_ecs_cluster.main"
                    ],
                    "primary": {
                        "id": "infrastructure-memoryreservation-high",
                        "attributes": {
                            "actions_enabled": "true",
                            "alarm_actions.#": "1",
                            "alarm_actions.4048297795": "arn:aws:autoscaling:us-west-2:643009352547:scalingPolicy:b505e3e9-d2cc-440b-a8ab-d49ab430a5b6:autoScalingGroupName/infrastructure-ecs-instances:policyName/infrastructure-scaleup",
                            "alarm_description": "Scale up if the memory reservation is above 90% for 10 minutes",
                            "alarm_name": "infrastructure-memoryreservation-high",
                            "comparison_operator": "GreaterThanOrEqualToThreshold",
                            "dimensions.%": "1",
                            "dimensions.ClusterName": "infrastructure",
                            "evaluate_low_sample_count_percentiles": "",
                            "evaluation_periods": "2",
                            "extended_statistic": "",
                            "id": "infrastructure-memoryreservation-high",
                            "insufficient_data_actions.#": "0",
                            "metric_name": "MemoryReservation",
                            "namespace": "AWS/ECS",
                            "ok_actions.#": "0",
                            "period": "300",
                            "statistic": "Maximum",
                            "threshold": "90",
                            "treat_missing_data": "missing",
                            "unit": ""
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_cloudwatch_metric_alarm.memory_low": {
                    "type": "aws_cloudwatch_metric_alarm",
                    "depends_on": [
                        "aws_autoscaling_policy.scale_down",
                        "aws_cloudwatch_metric_alarm.cpu_low",
                        "aws_ecs_cluster.main"
                    ],
                    "primary": {
                        "id": "infrastructure-memoryreservation-low",
                        "attributes": {
                            "actions_enabled": "true",
                            "alarm_actions.#": "1",
                            "alarm_actions.1052387745": "arn:aws:autoscaling:us-west-2:643009352547:scalingPolicy:bedfc3fb-c120-47b0-ba96-572d226cffb1:autoScalingGroupName/infrastructure-ecs-instances:policyName/infrastructure-scaledown",
                            "alarm_description": "Scale down if the memory reservation is below 10% for 10 minutes",
                            "alarm_name": "infrastructure-memoryreservation-low",
                            "comparison_operator": "LessThanOrEqualToThreshold",
                            "dimensions.%": "1",
                            "dimensions.ClusterName": "infrastructure",
                            "evaluate_low_sample_count_percentiles": "",
                            "evaluation_periods": "2",
                            "extended_statistic": "",
                            "id": "infrastructure-memoryreservation-low",
                            "insufficient_data_actions.#": "0",
                            "metric_name": "MemoryReservation",
                            "namespace": "AWS/ECS",
                            "ok_actions.#": "0",
                            "period": "300",
                            "statistic": "Maximum",
                            "threshold": "10",
                            "treat_missing_data": "missing",
                            "unit": ""
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_ecs_cluster.main": {
                    "type": "aws_ecs_cluster",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:ecs:us-west-2:643009352547:cluster/infrastructure",
                        "attributes": {
                            "id": "arn:aws:ecs:us-west-2:643009352547:cluster/infrastructure",
                            "name": "infrastructure"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_launch_configuration.main": {
                    "type": "aws_launch_configuration",
                    "depends_on": [],
                    "primary": {
                        "id": "infrastructure-ecs-0085d68c2687d08baa4749199d",
                        "attributes": {
                            "associate_public_ip_address": "false",
                            "ebs_block_device.#": "1",
                            "ebs_block_device.3154254213.delete_on_termination": "true",
                            "ebs_block_device.3154254213.device_name": "/dev/xvdcz",
                            "ebs_block_device.3154254213.encrypted": "false",
                            "ebs_block_device.3154254213.iops": "0",
                            "ebs_block_device.3154254213.snapshot_id": "",
                            "ebs_block_device.3154254213.volume_size": "25",
                            "ebs_block_device.3154254213.volume_type": "gp2",
                            "ebs_optimized": "false",
                            "enable_monitoring": "true",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "infrastructure-prod-ecsInstanceProfile",
                            "id": "infrastructure-ecs-0085d68c2687d08baa4749199d",
                            "image_id": "ami-57d9cd2e",
                            "instance_type": "t2.medium",
                            "key_name": "infrastructure",
                            "name": "infrastructure-ecs-0085d68c2687d08baa4749199d",
                            "name_prefix": "infrastructure-ecs-",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "0",
                            "root_block_device.0.volume_size": "25",
                            "root_block_device.0.volume_type": "gp2",
                            "security_groups.#": "1",
                            "security_groups.3438870609": "sg-470bb03d",
                            "spot_price": "",
                            "user_data": "2ef01c52ee2f91865619bee94c512ade751bdf9a",
                            "vpc_classic_link_id": "",
                            "vpc_classic_link_security_groups.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "data.aws_ami.amazon-linux-ecs-optimized": {
                    "type": "aws_ami",
                    "depends_on": [],
                    "primary": {
                        "id": "ami-57d9cd2e",
                        "attributes": {
                            "architecture": "x86_64",
                            "block_device_mappings.#": "2",
                            "block_device_mappings.2538004115.device_name": "/dev/xvdcz",
                            "block_device_mappings.2538004115.ebs.%": "5",
                            "block_device_mappings.2538004115.ebs.delete_on_termination": "true",
                            "block_device_mappings.2538004115.ebs.encrypted": "false",
                            "block_device_mappings.2538004115.ebs.iops": "0",
                            "block_device_mappings.2538004115.ebs.volume_size": "22",
                            "block_device_mappings.2538004115.ebs.volume_type": "gp2",
                            "block_device_mappings.2538004115.no_device": "",
                            "block_device_mappings.2538004115.virtual_name": "",
                            "block_device_mappings.340275815.device_name": "/dev/xvda",
                            "block_device_mappings.340275815.ebs.%": "6",
                            "block_device_mappings.340275815.ebs.delete_on_termination": "true",
                            "block_device_mappings.340275815.ebs.encrypted": "false",
                            "block_device_mappings.340275815.ebs.iops": "0",
                            "block_device_mappings.340275815.ebs.snapshot_id": "snap-049efa3769408f9e3",
                            "block_device_mappings.340275815.ebs.volume_size": "8",
                            "block_device_mappings.340275815.ebs.volume_type": "gp2",
                            "block_device_mappings.340275815.no_device": "",
                            "block_device_mappings.340275815.virtual_name": "",
                            "creation_date": "2017-06-23T16:44:34.000Z",
                            "description": "Amazon Linux AMI 2017.03.d x86_64 ECS HVM GP2",
                            "filter.#": "3",
                            "filter.3350713981.name": "name",
                            "filter.3350713981.values.#": "1",
                            "filter.3350713981.values.0": "amzn-ami-*-amazon-ecs-optimized",
                            "filter.490168357.name": "virtualization-type",
                            "filter.490168357.values.#": "1",
                            "filter.490168357.values.0": "hvm",
                            "filter.574890044.name": "owner-alias",
                            "filter.574890044.values.#": "1",
                            "filter.574890044.values.0": "amazon",
                            "hypervisor": "xen",
                            "id": "ami-57d9cd2e",
                            "image_id": "ami-57d9cd2e",
                            "image_location": "amazon/amzn-ami-2017.03.d-amazon-ecs-optimized",
                            "image_owner_alias": "amazon",
                            "image_type": "machine",
                            "most_recent": "true",
                            "name": "amzn-ami-2017.03.d-amazon-ecs-optimized",
                            "owner_id": "591542846629",
                            "product_codes.#": "0",
                            "public": "true",
                            "root_device_name": "/dev/xvda",
                            "root_device_type": "ebs",
                            "sriov_net_support": "simple",
                            "state": "available",
                            "state_reason.%": "2",
                            "state_reason.code": "UNSET",
                            "state_reason.message": "UNSET",
                            "tags.#": "0",
                            "virtualization_type": "hvm"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "data.template_cloudinit_config.cloud_config": {
                    "type": "template_cloudinit_config",
                    "depends_on": [],
                    "primary": {
                        "id": "2263499130",
                        "attributes": {
                            "base64_encode": "true",
                            "gzip": "false",
                            "id": "2263499130",
                            "part.#": "1",
                            "part.0.content": "#!/bin/bash\n\n# Join the default ECS cluster\necho ECS_CLUSTER=infrastructure \u003e\u003e /etc/ecs/ecs.config\n\n# Adding gelf \u0026 syslog logging drivers\necho 'ECS_AVAILABLE_LOGGING_DRIVERS=[\"json-file\",\"syslog\",\"awslogs\",\"gelf\"]' \u003e\u003e /etc/ecs/ecs.config\n\nPATH=$PATH:/usr/local/bin\n\n# Instance should be added to an security group that allows HTTP outbound\nyum update -y\n\n# Install packages\nyum -y install jq nfs-utils python27 python27-pip\n\n# Get region of EC2 from instance metadata\nEC2_AVAIL_ZONE=`curl -s http://169.254.169.254/latest/meta-data/placement/availability-zone`\nEC2_REGION=\"`echo \\\"$EC2_AVAIL_ZONE\\\" | sed -e 's:\\([0-9][0-9]*\\)[a-z]*\\$:\\\\1:'`\"\nEC2_INSTANCE_ID=`curl -s http://169.254.169.254/latest/meta-data/instance-id`\nEC2_PRIVATE_IP=`curl -s http://169.254.169.254/latest/meta-data/local-ipv4`\n\n# NewRelic Infrastructure Agent\necho \"license_key: bc34e4b264df582c2db0b453bd43ee438043757c\" | sudo tee -a /etc/newrelic-infra.yml\nprintf \"[newrelic-infra]\\nname=New Relic Infrastructure\\nbaseurl=http://download.newrelic.com/infrastructure_agent/linux/yum/el/6/x86_64\\nenable=1\\ngpgcheck=0\" | sudo tee -a /etc/yum.repos.d/newrelic-infra.repo\nyum -q makecache -y --disablerepo='*' --enablerepo='newrelic-infra'\nsudo yum install newrelic-infra -y\n\n# Restarting ECS\nstart ecs\n\n# Install FileBeat Agent\ncurl -L -O https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-5.4.0-x86_64.rpm\nsudo rpm -vi filebeat-5.4.0-x86_64.rpm\ncat \u003e '/etc/filebeat/filebeat.yml' \u003c\u003c-EOF\nfilebeat.prospectors:\n\n- input_type: log\n\n  paths:\n    - /var/log/cloud-init*.log\n    - /var/log/ecs/*.log\n    - /var/log/messages\n    - /var/log/secure\n    - /var/log/yum.log\n    - /var/log/cron\n    - /var/log/maillog\n    - /var/log/docker\n    - /var/log/lastlog\n    - /var/log/audit/*.log\n\n#================================ General =====================================\n\nname: infrastructure-ecs-cluster\ntags: [\"system\"]\nfields:\n  sys_name: infrastructure\n  sys_env: production\n  sys_region: us-west-2\n\n#================================ Outputs =====================================\noutput.logstash:\n  hosts: [\"us-west-2.logstash.service.consul:5044\"]\nEOF\n\nservice filebeat start\n\ninitctl restart newrelic-infra",
                            "part.0.content_type": "",
                            "part.0.filename": "",
                            "part.0.merge_type": "",
                            "rendered": "Q29udGVudC1UeXBlOiBtdWx0aXBhcnQvbWl4ZWQ7IGJvdW5kYXJ5PSJNSU1FQk9VTkRBUlkiCk1JTUUtVmVyc2lvbjogMS4wDQoNCi0tTUlNRUJPVU5EQVJZDQpDb250ZW50LVRyYW5zZmVyLUVuY29kaW5nOiA3Yml0DQpDb250ZW50LVR5cGU6IHRleHQvcGxhaW4NCk1pbWUtVmVyc2lvbjogMS4wDQoNCiMhL2Jpbi9iYXNoCgojIEpvaW4gdGhlIGRlZmF1bHQgRUNTIGNsdXN0ZXIKZWNobyBFQ1NfQ0xVU1RFUj1pbmZyYXN0cnVjdHVyZSA+PiAvZXRjL2Vjcy9lY3MuY29uZmlnCgojIEFkZGluZyBnZWxmICYgc3lzbG9nIGxvZ2dpbmcgZHJpdmVycwplY2hvICdFQ1NfQVZBSUxBQkxFX0xPR0dJTkdfRFJJVkVSUz1bImpzb24tZmlsZSIsInN5c2xvZyIsImF3c2xvZ3MiLCJnZWxmIl0nID4+IC9ldGMvZWNzL2Vjcy5jb25maWcKClBBVEg9JFBBVEg6L3Vzci9sb2NhbC9iaW4KCiMgSW5zdGFuY2Ugc2hvdWxkIGJlIGFkZGVkIHRvIGFuIHNlY3VyaXR5IGdyb3VwIHRoYXQgYWxsb3dzIEhUVFAgb3V0Ym91bmQKeXVtIHVwZGF0ZSAteQoKIyBJbnN0YWxsIHBhY2thZ2VzCnl1bSAteSBpbnN0YWxsIGpxIG5mcy11dGlscyBweXRob24yNyBweXRob24yNy1waXAKCiMgR2V0IHJlZ2lvbiBvZiBFQzIgZnJvbSBpbnN0YW5jZSBtZXRhZGF0YQpFQzJfQVZBSUxfWk9ORT1gY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9tZXRhLWRhdGEvcGxhY2VtZW50L2F2YWlsYWJpbGl0eS16b25lYApFQzJfUkVHSU9OPSJgZWNobyBcIiRFQzJfQVZBSUxfWk9ORVwiIHwgc2VkIC1lICdzOlwoWzAtOV1bMC05XSpcKVthLXpdKlwkOlxcMTonYCIKRUMyX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKRUMyX1BSSVZBVEVfSVA9YGN1cmwgLXMgaHR0cDovLzE2OS4yNTQuMTY5LjI1NC9sYXRlc3QvbWV0YS1kYXRhL2xvY2FsLWlwdjRgCgojIE5ld1JlbGljIEluZnJhc3RydWN0dXJlIEFnZW50CmVjaG8gImxpY2Vuc2Vfa2V5OiBiYzM0ZTRiMjY0ZGY1ODJjMmRiMGI0NTNiZDQzZWU0MzgwNDM3NTdjIiB8IHN1ZG8gdGVlIC1hIC9ldGMvbmV3cmVsaWMtaW5mcmEueW1sCnByaW50ZiAiW25ld3JlbGljLWluZnJhXVxubmFtZT1OZXcgUmVsaWMgSW5mcmFzdHJ1Y3R1cmVcbmJhc2V1cmw9aHR0cDovL2Rvd25sb2FkLm5ld3JlbGljLmNvbS9pbmZyYXN0cnVjdHVyZV9hZ2VudC9saW51eC95dW0vZWwvNi94ODZfNjRcbmVuYWJsZT0xXG5ncGdjaGVjaz0wIiB8IHN1ZG8gdGVlIC1hIC9ldGMveXVtLnJlcG9zLmQvbmV3cmVsaWMtaW5mcmEucmVwbwp5dW0gLXEgbWFrZWNhY2hlIC15IC0tZGlzYWJsZXJlcG89JyonIC0tZW5hYmxlcmVwbz0nbmV3cmVsaWMtaW5mcmEnCnN1ZG8geXVtIGluc3RhbGwgbmV3cmVsaWMtaW5mcmEgLXkKCiMgUmVzdGFydGluZyBFQ1MKc3RhcnQgZWNzCgojIEluc3RhbGwgRmlsZUJlYXQgQWdlbnQKY3VybCAtTCAtTyBodHRwczovL2FydGlmYWN0cy5lbGFzdGljLmNvL2Rvd25sb2Fkcy9iZWF0cy9maWxlYmVhdC9maWxlYmVhdC01LjQuMC14ODZfNjQucnBtCnN1ZG8gcnBtIC12aSBmaWxlYmVhdC01LjQuMC14ODZfNjQucnBtCmNhdCA+ICcvZXRjL2ZpbGViZWF0L2ZpbGViZWF0LnltbCcgPDwtRU9GCmZpbGViZWF0LnByb3NwZWN0b3JzOgoKLSBpbnB1dF90eXBlOiBsb2cKCiAgcGF0aHM6CiAgICAtIC92YXIvbG9nL2Nsb3VkLWluaXQqLmxvZwogICAgLSAvdmFyL2xvZy9lY3MvKi5sb2cKICAgIC0gL3Zhci9sb2cvbWVzc2FnZXMKICAgIC0gL3Zhci9sb2cvc2VjdXJlCiAgICAtIC92YXIvbG9nL3l1bS5sb2cKICAgIC0gL3Zhci9sb2cvY3JvbgogICAgLSAvdmFyL2xvZy9tYWlsbG9nCiAgICAtIC92YXIvbG9nL2RvY2tlcgogICAgLSAvdmFyL2xvZy9sYXN0bG9nCiAgICAtIC92YXIvbG9nL2F1ZGl0LyoubG9nCgojPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gR2VuZXJhbCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpuYW1lOiBpbmZyYXN0cnVjdHVyZS1lY3MtY2x1c3Rlcgp0YWdzOiBbInN5c3RlbSJdCmZpZWxkczoKICBzeXNfbmFtZTogaW5mcmFzdHJ1Y3R1cmUKICBzeXNfZW52OiBwcm9kdWN0aW9uCiAgc3lzX3JlZ2lvbjogdXMtd2VzdC0yCgojPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gT3V0cHV0cyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Cm91dHB1dC5sb2dzdGFzaDoKICBob3N0czogWyJ1cy13ZXN0LTIubG9nc3Rhc2guc2VydmljZS5jb25zdWw6NTA0NCJdCkVPRgoKc2VydmljZSBmaWxlYmVhdCBzdGFydAoKaW5pdGN0bCByZXN0YXJ0IG5ld3JlbGljLWluZnJhDQotLU1JTUVCT1VOREFSWS0tDQo="
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "vpc_west",
                "vault"
            ],
            "outputs": {},
            "resources": {
                "aws_ecs_service.vault": {
                    "type": "aws_ecs_service",
                    "depends_on": [
                        "aws_ecs_task_definition.vault"
                    ],
                    "primary": {
                        "id": "arn:aws:ecs:us-west-2:643009352547:service/vault",
                        "attributes": {
                            "cluster": "infrastructure",
                            "deployment_maximum_percent": "200",
                            "deployment_minimum_healthy_percent": "100",
                            "desired_count": "3",
                            "id": "arn:aws:ecs:us-west-2:643009352547:service/vault",
                            "name": "vault",
                            "placement_constraints.#": "0",
                            "placement_strategy.#": "0",
                            "task_definition": "arn:aws:ecs:us-west-2:643009352547:task-definition/vault:1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_ecs_task_definition.vault": {
                    "type": "aws_ecs_task_definition",
                    "depends_on": [
                        "data.template_file.vault_ecs_task"
                    ],
                    "primary": {
                        "id": "vault",
                        "attributes": {
                            "arn": "arn:aws:ecs:us-west-2:643009352547:task-definition/vault:1",
                            "container_definitions": "f4974d6c007904d086f24999cb35b6d9fee683a6",
                            "family": "vault",
                            "id": "vault",
                            "network_mode": "host",
                            "placement_constraints.#": "0",
                            "revision": "1",
                            "task_role_arn": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "data.template_file.vault_ecs_task": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "31f3436e096acc4c3b6a7f0eecbc2864b95e4bbe7533d99afb994d43c41c6a6a",
                        "attributes": {
                            "id": "31f3436e096acc4c3b6a7f0eecbc2864b95e4bbe7533d99afb994d43c41c6a6a",
                            "rendered": "[\n  {\n    \"essential\": true,\n    \"memory\": 256,\n    \"image\": \"643009352547.dkr.ecr.us-west-2.amazonaws.com/infrastructure/vault:latest\",\n    \"name\": \"vault-server\",\n    \"privileged\": true,\n    \"portMappings\": [\n      {\n        \"containerPort\": 8200,\n        \"hostPort\": 8200,\n        \"protocol\": \"tcp\"\n      },\n      {\n        \"containerPort\": 8201,\n        \"hostPort\": 8201,\n        \"protocol\": \"tcp\"\n      }\n    ],\n    \"dnsServers\": [\n      \"10.40.0.10\",\n      \"10.40.1.10\",\n      \"10.40.2.10\"\n    ],\n    \"environment\": [\n      {\n        \"name\": \"CONSUL_MASTER_IP\",\n        \"value\": \"127.0.0.1:8500\"\n      },\n      {\n        \"name\": \"SERVICE_IGNORE\",\n        \"value\": \"true\"\n      }\n    ],\n    \"logConfiguration\": {\n      \"logDriver\": \"awslogs\",\n      \"options\": {\n        \"awslogs-group\": \"infrastructure\",\n        \"awslogs-region\": \"us-west-2\",\n        \"awslogs-stream-prefix\": \"vault\"\n      }\n    },\n    \"dockerLabels\": {\n      \"app_name\": \"vault\",\n      \"app_env\": \"production\",\n      \"app_region\": \"us-west-2\"\n    }\n  }\n]",
                            "template": "[\n  {\n    \"essential\": true,\n    \"memory\": 256,\n    \"image\": \"643009352547.dkr.ecr.us-west-2.amazonaws.com/infrastructure/vault:latest\",\n    \"name\": \"vault-server\",\n    \"privileged\": true,\n    \"portMappings\": [\n      {\n        \"containerPort\": 8200,\n        \"hostPort\": 8200,\n        \"protocol\": \"tcp\"\n      },\n      {\n        \"containerPort\": 8201,\n        \"hostPort\": 8201,\n        \"protocol\": \"tcp\"\n      }\n    ],\n    \"dnsServers\": [\n      \"${DNS_SERVER_1}\",\n      \"${DNS_SERVER_2}\",\n      \"${DNS_SERVER_3}\"\n    ],\n    \"environment\": [\n      {\n        \"name\": \"CONSUL_MASTER_IP\",\n        \"value\": \"${CONSUL_MASTER_IP}\"\n      },\n      {\n        \"name\": \"SERVICE_IGNORE\",\n        \"value\": \"true\"\n      }\n    ],\n    \"logConfiguration\": {\n      \"logDriver\": \"awslogs\",\n      \"options\": {\n        \"awslogs-group\": \"infrastructure\",\n        \"awslogs-region\": \"us-west-2\",\n        \"awslogs-stream-prefix\": \"vault\"\n      }\n    },\n    \"dockerLabels\": {\n      \"app_name\": \"vault\",\n      \"app_env\": \"production\",\n      \"app_region\": \"${AWS_REGION}\"\n    }\n  }\n]",
                            "vars.%": "5",
                            "vars.AWS_REGION": "us-west-2",
                            "vars.CONSUL_MASTER_IP": "127.0.0.1:8500",
                            "vars.DNS_SERVER_1": "10.40.0.10",
                            "vars.DNS_SERVER_2": "10.40.1.10",
                            "vars.DNS_SERVER_3": "10.40.2.10"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "vpc_west",
                "vpc"
            ],
            "outputs": {
                "availability_zones": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "us-west-2a",
                        "us-west-2b",
                        "us-west-2c"
                    ]
                },
                "external_rtb_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "rtb-fc9abc9a"
                },
                "external_subnets": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "subnet-2c3a3d65",
                        "subnet-7833de1e",
                        "subnet-1dca4e46"
                    ]
                },
                "id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "vpc-39e6355f"
                },
                "internal_nat_ips": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "52.89.131.194",
                        "34.210.142.142",
                        "34.211.189.176"
                    ]
                },
                "internal_rtb_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "rtb-35614053,rtb-ad98becb,rtb-be9dbbd8"
                },
                "internal_subnets": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "subnet-d63b3c9f",
                        "subnet-cc08e5aa",
                        "subnet-7bc94d20"
                    ]
                },
                "raw_route_tables_id": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "rtb-35614053",
                        "rtb-ad98becb",
                        "rtb-be9dbbd8"
                    ]
                },
                "security_group": {
                    "sensitive": false,
                    "type": "string",
                    "value": "sg-7714af0d"
                }
            },
            "resources": {
                "aws_eip.nat.0": {
                    "type": "aws_eip",
                    "depends_on": [],
                    "primary": {
                        "id": "eipalloc-3e1af703",
                        "attributes": {
                            "association_id": "eipassoc-cc1a06f1",
                            "domain": "vpc",
                            "id": "eipalloc-3e1af703",
                            "instance": "",
                            "network_interface": "eni-777a7f48",
                            "private_ip": "10.40.4.47",
                            "public_ip": "52.89.131.194",
                            "vpc": "true"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_eip.nat.1": {
                    "type": "aws_eip",
                    "depends_on": [],
                    "primary": {
                        "id": "eipalloc-e118f5dc",
                        "attributes": {
                            "association_id": "eipassoc-02160a3f",
                            "domain": "vpc",
                            "id": "eipalloc-e118f5dc",
                            "instance": "",
                            "network_interface": "eni-f8fe73d4",
                            "private_ip": "10.40.5.58",
                            "public_ip": "34.210.142.142",
                            "vpc": "true"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_eip.nat.2": {
                    "type": "aws_eip",
                    "depends_on": [],
                    "primary": {
                        "id": "eipalloc-a91ef394",
                        "attributes": {
                            "association_id": "eipassoc-f91408c4",
                            "domain": "vpc",
                            "id": "eipalloc-a91ef394",
                            "instance": "",
                            "network_interface": "eni-85ce6085",
                            "private_ip": "10.40.6.156",
                            "public_ip": "34.211.189.176",
                            "vpc": "true"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_internet_gateway.main": {
                    "type": "aws_internet_gateway",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "igw-e0c14c87",
                        "attributes": {
                            "id": "igw-e0c14c87",
                            "tags.%": "1",
                            "tags.Name": "Infrastructure",
                            "vpc_id": "vpc-39e6355f"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_nat_gateway.main.0": {
                    "type": "aws_nat_gateway",
                    "depends_on": [
                        "aws_eip.nat.*",
                        "aws_internet_gateway.main",
                        "aws_subnet.external.*"
                    ],
                    "primary": {
                        "id": "nat-02f8955364dc326ca",
                        "attributes": {
                            "allocation_id": "eipalloc-3e1af703",
                            "id": "nat-02f8955364dc326ca",
                            "network_interface_id": "eni-777a7f48",
                            "private_ip": "10.40.4.47",
                            "public_ip": "52.89.131.194",
                            "subnet_id": "subnet-2c3a3d65"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_nat_gateway.main.1": {
                    "type": "aws_nat_gateway",
                    "depends_on": [
                        "aws_eip.nat.*",
                        "aws_internet_gateway.main",
                        "aws_subnet.external.*"
                    ],
                    "primary": {
                        "id": "nat-08e0bd3e376c78581",
                        "attributes": {
                            "allocation_id": "eipalloc-e118f5dc",
                            "id": "nat-08e0bd3e376c78581",
                            "network_interface_id": "eni-f8fe73d4",
                            "private_ip": "10.40.5.58",
                            "public_ip": "34.210.142.142",
                            "subnet_id": "subnet-7833de1e"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_nat_gateway.main.2": {
                    "type": "aws_nat_gateway",
                    "depends_on": [
                        "aws_eip.nat.*",
                        "aws_internet_gateway.main",
                        "aws_subnet.external.*"
                    ],
                    "primary": {
                        "id": "nat-01503c06f37c211f8",
                        "attributes": {
                            "allocation_id": "eipalloc-a91ef394",
                            "id": "nat-01503c06f37c211f8",
                            "network_interface_id": "eni-85ce6085",
                            "private_ip": "10.40.6.156",
                            "public_ip": "34.211.189.176",
                            "subnet_id": "subnet-1dca4e46"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_route.external": {
                    "type": "aws_route",
                    "depends_on": [
                        "aws_internet_gateway.main",
                        "aws_route_table.external"
                    ],
                    "primary": {
                        "id": "r-rtb-fc9abc9a1080289494",
                        "attributes": {
                            "destination_cidr_block": "0.0.0.0/0",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "igw-e0c14c87",
                            "id": "r-rtb-fc9abc9a1080289494",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-fc9abc9a",
                            "state": "active",
                            "vpc_peering_connection_id": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_route.internal.0": {
                    "type": "aws_route",
                    "depends_on": [
                        "aws_nat_gateway.main.*",
                        "aws_route_table.internal.*"
                    ],
                    "primary": {
                        "id": "r-rtb-356140531080289494",
                        "attributes": {
                            "destination_cidr_block": "0.0.0.0/0",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-356140531080289494",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "nat-02f8955364dc326ca",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-35614053",
                            "state": "active",
                            "vpc_peering_connection_id": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_route.internal.1": {
                    "type": "aws_route",
                    "depends_on": [
                        "aws_nat_gateway.main.*",
                        "aws_route_table.internal.*"
                    ],
                    "primary": {
                        "id": "r-rtb-ad98becb1080289494",
                        "attributes": {
                            "destination_cidr_block": "0.0.0.0/0",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-ad98becb1080289494",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "nat-08e0bd3e376c78581",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-ad98becb",
                            "state": "active",
                            "vpc_peering_connection_id": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_route.internal.2": {
                    "type": "aws_route",
                    "depends_on": [
                        "aws_nat_gateway.main.*",
                        "aws_route_table.internal.*"
                    ],
                    "primary": {
                        "id": "r-rtb-be9dbbd81080289494",
                        "attributes": {
                            "destination_cidr_block": "0.0.0.0/0",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-be9dbbd81080289494",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "nat-01503c06f37c211f8",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-be9dbbd8",
                            "state": "active",
                            "vpc_peering_connection_id": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_route_table.external": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "rtb-fc9abc9a",
                        "attributes": {
                            "id": "rtb-fc9abc9a",
                            "propagating_vgws.#": "0",
                            "route.#": "4",
                            "route.2206207078.cidr_block": "10.32.0.0/24",
                            "route.2206207078.egress_only_gateway_id": "",
                            "route.2206207078.gateway_id": "",
                            "route.2206207078.instance_id": "",
                            "route.2206207078.ipv6_cidr_block": "",
                            "route.2206207078.nat_gateway_id": "",
                            "route.2206207078.network_interface_id": "",
                            "route.2206207078.vpc_peering_connection_id": "pcx-4a73ea23",
                            "route.4128120419.cidr_block": "10.32.3.0/24",
                            "route.4128120419.egress_only_gateway_id": "",
                            "route.4128120419.gateway_id": "",
                            "route.4128120419.instance_id": "",
                            "route.4128120419.ipv6_cidr_block": "",
                            "route.4128120419.nat_gateway_id": "",
                            "route.4128120419.network_interface_id": "",
                            "route.4128120419.vpc_peering_connection_id": "pcx-91f961f8",
                            "route.472141490.cidr_block": "0.0.0.0/0",
                            "route.472141490.egress_only_gateway_id": "",
                            "route.472141490.gateway_id": "igw-e0c14c87",
                            "route.472141490.instance_id": "",
                            "route.472141490.ipv6_cidr_block": "",
                            "route.472141490.nat_gateway_id": "",
                            "route.472141490.network_interface_id": "",
                            "route.472141490.vpc_peering_connection_id": "",
                            "route.613310056.cidr_block": "10.32.4.0/24",
                            "route.613310056.egress_only_gateway_id": "",
                            "route.613310056.gateway_id": "",
                            "route.613310056.instance_id": "",
                            "route.613310056.ipv6_cidr_block": "",
                            "route.613310056.nat_gateway_id": "",
                            "route.613310056.network_interface_id": "",
                            "route.613310056.vpc_peering_connection_id": "pcx-c4f961ad",
                            "tags.%": "1",
                            "tags.Name": "Infrastructure-external-001",
                            "vpc_id": "vpc-39e6355f"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_route_table.internal.0": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "rtb-35614053",
                        "attributes": {
                            "id": "rtb-35614053",
                            "propagating_vgws.#": "0",
                            "route.#": "4",
                            "route.2206207078.cidr_block": "10.32.0.0/24",
                            "route.2206207078.egress_only_gateway_id": "",
                            "route.2206207078.gateway_id": "",
                            "route.2206207078.instance_id": "",
                            "route.2206207078.ipv6_cidr_block": "",
                            "route.2206207078.nat_gateway_id": "",
                            "route.2206207078.network_interface_id": "",
                            "route.2206207078.vpc_peering_connection_id": "pcx-4a73ea23",
                            "route.3642312457.cidr_block": "0.0.0.0/0",
                            "route.3642312457.egress_only_gateway_id": "",
                            "route.3642312457.gateway_id": "",
                            "route.3642312457.instance_id": "",
                            "route.3642312457.ipv6_cidr_block": "",
                            "route.3642312457.nat_gateway_id": "nat-02f8955364dc326ca",
                            "route.3642312457.network_interface_id": "",
                            "route.3642312457.vpc_peering_connection_id": "",
                            "route.4128120419.cidr_block": "10.32.3.0/24",
                            "route.4128120419.egress_only_gateway_id": "",
                            "route.4128120419.gateway_id": "",
                            "route.4128120419.instance_id": "",
                            "route.4128120419.ipv6_cidr_block": "",
                            "route.4128120419.nat_gateway_id": "",
                            "route.4128120419.network_interface_id": "",
                            "route.4128120419.vpc_peering_connection_id": "pcx-91f961f8",
                            "route.613310056.cidr_block": "10.32.4.0/24",
                            "route.613310056.egress_only_gateway_id": "",
                            "route.613310056.gateway_id": "",
                            "route.613310056.instance_id": "",
                            "route.613310056.ipv6_cidr_block": "",
                            "route.613310056.nat_gateway_id": "",
                            "route.613310056.network_interface_id": "",
                            "route.613310056.vpc_peering_connection_id": "pcx-c4f961ad",
                            "tags.%": "1",
                            "tags.Name": "Infrastructure-internal-001",
                            "vpc_id": "vpc-39e6355f"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_route_table.internal.1": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "rtb-ad98becb",
                        "attributes": {
                            "id": "rtb-ad98becb",
                            "propagating_vgws.#": "0",
                            "route.#": "4",
                            "route.2206207078.cidr_block": "10.32.0.0/24",
                            "route.2206207078.egress_only_gateway_id": "",
                            "route.2206207078.gateway_id": "",
                            "route.2206207078.instance_id": "",
                            "route.2206207078.ipv6_cidr_block": "",
                            "route.2206207078.nat_gateway_id": "",
                            "route.2206207078.network_interface_id": "",
                            "route.2206207078.vpc_peering_connection_id": "pcx-4a73ea23",
                            "route.3256296606.cidr_block": "0.0.0.0/0",
                            "route.3256296606.egress_only_gateway_id": "",
                            "route.3256296606.gateway_id": "",
                            "route.3256296606.instance_id": "",
                            "route.3256296606.ipv6_cidr_block": "",
                            "route.3256296606.nat_gateway_id": "nat-08e0bd3e376c78581",
                            "route.3256296606.network_interface_id": "",
                            "route.3256296606.vpc_peering_connection_id": "",
                            "route.4128120419.cidr_block": "10.32.3.0/24",
                            "route.4128120419.egress_only_gateway_id": "",
                            "route.4128120419.gateway_id": "",
                            "route.4128120419.instance_id": "",
                            "route.4128120419.ipv6_cidr_block": "",
                            "route.4128120419.nat_gateway_id": "",
                            "route.4128120419.network_interface_id": "",
                            "route.4128120419.vpc_peering_connection_id": "pcx-91f961f8",
                            "route.613310056.cidr_block": "10.32.4.0/24",
                            "route.613310056.egress_only_gateway_id": "",
                            "route.613310056.gateway_id": "",
                            "route.613310056.instance_id": "",
                            "route.613310056.ipv6_cidr_block": "",
                            "route.613310056.nat_gateway_id": "",
                            "route.613310056.network_interface_id": "",
                            "route.613310056.vpc_peering_connection_id": "pcx-c4f961ad",
                            "tags.%": "1",
                            "tags.Name": "Infrastructure-internal-002",
                            "vpc_id": "vpc-39e6355f"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_route_table.internal.2": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "rtb-be9dbbd8",
                        "attributes": {
                            "id": "rtb-be9dbbd8",
                            "propagating_vgws.#": "0",
                            "route.#": "4",
                            "route.2206207078.cidr_block": "10.32.0.0/24",
                            "route.2206207078.egress_only_gateway_id": "",
                            "route.2206207078.gateway_id": "",
                            "route.2206207078.instance_id": "",
                            "route.2206207078.ipv6_cidr_block": "",
                            "route.2206207078.nat_gateway_id": "",
                            "route.2206207078.network_interface_id": "",
                            "route.2206207078.vpc_peering_connection_id": "pcx-4a73ea23",
                            "route.4128120419.cidr_block": "10.32.3.0/24",
                            "route.4128120419.egress_only_gateway_id": "",
                            "route.4128120419.gateway_id": "",
                            "route.4128120419.instance_id": "",
                            "route.4128120419.ipv6_cidr_block": "",
                            "route.4128120419.nat_gateway_id": "",
                            "route.4128120419.network_interface_id": "",
                            "route.4128120419.vpc_peering_connection_id": "pcx-91f961f8",
                            "route.4201299857.cidr_block": "0.0.0.0/0",
                            "route.4201299857.egress_only_gateway_id": "",
                            "route.4201299857.gateway_id": "",
                            "route.4201299857.instance_id": "",
                            "route.4201299857.ipv6_cidr_block": "",
                            "route.4201299857.nat_gateway_id": "nat-01503c06f37c211f8",
                            "route.4201299857.network_interface_id": "",
                            "route.4201299857.vpc_peering_connection_id": "",
                            "route.613310056.cidr_block": "10.32.4.0/24",
                            "route.613310056.egress_only_gateway_id": "",
                            "route.613310056.gateway_id": "",
                            "route.613310056.instance_id": "",
                            "route.613310056.ipv6_cidr_block": "",
                            "route.613310056.nat_gateway_id": "",
                            "route.613310056.network_interface_id": "",
                            "route.613310056.vpc_peering_connection_id": "pcx-c4f961ad",
                            "tags.%": "1",
                            "tags.Name": "Infrastructure-internal-003",
                            "vpc_id": "vpc-39e6355f"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_route_table_association.external.0": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.external",
                        "aws_subnet.external.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-873135fe",
                        "attributes": {
                            "id": "rtbassoc-873135fe",
                            "route_table_id": "rtb-fc9abc9a",
                            "subnet_id": "subnet-2c3a3d65"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_route_table_association.external.1": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.external",
                        "aws_subnet.external.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-ee313597",
                        "attributes": {
                            "id": "rtbassoc-ee313597",
                            "route_table_id": "rtb-fc9abc9a",
                            "subnet_id": "subnet-7833de1e"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_route_table_association.external.2": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.external",
                        "aws_subnet.external.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-68333711",
                        "attributes": {
                            "id": "rtbassoc-68333711",
                            "route_table_id": "rtb-fc9abc9a",
                            "subnet_id": "subnet-1dca4e46"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_route_table_association.internal.0": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.internal.*",
                        "aws_subnet.internal.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-00303479",
                        "attributes": {
                            "id": "rtbassoc-00303479",
                            "route_table_id": "rtb-35614053",
                            "subnet_id": "subnet-d63b3c9f"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_route_table_association.internal.1": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.internal.*",
                        "aws_subnet.internal.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-ed3c3894",
                        "attributes": {
                            "id": "rtbassoc-ed3c3894",
                            "route_table_id": "rtb-ad98becb",
                            "subnet_id": "subnet-cc08e5aa"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_route_table_association.internal.2": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.internal.*",
                        "aws_subnet.internal.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-a43034dd",
                        "attributes": {
                            "id": "rtbassoc-a43034dd",
                            "route_table_id": "rtb-be9dbbd8",
                            "subnet_id": "subnet-7bc94d20"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_subnet.external.0": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-2c3a3d65",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-west-2a",
                            "cidr_block": "10.40.4.0/24",
                            "id": "subnet-2c3a3d65",
                            "map_public_ip_on_launch": "true",
                            "tags.%": "1",
                            "tags.Name": "Infrastructure-external-001",
                            "vpc_id": "vpc-39e6355f"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_subnet.external.1": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-7833de1e",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-west-2b",
                            "cidr_block": "10.40.5.0/24",
                            "id": "subnet-7833de1e",
                            "map_public_ip_on_launch": "true",
                            "tags.%": "1",
                            "tags.Name": "Infrastructure-external-002",
                            "vpc_id": "vpc-39e6355f"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_subnet.external.2": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-1dca4e46",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-west-2c",
                            "cidr_block": "10.40.6.0/24",
                            "id": "subnet-1dca4e46",
                            "map_public_ip_on_launch": "true",
                            "tags.%": "1",
                            "tags.Name": "Infrastructure-external-003",
                            "vpc_id": "vpc-39e6355f"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_subnet.internal.0": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-d63b3c9f",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-west-2a",
                            "cidr_block": "10.40.0.0/24",
                            "id": "subnet-d63b3c9f",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "1",
                            "tags.Name": "Infrastructure-internal-001",
                            "vpc_id": "vpc-39e6355f"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_subnet.internal.1": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-cc08e5aa",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-west-2b",
                            "cidr_block": "10.40.1.0/24",
                            "id": "subnet-cc08e5aa",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "1",
                            "tags.Name": "Infrastructure-internal-002",
                            "vpc_id": "vpc-39e6355f"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_subnet.internal.2": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-7bc94d20",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-west-2c",
                            "cidr_block": "10.40.2.0/24",
                            "id": "subnet-7bc94d20",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "1",
                            "tags.Name": "Infrastructure-internal-003",
                            "vpc_id": "vpc-39e6355f"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                },
                "aws_vpc.main": {
                    "type": "aws_vpc",
                    "depends_on": [],
                    "primary": {
                        "id": "vpc-39e6355f",
                        "attributes": {
                            "assign_generated_ipv6_cidr_block": "false",
                            "cidr_block": "10.40.0.0/21",
                            "default_network_acl_id": "acl-7eb7d318",
                            "default_route_table_id": "rtb-8b9abced",
                            "default_security_group_id": "sg-7714af0d",
                            "dhcp_options_id": "dopt-30ede557",
                            "enable_classiclink": "false",
                            "enable_dns_hostnames": "true",
                            "enable_dns_support": "true",
                            "id": "vpc-39e6355f",
                            "instance_tenancy": "default",
                            "main_route_table_id": "rtb-8b9abced",
                            "tags.%": "1",
                            "tags.Name": "Infrastructure"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "aws.local"
                }
            },
            "depends_on": []
        }
    ]
}
