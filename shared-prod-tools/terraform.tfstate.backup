{
    "version": 3,
    "terraform_version": "0.9.1",
    "serial": 42,
    "lineage": "91a49dd5-a51c-4a8d-aff4-b450721b1070",
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {},
            "resources": {
                "aws_autoscaling_attachment.consul-slaves": {
                    "type": "aws_autoscaling_attachment",
                    "depends_on": [
                        "aws_elb.consul-slaves",
                        "module.engineering-preprods-ecs-cluster"
                    ],
                    "primary": {
                        "id": "shared-production-tools-ecs-instances-00c9020b5806fd5828bb85e901",
                        "attributes": {
                            "autoscaling_group_name": "shared-production-tools-ecs-instances",
                            "elb": "consul-slaves",
                            "id": "shared-production-tools-ecs-instances-00c9020b5806fd5828bb85e901"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_autoscaling_attachment.vault": {
                    "type": "aws_autoscaling_attachment",
                    "depends_on": [
                        "aws_elb.vault",
                        "module.engineering-preprods-ecs-cluster"
                    ],
                    "primary": {
                        "id": "shared-production-tools-ecs-instances-00117b9e7b72477ab0ea42dcb8",
                        "attributes": {
                            "autoscaling_group_name": "shared-production-tools-ecs-instances",
                            "elb": "vault",
                            "id": "shared-production-tools-ecs-instances-00117b9e7b72477ab0ea42dcb8"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_cloudwatch_log_group.tools": {
                    "type": "aws_cloudwatch_log_group",
                    "depends_on": [],
                    "primary": {
                        "id": "shared-production-infra",
                        "attributes": {
                            "arn": "arn:aws:logs:us-west-2:433610389961:log-group:shared-production-infra:*",
                            "id": "shared-production-infra",
                            "name": "shared-production-infra",
                            "retention_in_days": "0",
                            "tags.%": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ebs_volume.consul_master_storage": {
                    "type": "aws_ebs_volume",
                    "depends_on": [],
                    "primary": {
                        "id": "vol-035567dd2bb75c563",
                        "attributes": {
                            "availability_zone": "us-west-2a",
                            "encrypted": "false",
                            "id": "vol-035567dd2bb75c563",
                            "size": "20",
                            "snapshot_id": "",
                            "tags.%": "1",
                            "tags.Name": "Consul Master Storage",
                            "type": "standard"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecs_service.main": {
                    "type": "aws_ecs_service",
                    "depends_on": [
                        "aws_ecs_task_definition.consul-slaves",
                        "module.engineering-preprods-ecs-cluster"
                    ],
                    "primary": {
                        "id": "arn:aws:ecs:us-west-2:433610389961:service/consul-slaves",
                        "attributes": {
                            "cluster": "shared-production-tools",
                            "deployment_maximum_percent": "200",
                            "deployment_minimum_healthy_percent": "100",
                            "desired_count": "3",
                            "id": "arn:aws:ecs:us-west-2:433610389961:service/consul-slaves",
                            "name": "consul-slaves",
                            "placement_constraints.#": "0",
                            "placement_strategy.#": "0",
                            "task_definition": "arn:aws:ecs:us-west-2:433610389961:task-definition/consul-slave:6"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecs_service.vault": {
                    "type": "aws_ecs_service",
                    "depends_on": [
                        "aws_ecs_task_definition.vault",
                        "module.engineering-preprods-ecs-cluster"
                    ],
                    "primary": {
                        "id": "arn:aws:ecs:us-west-2:433610389961:service/vault",
                        "attributes": {
                            "cluster": "shared-production-tools",
                            "deployment_maximum_percent": "200",
                            "deployment_minimum_healthy_percent": "100",
                            "desired_count": "3",
                            "id": "arn:aws:ecs:us-west-2:433610389961:service/vault",
                            "name": "vault",
                            "placement_constraints.#": "0",
                            "placement_strategy.#": "0",
                            "task_definition": "arn:aws:ecs:us-west-2:433610389961:task-definition/vault:10"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecs_task_definition.consul-slaves": {
                    "type": "aws_ecs_task_definition",
                    "depends_on": [
                        "data.template_file.consul_slaves_ecs_task"
                    ],
                    "primary": {
                        "id": "consul-slave",
                        "attributes": {
                            "arn": "arn:aws:ecs:us-west-2:433610389961:task-definition/consul-slave:6",
                            "container_definitions": "2f261104a514d3f73d01c9558cda7b97053d1842",
                            "family": "consul-slave",
                            "id": "consul-slave",
                            "network_mode": "host",
                            "placement_constraints.#": "0",
                            "revision": "6",
                            "task_role_arn": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecs_task_definition.vault": {
                    "type": "aws_ecs_task_definition",
                    "depends_on": [
                        "data.template_file.vault_ecs_task"
                    ],
                    "primary": {
                        "id": "vault",
                        "attributes": {
                            "arn": "arn:aws:ecs:us-west-2:433610389961:task-definition/vault:10",
                            "container_definitions": "0a0fbad35ed3b502888bf26b154628cc453d21df",
                            "family": "vault",
                            "id": "vault",
                            "network_mode": "",
                            "placement_constraints.#": "0",
                            "revision": "10",
                            "task_role_arn": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_eip.pritunl": {
                    "type": "aws_eip",
                    "depends_on": [
                        "aws_instance.pritunl"
                    ],
                    "primary": {
                        "id": "eipalloc-9d63f4a7",
                        "attributes": {
                            "association_id": "eipassoc-4923b573",
                            "domain": "vpc",
                            "id": "eipalloc-9d63f4a7",
                            "instance": "i-0bf70448fc9c334ae",
                            "network_interface": "eni-99c5aba3",
                            "private_ip": "10.50.35.107",
                            "public_ip": "35.163.201.61",
                            "vpc": "true"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_elb.consul-slaves": {
                    "type": "aws_elb",
                    "depends_on": [
                        "module.security_groups",
                        "module.vpc"
                    ],
                    "primary": {
                        "id": "consul-slaves",
                        "attributes": {
                            "access_logs.#": "0",
                            "availability_zones.#": "3",
                            "availability_zones.2050015877": "us-west-2c",
                            "availability_zones.221770259": "us-west-2b",
                            "availability_zones.2487133097": "us-west-2a",
                            "connection_draining": "true",
                            "connection_draining_timeout": "400",
                            "cross_zone_load_balancing": "true",
                            "dns_name": "internal-consul-slaves-1533730951.us-west-2.elb.amazonaws.com",
                            "health_check.#": "1",
                            "health_check.0.healthy_threshold": "2",
                            "health_check.0.interval": "30",
                            "health_check.0.target": "TCP:8300",
                            "health_check.0.timeout": "3",
                            "health_check.0.unhealthy_threshold": "2",
                            "id": "consul-slaves",
                            "idle_timeout": "400",
                            "instances.#": "3",
                            "instances.1037602316": "i-0dd37cacd3ea0bee6",
                            "instances.1800724246": "i-04e61f30cd28737c8",
                            "instances.3543198853": "i-066255bbeab257e42",
                            "internal": "true",
                            "listener.#": "3",
                            "listener.1053189378.instance_port": "8500",
                            "listener.1053189378.instance_protocol": "http",
                            "listener.1053189378.lb_port": "8500",
                            "listener.1053189378.lb_protocol": "http",
                            "listener.1053189378.ssl_certificate_id": "",
                            "listener.2855878974.instance_port": "8600",
                            "listener.2855878974.instance_protocol": "tcp",
                            "listener.2855878974.lb_port": "8600",
                            "listener.2855878974.lb_protocol": "tcp",
                            "listener.2855878974.ssl_certificate_id": "",
                            "listener.72639894.instance_port": "8300",
                            "listener.72639894.instance_protocol": "tcp",
                            "listener.72639894.lb_port": "8300",
                            "listener.72639894.lb_protocol": "tcp",
                            "listener.72639894.ssl_certificate_id": "",
                            "name": "consul-slaves",
                            "security_groups.#": "1",
                            "security_groups.1051762784": "sg-601ad41b",
                            "source_security_group": "433610389961/engineering-internal_elb",
                            "source_security_group_id": "sg-601ad41b",
                            "subnets.#": "3",
                            "subnets.1310190815": "subnet-ad1c90e4",
                            "subnets.2066964497": "subnet-b3dcb6d4",
                            "subnets.2665776663": "subnet-a8688df3",
                            "tags.%": "1",
                            "tags.Name": "consul-slaves",
                            "zone_id": "Z1H1FL5HABSF5"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_elb.vault": {
                    "type": "aws_elb",
                    "depends_on": [
                        "module.security_groups",
                        "module.vpc"
                    ],
                    "primary": {
                        "id": "vault",
                        "attributes": {
                            "access_logs.#": "0",
                            "availability_zones.#": "3",
                            "availability_zones.2050015877": "us-west-2c",
                            "availability_zones.221770259": "us-west-2b",
                            "availability_zones.2487133097": "us-west-2a",
                            "connection_draining": "true",
                            "connection_draining_timeout": "400",
                            "cross_zone_load_balancing": "true",
                            "dns_name": "internal-vault-630453457.us-west-2.elb.amazonaws.com",
                            "health_check.#": "1",
                            "health_check.0.healthy_threshold": "2",
                            "health_check.0.interval": "30",
                            "health_check.0.target": "HTTP:8200/v1/sys/health",
                            "health_check.0.timeout": "3",
                            "health_check.0.unhealthy_threshold": "2",
                            "id": "vault",
                            "idle_timeout": "400",
                            "instances.#": "3",
                            "instances.1037602316": "i-0dd37cacd3ea0bee6",
                            "instances.1800724246": "i-04e61f30cd28737c8",
                            "instances.3543198853": "i-066255bbeab257e42",
                            "internal": "true",
                            "listener.#": "1",
                            "listener.1029626088.instance_port": "8200",
                            "listener.1029626088.instance_protocol": "http",
                            "listener.1029626088.lb_port": "8200",
                            "listener.1029626088.lb_protocol": "http",
                            "listener.1029626088.ssl_certificate_id": "",
                            "name": "vault",
                            "security_groups.#": "1",
                            "security_groups.1051762784": "sg-601ad41b",
                            "source_security_group": "433610389961/engineering-internal_elb",
                            "source_security_group_id": "sg-601ad41b",
                            "subnets.#": "3",
                            "subnets.1310190815": "subnet-ad1c90e4",
                            "subnets.2066964497": "subnet-b3dcb6d4",
                            "subnets.2665776663": "subnet-a8688df3",
                            "tags.%": "1",
                            "tags.Name": "vault",
                            "zone_id": "Z1H1FL5HABSF5"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_instance.consul_master": {
                    "type": "aws_instance",
                    "depends_on": [
                        "module.security_groups",
                        "module.vpc"
                    ],
                    "primary": {
                        "id": "i-054bb4d42105c2ad5",
                        "attributes": {
                            "ami": "ami-8ca83fec",
                            "associate_public_ip_address": "true",
                            "availability_zone": "us-west-2a",
                            "disable_api_termination": "false",
                            "ebs_block_device.#": "1",
                            "ebs_block_device.2484959975.delete_on_termination": "false",
                            "ebs_block_device.2484959975.device_name": "/dev/sdh",
                            "ebs_block_device.2484959975.encrypted": "false",
                            "ebs_block_device.2484959975.iops": "0",
                            "ebs_block_device.2484959975.snapshot_id": "",
                            "ebs_block_device.2484959975.volume_size": "20",
                            "ebs_block_device.2484959975.volume_type": "standard",
                            "ebs_optimized": "false",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "",
                            "id": "i-054bb4d42105c2ad5",
                            "instance_state": "running",
                            "instance_type": "t2.micro",
                            "ipv6_address_count": "0",
                            "ipv6_addresses.#": "0",
                            "key_name": "production-shared-tools",
                            "monitoring": "true",
                            "network_interface_id": "eni-91ddb1ab",
                            "private_dns": "ip-10-50-36-119.us-west-2.compute.internal",
                            "private_ip": "10.50.36.119",
                            "public_dns": "ec2-54-149-131-243.us-west-2.compute.amazonaws.com",
                            "public_ip": "54.149.131.243",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "100",
                            "root_block_device.0.volume_size": "8",
                            "root_block_device.0.volume_type": "gp2",
                            "security_groups.#": "0",
                            "source_dest_check": "false",
                            "subnet_id": "subnet-78028e31",
                            "tags.%": "1",
                            "tags.Name": "Consul - Master Node",
                            "tenancy": "default",
                            "user_data": "15402c72513b971bf7f449e2992243bcd98caf6a",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.2784399806": "sg-c122ecba"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_instance.pritunl": {
                    "type": "aws_instance",
                    "depends_on": [
                        "module.security_groups",
                        "module.vpc"
                    ],
                    "primary": {
                        "id": "i-0bf70448fc9c334ae",
                        "attributes": {
                            "ami": "ami-12f27672",
                            "associate_public_ip_address": "true",
                            "availability_zone": "us-west-2a",
                            "disable_api_termination": "false",
                            "ebs_block_device.#": "0",
                            "ebs_optimized": "false",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "",
                            "id": "i-0bf70448fc9c334ae",
                            "instance_state": "running",
                            "instance_type": "t2.micro",
                            "ipv6_address_count": "0",
                            "ipv6_addresses.#": "0",
                            "key_name": "production-shared-tools",
                            "monitoring": "true",
                            "network_interface_id": "eni-99c5aba3",
                            "private_dns": "ip-10-50-35-107.us-west-2.compute.internal",
                            "private_ip": "10.50.35.107",
                            "public_dns": "ec2-35-163-201-61.us-west-2.compute.amazonaws.com",
                            "public_ip": "35.163.201.61",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "100",
                            "root_block_device.0.volume_size": "8",
                            "root_block_device.0.volume_type": "gp2",
                            "security_groups.#": "0",
                            "source_dest_check": "false",
                            "subnet_id": "subnet-78028e31",
                            "tags.%": "1",
                            "tags.Name": "Pritunl - OpenVPN Master",
                            "tenancy": "default",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.1116848813": "sg-b739eacc"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route.internal.0": {
                    "type": "aws_route",
                    "depends_on": [
                        "aws_vpc_peering_connection.engineering_sandbox",
                        "data.terraform_remote_state.engineering",
                        "module.vpc",
                        "module.vpc"
                    ],
                    "primary": {
                        "id": "r-rtb-da9754bc1415821702",
                        "attributes": {
                            "destination_cidr_block": "10.40.0.0/16",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-da9754bc1415821702",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-da9754bc",
                            "state": "active",
                            "vpc_peering_connection_id": "pcx-1da92074"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route.internal.1": {
                    "type": "aws_route",
                    "depends_on": [
                        "aws_vpc_peering_connection.engineering_sandbox",
                        "data.terraform_remote_state.engineering",
                        "module.vpc",
                        "module.vpc"
                    ],
                    "primary": {
                        "id": "r-rtb-ea90538c1415821702",
                        "attributes": {
                            "destination_cidr_block": "10.40.0.0/16",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-ea90538c1415821702",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-ea90538c",
                            "state": "active",
                            "vpc_peering_connection_id": "pcx-1da92074"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route.internal.2": {
                    "type": "aws_route",
                    "depends_on": [
                        "aws_vpc_peering_connection.engineering_sandbox",
                        "data.terraform_remote_state.engineering",
                        "module.vpc",
                        "module.vpc"
                    ],
                    "primary": {
                        "id": "r-rtb-c59350a31415821702",
                        "attributes": {
                            "destination_cidr_block": "10.40.0.0/16",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-c59350a31415821702",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-c59350a3",
                            "state": "active",
                            "vpc_peering_connection_id": "pcx-1da92074"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route53_record.consul": {
                    "type": "aws_route53_record",
                    "depends_on": [
                        "aws_elb.consul-slaves",
                        "aws_elb.consul-slaves"
                    ],
                    "primary": {
                        "id": "Z2MDT77FL23F9B_consul.engineering.tux.rocks._A",
                        "attributes": {
                            "alias.#": "1",
                            "alias.3697086544.evaluate_target_health": "true",
                            "alias.3697086544.name": "internal-consul-slaves-1533730951.us-west-2.elb.amazonaws.com",
                            "alias.3697086544.zone_id": "Z1H1FL5HABSF5",
                            "fqdn": "consul.engineering.tux.rocks",
                            "health_check_id": "",
                            "id": "Z2MDT77FL23F9B_consul.engineering.tux.rocks._A",
                            "name": "consul.engineering.tux.rocks",
                            "records.#": "0",
                            "set_identifier": "",
                            "ttl": "0",
                            "type": "A",
                            "zone_id": "Z2MDT77FL23F9B"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route53_record.pritunl": {
                    "type": "aws_route53_record",
                    "depends_on": [
                        "aws_eip.pritunl"
                    ],
                    "primary": {
                        "id": "Z2MDT77FL23F9B_openvpn.engineering.tux.rocks._A",
                        "attributes": {
                            "fqdn": "openvpn.engineering.tux.rocks",
                            "health_check_id": "",
                            "id": "Z2MDT77FL23F9B_openvpn.engineering.tux.rocks._A",
                            "name": "openvpn.engineering.tux.rocks",
                            "records.#": "1",
                            "records.3915915238": "35.163.201.61",
                            "set_identifier": "",
                            "ttl": "300",
                            "type": "A",
                            "zone_id": "Z2MDT77FL23F9B"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route53_record.vault": {
                    "type": "aws_route53_record",
                    "depends_on": [
                        "aws_elb.vault",
                        "aws_elb.vault"
                    ],
                    "primary": {
                        "id": "Z2MDT77FL23F9B_vault.engineering.tux.rocks._A",
                        "attributes": {
                            "alias.#": "1",
                            "alias.3060601374.evaluate_target_health": "true",
                            "alias.3060601374.name": "internal-vault-630453457.us-west-2.elb.amazonaws.com",
                            "alias.3060601374.zone_id": "Z1H1FL5HABSF5",
                            "fqdn": "vault.engineering.tux.rocks",
                            "health_check_id": "",
                            "id": "Z2MDT77FL23F9B_vault.engineering.tux.rocks._A",
                            "name": "vault.engineering.tux.rocks",
                            "records.#": "0",
                            "set_identifier": "",
                            "ttl": "0",
                            "type": "A",
                            "zone_id": "Z2MDT77FL23F9B"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_volume_attachment.consul_master_storage": {
                    "type": "aws_volume_attachment",
                    "depends_on": [
                        "aws_ebs_volume.consul_master_storage",
                        "aws_instance.consul_master"
                    ],
                    "primary": {
                        "id": "vai-3679446406",
                        "attributes": {
                            "device_name": "/dev/sdh",
                            "id": "vai-3679446406",
                            "instance_id": "i-054bb4d42105c2ad5",
                            "volume_id": "vol-035567dd2bb75c563"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_vpc_peering_connection.engineering_sandbox": {
                    "type": "aws_vpc_peering_connection",
                    "depends_on": [
                        "data.terraform_remote_state.engineering",
                        "module.vpc"
                    ],
                    "primary": {
                        "id": "pcx-1da92074",
                        "attributes": {
                            "accept_status": "active",
                            "accepter.#": "1",
                            "accepter.1102046665.allow_classic_link_to_remote_vpc": "false",
                            "accepter.1102046665.allow_remote_vpc_dns_resolution": "true",
                            "accepter.1102046665.allow_vpc_to_remote_classic_link": "false",
                            "auto_accept": "true",
                            "id": "pcx-1da92074",
                            "peer_owner_id": "433610389961",
                            "peer_vpc_id": "vpc-21254546",
                            "requester.#": "1",
                            "requester.1102046665.allow_classic_link_to_remote_vpc": "false",
                            "requester.1102046665.allow_remote_vpc_dns_resolution": "true",
                            "requester.1102046665.allow_vpc_to_remote_classic_link": "false",
                            "tags.%": "0",
                            "vpc_id": "vpc-e2f2ad85"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.aws_ami.amazon-linux": {
                    "type": "aws_ami",
                    "depends_on": [],
                    "primary": {
                        "id": "ami-8ca83fec",
                        "attributes": {
                            "architecture": "x86_64",
                            "block_device_mappings.#": "1",
                            "block_device_mappings.340275815.device_name": "/dev/xvda",
                            "block_device_mappings.340275815.ebs.%": "6",
                            "block_device_mappings.340275815.ebs.delete_on_termination": "true",
                            "block_device_mappings.340275815.ebs.encrypted": "false",
                            "block_device_mappings.340275815.ebs.iops": "0",
                            "block_device_mappings.340275815.ebs.snapshot_id": "snap-066b5016ee2261563",
                            "block_device_mappings.340275815.ebs.volume_size": "8",
                            "block_device_mappings.340275815.ebs.volume_type": "gp2",
                            "block_device_mappings.340275815.no_device": "",
                            "block_device_mappings.340275815.virtual_name": "",
                            "creation_date": "2017-04-02T05:52:50.000Z",
                            "description": "Amazon Linux AMI 2017.03.0.20170401 x86_64 HVM GP2",
                            "filter.#": "3",
                            "filter.2041323087.name": "name",
                            "filter.2041323087.values.#": "1",
                            "filter.2041323087.values.0": "amzn-ami-*-x86_64-gp2",
                            "filter.490168357.name": "virtualization-type",
                            "filter.490168357.values.#": "1",
                            "filter.490168357.values.0": "hvm",
                            "filter.574890044.name": "owner-alias",
                            "filter.574890044.values.#": "1",
                            "filter.574890044.values.0": "amazon",
                            "hypervisor": "xen",
                            "id": "ami-8ca83fec",
                            "image_id": "ami-8ca83fec",
                            "image_location": "amazon/amzn-ami-hvm-2017.03.0.20170401-x86_64-gp2",
                            "image_owner_alias": "amazon",
                            "image_type": "machine",
                            "most_recent": "true",
                            "name": "amzn-ami-hvm-2017.03.0.20170401-x86_64-gp2",
                            "owner_id": "137112412989",
                            "product_codes.#": "0",
                            "public": "true",
                            "root_device_name": "/dev/xvda",
                            "root_device_type": "ebs",
                            "sriov_net_support": "simple",
                            "state": "available",
                            "state_reason.%": "2",
                            "state_reason.code": "UNSET",
                            "state_reason.message": "UNSET",
                            "tags.#": "0",
                            "virtualization_type": "hvm"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.template_file.consul_slaves_ecs_task": {
                    "type": "template_file",
                    "depends_on": [
                        "aws_instance.consul_master"
                    ],
                    "primary": {
                        "id": "a91b1c878fff03f2e43276307bd47fdc1f425142b2a61dcc33a9dcee1eac0b10",
                        "attributes": {
                            "id": "a91b1c878fff03f2e43276307bd47fdc1f425142b2a61dcc33a9dcee1eac0b10",
                            "rendered": "[\n  {\n    \"essential\": true,\n    \"memory\": 256,\n    \"image\": \"433610389961.dkr.ecr.us-west-2.amazonaws.com/consul/slave:latest\",\n    \"name\": \"consul-server\",\n    \"portMappings\": [\n      {\n        \"containerPort\": 8300,\n        \"hostPort\": 8300,\n        \"protocol\": \"tcp\"\n      },\n      {\n        \"containerPort\": 8301,\n        \"hostPort\": 8301,\n        \"protocol\": \"tcp\"\n      },\n      {\n        \"containerPort\": 8301,\n        \"hostPort\": 8301,\n        \"protocol\": \"udp\"\n      },\n      {\n        \"containerPort\": 8302,\n        \"hostPort\": 8302,\n        \"protocol\": \"tcp\"\n      },\n      {\n        \"containerPort\": 8400,\n        \"hostPort\": 8400,\n        \"protocol\": \"tcp\"\n      },\n      {\n        \"containerPort\": 8500,\n        \"hostPort\": 8500,\n        \"protocol\": \"tcp\"\n      },\n      {\n        \"containerPort\": 8600,\n        \"hostPort\": 8600,\n        \"protocol\": \"udp\"\n      }\n    ],\n    \"dnsServers\": [\n      \"172.17.0.1\",\n      \"8.8.8.8\"\n    ],\n    \"environment\": [\n      {\n        \"name\": \"CONSUL_MASTER_IP\",\n        \"value\": \"10.50.36.119\"\n      },\n      {\n        \"name\": \"CONSUL_ENCRYPTION_KEY\",\n        \"value\": \"kNjj4yLEimIH6GvasrhSIg==\"\n      }\n    ],\n    \"dnsSearchDomains\": [\"service.consul\"],\n    \"logConfiguration\": {\n      \"logDriver\": \"awslogs\",\n      \"options\": {\n        \"awslogs-group\": \"shared-production-infra\",\n        \"awslogs-region\": \"us-west-2\",\n        \"awslogs-stream-prefix\": \"consul-slave\"\n      }\n    }\n  }\n]",
                            "template": "[\n  {\n    \"essential\": true,\n    \"memory\": 256,\n    \"image\": \"433610389961.dkr.ecr.us-west-2.amazonaws.com/consul/slave:latest\",\n    \"name\": \"consul-server\",\n    \"portMappings\": [\n      {\n        \"containerPort\": 8300,\n        \"hostPort\": 8300,\n        \"protocol\": \"tcp\"\n      },\n      {\n        \"containerPort\": 8301,\n        \"hostPort\": 8301,\n        \"protocol\": \"tcp\"\n      },\n      {\n        \"containerPort\": 8301,\n        \"hostPort\": 8301,\n        \"protocol\": \"udp\"\n      },\n      {\n        \"containerPort\": 8302,\n        \"hostPort\": 8302,\n        \"protocol\": \"tcp\"\n      },\n      {\n        \"containerPort\": 8400,\n        \"hostPort\": 8400,\n        \"protocol\": \"tcp\"\n      },\n      {\n        \"containerPort\": 8500,\n        \"hostPort\": 8500,\n        \"protocol\": \"tcp\"\n      },\n      {\n        \"containerPort\": 8600,\n        \"hostPort\": 8600,\n        \"protocol\": \"udp\"\n      }\n    ],\n    \"dnsServers\": [\n      \"172.17.0.1\",\n      \"8.8.8.8\"\n    ],\n    \"environment\": [\n      {\n        \"name\": \"CONSUL_MASTER_IP\",\n        \"value\": \"${CONSUL_MASTER_IP}\"\n      },\n      {\n        \"name\": \"CONSUL_ENCRYPTION_KEY\",\n        \"value\": \"${CONSUL_ENCRYPTION_KEY}\"\n      }\n    ],\n    \"dnsSearchDomains\": [\"service.consul\"],\n    \"logConfiguration\": {\n      \"logDriver\": \"awslogs\",\n      \"options\": {\n        \"awslogs-group\": \"shared-production-infra\",\n        \"awslogs-region\": \"us-west-2\",\n        \"awslogs-stream-prefix\": \"consul-slave\"\n      }\n    }\n  }\n]",
                            "vars.%": "2",
                            "vars.CONSUL_ENCRYPTION_KEY": "kNjj4yLEimIH6GvasrhSIg==",
                            "vars.CONSUL_MASTER_IP": "10.50.36.119"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.template_file.ecs_cloud_config": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "d2528d8a65da2efa84beac9fef43b1436af0577fc8f7b16b6e516f724244c653",
                        "attributes": {
                            "id": "d2528d8a65da2efa84beac9fef43b1436af0577fc8f7b16b6e516f724244c653",
                            "rendered": "#!/bin/bash\n\n# Join the default ECS cluster\necho ECS_CLUSTER=shared-production-tools \u003e\u003e /etc/ecs/ecs.config\n\nPATH=$PATH:/usr/local/bin\n\n# Instance should be added to an security group that allows HTTP outbound\nyum update -y\n\n# Install packages\nyum -y install jq nfs-utils python27 python27-pip\n\nEC2_INSTANCE_ID=`curl -s http://169.254.169.254/latest/meta-data/instance-id`\n\n#NewRelic Installation\nrpm -Uvh https://download.newrelic.com/pub/newrelic/el5/i386/newrelic-repo-5-3.noarch.rpm\nyum install newrelic-sysmond -y\nusermod -a -G docker newrelic\nnrsysmond-config --set license_key=951db34ebed364ea663002571b63db5d3f827758\nsed -i '/#hostname*/c\\hostname=\\\"Shared Production Tools - ECS Container Instance ('$EC2_INSTANCE_ID')\\\"' /etc/newrelic/nrsysmond.cfg\nsed -i '/#labels*/c\\labels=Environment:Production;Team:Engineering;Datacenter:AWS' /etc/newrelic/nrsysmond.cfg\n/etc/init.d/newrelic-sysmond start\n\n# Using a different CIDR for Docker (not to conflict with coreIT VPC CIDR)\nsed -i '$ d' /etc/sysconfig/docker\necho 'OPTIONS=\"--default-ulimit nofile=1024:4096 --bip=192.168.5.1/24\"' \u003e\u003e /etc/sysconfig/docker\nservice docker stop\nip link set docker0 down\nip link delete docker0\nservice docker start\n\n# Restarting ECS\nstart ecs\n",
                            "template": "#!/bin/bash\n\n# Join the default ECS cluster\necho ECS_CLUSTER=${ecs_cluster_name} \u003e\u003e /etc/ecs/ecs.config\n\nPATH=$PATH:/usr/local/bin\n\n# Instance should be added to an security group that allows HTTP outbound\nyum update -y\n\n# Install packages\nyum -y install jq nfs-utils python27 python27-pip\n\nEC2_INSTANCE_ID=`curl -s http://169.254.169.254/latest/meta-data/instance-id`\n\n#NewRelic Installation\nrpm -Uvh https://download.newrelic.com/pub/newrelic/el5/i386/newrelic-repo-5-3.noarch.rpm\nyum install newrelic-sysmond -y\nusermod -a -G docker newrelic\nnrsysmond-config --set license_key=${newrelic_key}\nsed -i '/#hostname*/c\\hostname=\\\"${newrelic_hostname} ('$EC2_INSTANCE_ID')\\\"' /etc/newrelic/nrsysmond.cfg\nsed -i '/#labels*/c\\labels=${newrelic_labels}' /etc/newrelic/nrsysmond.cfg\n/etc/init.d/newrelic-sysmond start\n\n# Using a different CIDR for Docker (not to conflict with coreIT VPC CIDR)\nsed -i '$ d' /etc/sysconfig/docker\necho 'OPTIONS=\"--default-ulimit nofile=1024:4096 --bip=192.168.5.1/24\"' \u003e\u003e /etc/sysconfig/docker\nservice docker stop\nip link set docker0 down\nip link delete docker0\nservice docker start\n\n# Restarting ECS\nstart ecs\n",
                            "vars.%": "4",
                            "vars.ecs_cluster_name": "shared-production-tools",
                            "vars.newrelic_hostname": "Shared Production Tools - ECS Container Instance",
                            "vars.newrelic_key": "951db34ebed364ea663002571b63db5d3f827758",
                            "vars.newrelic_labels": "Environment:Production;Team:Engineering;Datacenter:AWS"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.template_file.vault_ecs_task": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "cd2e81e611b66c8744f4d837212254c89caa8cc04204c72d9186598bf4e3ca96",
                        "attributes": {
                            "id": "cd2e81e611b66c8744f4d837212254c89caa8cc04204c72d9186598bf4e3ca96",
                            "rendered": "[\n  {\n    \"essential\": true,\n    \"memory\": 256,\n    \"image\": \"433610389961.dkr.ecr.us-west-2.amazonaws.com/vault:latest\",\n    \"name\": \"vault-server\",\n    \"privileged\": true,\n    \"portMappings\": [\n      {\n        \"containerPort\": 8200,\n        \"hostPort\": 8200,\n        \"protocol\": \"tcp\"\n      },\n      {\n        \"containerPort\": 8201,\n        \"hostPort\": 8201,\n        \"protocol\": \"tcp\"\n      }\n    ],\n    \"dnsServers\": [\n      \"172.17.0.1\",\n      \"8.8.8.8\"\n    ],\n    \"environment\": [\n      {\n        \"name\": \"CONSUL_MASTER_IP\",\n        \"value\": \"consul.engineering.tux.rocks\"\n      }\n    ],\n    \"logConfiguration\": {\n      \"logDriver\": \"awslogs\",\n      \"options\": {\n        \"awslogs-group\": \"shared-production-infra\",\n        \"awslogs-region\": \"us-west-2\",\n        \"awslogs-stream-prefix\": \"vault\"\n      }\n    }\n  }\n]",
                            "template": "[\n  {\n    \"essential\": true,\n    \"memory\": 256,\n    \"image\": \"433610389961.dkr.ecr.us-west-2.amazonaws.com/vault:latest\",\n    \"name\": \"vault-server\",\n    \"privileged\": true,\n    \"portMappings\": [\n      {\n        \"containerPort\": 8200,\n        \"hostPort\": 8200,\n        \"protocol\": \"tcp\"\n      },\n      {\n        \"containerPort\": 8201,\n        \"hostPort\": 8201,\n        \"protocol\": \"tcp\"\n      }\n    ],\n    \"dnsServers\": [\n      \"172.17.0.1\",\n      \"8.8.8.8\"\n    ],\n    \"environment\": [\n      {\n        \"name\": \"CONSUL_MASTER_IP\",\n        \"value\": \"${CONSUL_MASTER_IP}\"\n      }\n    ],\n    \"logConfiguration\": {\n      \"logDriver\": \"awslogs\",\n      \"options\": {\n        \"awslogs-group\": \"shared-production-infra\",\n        \"awslogs-region\": \"us-west-2\",\n        \"awslogs-stream-prefix\": \"vault\"\n      }\n    }\n  }\n]",
                            "vars.%": "1",
                            "vars.CONSUL_MASTER_IP": "consul.engineering.tux.rocks"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.terraform_remote_state.engineering": {
                    "type": "terraform_remote_state",
                    "depends_on": [],
                    "primary": {
                        "id": "2017-04-11 16:29:57.160555442 +0000 UTC",
                        "attributes": {
                            "availability_zones.#": "3",
                            "availability_zones.0": "us-west-2a",
                            "availability_zones.1": "us-west-2b",
                            "availability_zones.2": "us-west-2c",
                            "backend": "s3",
                            "cidr": "10.40.0.0/16",
                            "config.%": "5",
                            "config.access_key": "AKIAJZSPEM5HOEMPP67Q",
                            "config.bucket": "lfe-terraform-states",
                            "config.key": "general/terraform.tfstate",
                            "config.region": "us-west-2",
                            "config.secret_key": "VtFYzpbv+TC9RGxEHVEDAneRMGAfVUaW+GswaruV",
                            "domain_name": "engineering.local",
                            "environment": "default",
                            "external_route_tables": "rtb-24b9bf43",
                            "external_subnets.#": "3",
                            "external_subnets.0": "subnet-56fe231f",
                            "external_subnets.1": "subnet-d973c8be",
                            "external_subnets.2": "subnet-192b1441",
                            "id": "2017-04-11 16:29:57.160555442 +0000 UTC",
                            "internal_route_tables": "rtb-27b9bf40,rtb-25b9bf42,rtb-23b9bf44",
                            "internal_subnets.#": "3",
                            "internal_subnets.0": "subnet-57fe231e",
                            "internal_subnets.1": "subnet-da73c8bd",
                            "internal_subnets.2": "subnet-1a2b1442",
                            "region": "us-west-2",
                            "sg_external_elb": "sg-4a044a32",
                            "sg_external_ssh": "sg-6dcc8c15",
                            "sg_internal_elb": "sg-49044a31",
                            "sg_internal_ssh": "sg-5dcc8c25",
                            "sg_vpn": "sg-3307494b",
                            "vpc_id": "vpc-21254546",
                            "vpc_security_group": "sg-7ccc8c04",
                            "zone_id": "Z1TA0POP3MZIJ5"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "ami"
            ],
            "outputs": {
                "ami_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "ami-9516adf5"
                }
            },
            "resources": {},
            "depends_on": []
        },
        {
            "path": [
                "root",
                "dhcp"
            ],
            "outputs": {},
            "resources": {
                "aws_vpc_dhcp_options.dns_resolver": {
                    "type": "aws_vpc_dhcp_options",
                    "depends_on": [],
                    "primary": {
                        "id": "dopt-e5229e82",
                        "attributes": {
                            "domain_name": "shared-prod-tools.local",
                            "domain_name_servers.#": "1",
                            "domain_name_servers.0": "10.50.0.2",
                            "id": "dopt-e5229e82",
                            "tags.%": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_vpc_dhcp_options_association.dns_resolver": {
                    "type": "aws_vpc_dhcp_options_association",
                    "depends_on": [
                        "aws_vpc_dhcp_options.dns_resolver"
                    ],
                    "primary": {
                        "id": "dopt-e5229e82-vpc-e2f2ad85",
                        "attributes": {
                            "dhcp_options_id": "dopt-e5229e82",
                            "id": "dopt-e5229e82-vpc-e2f2ad85",
                            "vpc_id": "vpc-e2f2ad85"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "dns"
            ],
            "outputs": {
                "name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "shared-prod-tools.local"
                },
                "name_servers": {
                    "sensitive": false,
                    "type": "string",
                    "value": "ns-0.awsdns-00.com.,ns-1024.awsdns-00.org.,ns-1536.awsdns-00.co.uk.,ns-512.awsdns-00.net."
                },
                "zone_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "Z3FWV51ZZEN5HN"
                }
            },
            "resources": {
                "aws_route53_zone.main": {
                    "type": "aws_route53_zone",
                    "depends_on": [],
                    "primary": {
                        "id": "Z3FWV51ZZEN5HN",
                        "attributes": {
                            "force_destroy": "false",
                            "id": "Z3FWV51ZZEN5HN",
                            "name": "shared-prod-tools.local",
                            "name_servers.#": "4",
                            "name_servers.0": "ns-0.awsdns-00.com.",
                            "name_servers.1": "ns-1024.awsdns-00.org.",
                            "name_servers.2": "ns-1536.awsdns-00.co.uk.",
                            "name_servers.3": "ns-512.awsdns-00.net.",
                            "tags.%": "0",
                            "vpc_id": "vpc-e2f2ad85",
                            "vpc_region": "us-west-2",
                            "zone_id": "Z3FWV51ZZEN5HN"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "engineering-preprods-ecs-cluster"
            ],
            "outputs": {
                "asg_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "shared-production-tools-ecs-instances"
                },
                "name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "shared-production-tools"
                },
                "security_group_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "sg-941ad4ef"
                }
            },
            "resources": {
                "aws_autoscaling_group.main": {
                    "type": "aws_autoscaling_group",
                    "depends_on": [
                        "aws_launch_configuration.main"
                    ],
                    "primary": {
                        "id": "shared-production-tools-ecs-instances",
                        "attributes": {
                            "arn": "arn:aws:autoscaling:us-west-2:433610389961:autoScalingGroup:3374d2f1-10dc-4b34-b1ac-ed1bb4aebb20:autoScalingGroupName/shared-production-tools-ecs-instances",
                            "availability_zones.#": "3",
                            "availability_zones.2050015877": "us-west-2c",
                            "availability_zones.221770259": "us-west-2b",
                            "availability_zones.2487133097": "us-west-2a",
                            "default_cooldown": "300",
                            "desired_capacity": "3",
                            "force_delete": "false",
                            "health_check_grace_period": "300",
                            "health_check_type": "EC2",
                            "id": "shared-production-tools-ecs-instances",
                            "launch_configuration": "shared-production-tools-ecs-000c5ec6808c06902d51653ce8",
                            "load_balancers.#": "2",
                            "load_balancers.3109631295": "consul-slaves",
                            "load_balancers.4281354529": "vault",
                            "max_size": "100",
                            "metrics_granularity": "1Minute",
                            "min_size": "3",
                            "name": "shared-production-tools-ecs-instances",
                            "placement_group": "",
                            "protect_from_scale_in": "false",
                            "suspended_processes.#": "0",
                            "tag.#": "4",
                            "tag.1039535141.key": "Environment",
                            "tag.1039535141.propagate_at_launch": "true",
                            "tag.1039535141.value": "Production",
                            "tag.3157549926.key": "Cluster",
                            "tag.3157549926.propagate_at_launch": "true",
                            "tag.3157549926.value": "shared-production-tools",
                            "tag.4146022801.key": "Name",
                            "tag.4146022801.propagate_at_launch": "true",
                            "tag.4146022801.value": "shared-production-tools",
                            "tag.534765253.key": "Team",
                            "tag.534765253.propagate_at_launch": "true",
                            "tag.534765253.value": "Engineering",
                            "target_group_arns.#": "0",
                            "termination_policies.#": "2",
                            "termination_policies.0": "OldestLaunchConfiguration",
                            "termination_policies.1": "Default",
                            "vpc_zone_identifier.#": "3",
                            "vpc_zone_identifier.1310190815": "subnet-ad1c90e4",
                            "vpc_zone_identifier.2066964497": "subnet-b3dcb6d4",
                            "vpc_zone_identifier.2665776663": "subnet-a8688df3",
                            "wait_for_capacity_timeout": "10m"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_autoscaling_policy.scale_down": {
                    "type": "aws_autoscaling_policy",
                    "depends_on": [
                        "aws_autoscaling_group.main"
                    ],
                    "primary": {
                        "id": "shared-production-tools-scaledown",
                        "attributes": {
                            "adjustment_type": "ChangeInCapacity",
                            "arn": "arn:aws:autoscaling:us-west-2:433610389961:scalingPolicy:13b5bc59-80d6-4359-8391-03e2ddb7f37c:autoScalingGroupName/shared-production-tools-ecs-instances:policyName/shared-production-tools-scaledown",
                            "autoscaling_group_name": "shared-production-tools-ecs-instances",
                            "cooldown": "300",
                            "estimated_instance_warmup": "0",
                            "id": "shared-production-tools-scaledown",
                            "metric_aggregation_type": "",
                            "min_adjustment_step": "0",
                            "name": "shared-production-tools-scaledown",
                            "policy_type": "SimpleScaling",
                            "scaling_adjustment": "-1",
                            "step_adjustment.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_autoscaling_policy.scale_up": {
                    "type": "aws_autoscaling_policy",
                    "depends_on": [
                        "aws_autoscaling_group.main"
                    ],
                    "primary": {
                        "id": "shared-production-tools-scaleup",
                        "attributes": {
                            "adjustment_type": "ChangeInCapacity",
                            "arn": "arn:aws:autoscaling:us-west-2:433610389961:scalingPolicy:76f9867b-0b90-4715-a5e5-ff900cd86da0:autoScalingGroupName/shared-production-tools-ecs-instances:policyName/shared-production-tools-scaleup",
                            "autoscaling_group_name": "shared-production-tools-ecs-instances",
                            "cooldown": "300",
                            "estimated_instance_warmup": "0",
                            "id": "shared-production-tools-scaleup",
                            "metric_aggregation_type": "",
                            "min_adjustment_step": "0",
                            "name": "shared-production-tools-scaleup",
                            "policy_type": "SimpleScaling",
                            "scaling_adjustment": "1",
                            "step_adjustment.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_cloudwatch_metric_alarm.cpu_high": {
                    "type": "aws_cloudwatch_metric_alarm",
                    "depends_on": [
                        "aws_autoscaling_policy.scale_up",
                        "aws_ecs_cluster.main"
                    ],
                    "primary": {
                        "id": "shared-production-tools-cpureservation-high",
                        "attributes": {
                            "actions_enabled": "true",
                            "alarm_actions.#": "1",
                            "alarm_actions.3326947664": "arn:aws:autoscaling:us-west-2:433610389961:scalingPolicy:76f9867b-0b90-4715-a5e5-ff900cd86da0:autoScalingGroupName/shared-production-tools-ecs-instances:policyName/shared-production-tools-scaleup",
                            "alarm_description": "Scale up if the cpu reservation is above 90% for 10 minutes",
                            "alarm_name": "shared-production-tools-cpureservation-high",
                            "comparison_operator": "GreaterThanOrEqualToThreshold",
                            "dimensions.%": "1",
                            "dimensions.ClusterName": "shared-production-tools",
                            "evaluation_periods": "2",
                            "extended_statistic": "",
                            "id": "shared-production-tools-cpureservation-high",
                            "insufficient_data_actions.#": "0",
                            "metric_name": "CPUReservation",
                            "namespace": "AWS/ECS",
                            "ok_actions.#": "0",
                            "period": "300",
                            "statistic": "Maximum",
                            "threshold": "90",
                            "unit": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_cloudwatch_metric_alarm.cpu_low": {
                    "type": "aws_cloudwatch_metric_alarm",
                    "depends_on": [
                        "aws_autoscaling_policy.scale_down",
                        "aws_cloudwatch_metric_alarm.memory_high",
                        "aws_ecs_cluster.main"
                    ],
                    "primary": {
                        "id": "shared-production-tools-cpureservation-low",
                        "attributes": {
                            "actions_enabled": "true",
                            "alarm_actions.#": "1",
                            "alarm_actions.2040287029": "arn:aws:autoscaling:us-west-2:433610389961:scalingPolicy:13b5bc59-80d6-4359-8391-03e2ddb7f37c:autoScalingGroupName/shared-production-tools-ecs-instances:policyName/shared-production-tools-scaledown",
                            "alarm_description": "Scale down if the cpu reservation is below 10% for 10 minutes",
                            "alarm_name": "shared-production-tools-cpureservation-low",
                            "comparison_operator": "LessThanOrEqualToThreshold",
                            "dimensions.%": "1",
                            "dimensions.ClusterName": "shared-production-tools",
                            "evaluation_periods": "2",
                            "extended_statistic": "",
                            "id": "shared-production-tools-cpureservation-low",
                            "insufficient_data_actions.#": "0",
                            "metric_name": "CPUReservation",
                            "namespace": "AWS/ECS",
                            "ok_actions.#": "0",
                            "period": "300",
                            "statistic": "Maximum",
                            "threshold": "10",
                            "unit": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_cloudwatch_metric_alarm.memory_high": {
                    "type": "aws_cloudwatch_metric_alarm",
                    "depends_on": [
                        "aws_autoscaling_policy.scale_up",
                        "aws_cloudwatch_metric_alarm.cpu_high",
                        "aws_ecs_cluster.main"
                    ],
                    "primary": {
                        "id": "shared-production-tools-memoryreservation-high",
                        "attributes": {
                            "actions_enabled": "true",
                            "alarm_actions.#": "1",
                            "alarm_actions.3326947664": "arn:aws:autoscaling:us-west-2:433610389961:scalingPolicy:76f9867b-0b90-4715-a5e5-ff900cd86da0:autoScalingGroupName/shared-production-tools-ecs-instances:policyName/shared-production-tools-scaleup",
                            "alarm_description": "Scale up if the memory reservation is above 90% for 10 minutes",
                            "alarm_name": "shared-production-tools-memoryreservation-high",
                            "comparison_operator": "GreaterThanOrEqualToThreshold",
                            "dimensions.%": "1",
                            "dimensions.ClusterName": "shared-production-tools",
                            "evaluation_periods": "2",
                            "extended_statistic": "",
                            "id": "shared-production-tools-memoryreservation-high",
                            "insufficient_data_actions.#": "0",
                            "metric_name": "MemoryReservation",
                            "namespace": "AWS/ECS",
                            "ok_actions.#": "0",
                            "period": "300",
                            "statistic": "Maximum",
                            "threshold": "90",
                            "unit": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_cloudwatch_metric_alarm.memory_low": {
                    "type": "aws_cloudwatch_metric_alarm",
                    "depends_on": [
                        "aws_autoscaling_policy.scale_down",
                        "aws_cloudwatch_metric_alarm.cpu_low",
                        "aws_ecs_cluster.main"
                    ],
                    "primary": {
                        "id": "shared-production-tools-memoryreservation-low",
                        "attributes": {
                            "actions_enabled": "true",
                            "alarm_actions.#": "1",
                            "alarm_actions.2040287029": "arn:aws:autoscaling:us-west-2:433610389961:scalingPolicy:13b5bc59-80d6-4359-8391-03e2ddb7f37c:autoScalingGroupName/shared-production-tools-ecs-instances:policyName/shared-production-tools-scaledown",
                            "alarm_description": "Scale down if the memory reservation is below 10% for 10 minutes",
                            "alarm_name": "shared-production-tools-memoryreservation-low",
                            "comparison_operator": "LessThanOrEqualToThreshold",
                            "dimensions.%": "1",
                            "dimensions.ClusterName": "shared-production-tools",
                            "evaluation_periods": "2",
                            "extended_statistic": "",
                            "id": "shared-production-tools-memoryreservation-low",
                            "insufficient_data_actions.#": "0",
                            "metric_name": "MemoryReservation",
                            "namespace": "AWS/ECS",
                            "ok_actions.#": "0",
                            "period": "300",
                            "statistic": "Maximum",
                            "threshold": "10",
                            "unit": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecs_cluster.main": {
                    "type": "aws_ecs_cluster",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:ecs:us-west-2:433610389961:cluster/shared-production-tools",
                        "attributes": {
                            "id": "arn:aws:ecs:us-west-2:433610389961:cluster/shared-production-tools",
                            "name": "shared-production-tools"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_launch_configuration.main": {
                    "type": "aws_launch_configuration",
                    "depends_on": [],
                    "primary": {
                        "id": "shared-production-tools-ecs-000c5ec6808c06902d51653ce8",
                        "attributes": {
                            "associate_public_ip_address": "false",
                            "ebs_block_device.#": "1",
                            "ebs_block_device.504524833.delete_on_termination": "true",
                            "ebs_block_device.504524833.device_name": "/dev/xvdcz",
                            "ebs_block_device.504524833.encrypted": "false",
                            "ebs_block_device.504524833.iops": "0",
                            "ebs_block_device.504524833.snapshot_id": "",
                            "ebs_block_device.504524833.volume_size": "25",
                            "ebs_block_device.504524833.volume_type": "gp2",
                            "ebs_optimized": "false",
                            "enable_monitoring": "true",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "arn:aws:iam::433610389961:instance-profile/ecsInstanceRole",
                            "id": "shared-production-tools-ecs-000c5ec6808c06902d51653ce8",
                            "image_id": "ami-022b9262",
                            "instance_type": "t2.micro",
                            "key_name": "production-shared-tools",
                            "name": "shared-production-tools-ecs-000c5ec6808c06902d51653ce8",
                            "name_prefix": "shared-production-tools-ecs-",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "0",
                            "root_block_device.0.volume_size": "25",
                            "root_block_device.0.volume_type": "gp2",
                            "security_groups.#": "1",
                            "security_groups.3395668630": "sg-941ad4ef",
                            "spot_price": "",
                            "user_data": "570ab7dd0eec4438873d4c1b1d1f46d38e1dc9d0",
                            "vpc_classic_link_id": "",
                            "vpc_classic_link_security_groups.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.template_cloudinit_config.cloud_config": {
                    "type": "template_cloudinit_config",
                    "depends_on": [],
                    "primary": {
                        "id": "3190890061",
                        "attributes": {
                            "base64_encode": "true",
                            "gzip": "false",
                            "id": "3190890061",
                            "part.#": "1",
                            "part.0.content": "#!/bin/bash\n\n# Join the default ECS cluster\necho ECS_CLUSTER=shared-production-tools \u003e\u003e /etc/ecs/ecs.config\n\nPATH=$PATH:/usr/local/bin\n\n# Instance should be added to an security group that allows HTTP outbound\nyum update -y\n\n# Install packages\nyum -y install jq nfs-utils python27 python27-pip\n\nEC2_INSTANCE_ID=`curl -s http://169.254.169.254/latest/meta-data/instance-id`\n\n#NewRelic Installation\nrpm -Uvh https://download.newrelic.com/pub/newrelic/el5/i386/newrelic-repo-5-3.noarch.rpm\nyum install newrelic-sysmond -y\nusermod -a -G docker newrelic\nnrsysmond-config --set license_key=951db34ebed364ea663002571b63db5d3f827758\nsed -i '/#hostname*/c\\hostname=\\\"Shared Production Tools - ECS Container Instance ('$EC2_INSTANCE_ID')\\\"' /etc/newrelic/nrsysmond.cfg\nsed -i '/#labels*/c\\labels=Environment:Production;Team:Engineering;Datacenter:AWS' /etc/newrelic/nrsysmond.cfg\n/etc/init.d/newrelic-sysmond start\n\n# Using a different CIDR for Docker (not to conflict with coreIT VPC CIDR)\nsed -i '$ d' /etc/sysconfig/docker\necho 'OPTIONS=\"--default-ulimit nofile=1024:4096 --bip=192.168.5.1/24\"' \u003e\u003e /etc/sysconfig/docker\nservice docker stop\nip link set docker0 down\nip link delete docker0\nservice docker start\n\n# Restarting ECS\nstart ecs\n",
                            "part.0.content_type": "",
                            "part.0.filename": "",
                            "part.0.merge_type": "",
                            "rendered": "Q29udGVudC1UeXBlOiBtdWx0aXBhcnQvbWl4ZWQ7IGJvdW5kYXJ5PSJNSU1FQk9VTkRBUlkiCk1JTUUtVmVyc2lvbjogMS4wDQotLU1JTUVCT1VOREFSWQ0KQ29udGVudC1UcmFuc2Zlci1FbmNvZGluZzogN2JpdA0KQ29udGVudC1UeXBlOiB0ZXh0L3BsYWluDQpNaW1lLVZlcnNpb246IDEuMA0KDQojIS9iaW4vYmFzaAoKIyBKb2luIHRoZSBkZWZhdWx0IEVDUyBjbHVzdGVyCmVjaG8gRUNTX0NMVVNURVI9c2hhcmVkLXByb2R1Y3Rpb24tdG9vbHMgPj4gL2V0Yy9lY3MvZWNzLmNvbmZpZwoKUEFUSD0kUEFUSDovdXNyL2xvY2FsL2JpbgoKIyBJbnN0YW5jZSBzaG91bGQgYmUgYWRkZWQgdG8gYW4gc2VjdXJpdHkgZ3JvdXAgdGhhdCBhbGxvd3MgSFRUUCBvdXRib3VuZAp5dW0gdXBkYXRlIC15CgojIEluc3RhbGwgcGFja2FnZXMKeXVtIC15IGluc3RhbGwganEgbmZzLXV0aWxzIHB5dGhvbjI3IHB5dGhvbjI3LXBpcAoKRUMyX0lOU1RBTkNFX0lEPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9pbnN0YW5jZS1pZGAKCiNOZXdSZWxpYyBJbnN0YWxsYXRpb24KcnBtIC1VdmggaHR0cHM6Ly9kb3dubG9hZC5uZXdyZWxpYy5jb20vcHViL25ld3JlbGljL2VsNS9pMzg2L25ld3JlbGljLXJlcG8tNS0zLm5vYXJjaC5ycG0KeXVtIGluc3RhbGwgbmV3cmVsaWMtc3lzbW9uZCAteQp1c2VybW9kIC1hIC1HIGRvY2tlciBuZXdyZWxpYwpucnN5c21vbmQtY29uZmlnIC0tc2V0IGxpY2Vuc2Vfa2V5PTk1MWRiMzRlYmVkMzY0ZWE2NjMwMDI1NzFiNjNkYjVkM2Y4Mjc3NTgKc2VkIC1pICcvI2hvc3RuYW1lKi9jXGhvc3RuYW1lPVwiU2hhcmVkIFByb2R1Y3Rpb24gVG9vbHMgLSBFQ1MgQ29udGFpbmVyIEluc3RhbmNlICgnJEVDMl9JTlNUQU5DRV9JRCcpXCInIC9ldGMvbmV3cmVsaWMvbnJzeXNtb25kLmNmZwpzZWQgLWkgJy8jbGFiZWxzKi9jXGxhYmVscz1FbnZpcm9ubWVudDpQcm9kdWN0aW9uO1RlYW06RW5naW5lZXJpbmc7RGF0YWNlbnRlcjpBV1MnIC9ldGMvbmV3cmVsaWMvbnJzeXNtb25kLmNmZwovZXRjL2luaXQuZC9uZXdyZWxpYy1zeXNtb25kIHN0YXJ0CgojIFVzaW5nIGEgZGlmZmVyZW50IENJRFIgZm9yIERvY2tlciAobm90IHRvIGNvbmZsaWN0IHdpdGggY29yZUlUIFZQQyBDSURSKQpzZWQgLWkgJyQgZCcgL2V0Yy9zeXNjb25maWcvZG9ja2VyCmVjaG8gJ09QVElPTlM9Ii0tZGVmYXVsdC11bGltaXQgbm9maWxlPTEwMjQ6NDA5NiAtLWJpcD0xOTIuMTY4LjUuMS8yNCInID4+IC9ldGMvc3lzY29uZmlnL2RvY2tlcgpzZXJ2aWNlIGRvY2tlciBzdG9wCmlwIGxpbmsgc2V0IGRvY2tlcjAgZG93bgppcCBsaW5rIGRlbGV0ZSBkb2NrZXIwCnNlcnZpY2UgZG9ja2VyIHN0YXJ0CgojIFJlc3RhcnRpbmcgRUNTCnN0YXJ0IGVjcwoNCi0tTUlNRUJPVU5EQVJZLS0NCg=="
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "security_groups"
            ],
            "outputs": {
                "consul-master": {
                    "sensitive": false,
                    "type": "string",
                    "value": "sg-c122ecba"
                },
                "internal_elb": {
                    "sensitive": false,
                    "type": "string",
                    "value": "sg-601ad41b"
                },
                "internal_ssh": {
                    "sensitive": false,
                    "type": "string",
                    "value": "sg-1718d66c"
                },
                "tools-ecs-cluster": {
                    "sensitive": false,
                    "type": "string",
                    "value": "sg-941ad4ef"
                },
                "vpn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "sg-b739eacc"
                }
            },
            "resources": {
                "aws_security_group.consul-master": {
                    "type": "aws_security_group",
                    "depends_on": [],
                    "primary": {
                        "id": "sg-c122ecba",
                        "attributes": {
                            "description": "Allows Consul Access from the ECS Cluster.",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.ipv6_cidr_blocks.#": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-c122ecba",
                            "ingress.#": "1",
                            "ingress.482069346.cidr_blocks.#": "1",
                            "ingress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.482069346.from_port": "0",
                            "ingress.482069346.ipv6_cidr_blocks.#": "0",
                            "ingress.482069346.protocol": "-1",
                            "ingress.482069346.security_groups.#": "0",
                            "ingress.482069346.self": "false",
                            "ingress.482069346.to_port": "0",
                            "name": "engineering-consul-master",
                            "owner_id": "433610389961",
                            "tags.%": "1",
                            "tags.Name": "Consul Master",
                            "vpc_id": "vpc-e2f2ad85"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group.internal_elb": {
                    "type": "aws_security_group",
                    "depends_on": [],
                    "primary": {
                        "id": "sg-601ad41b",
                        "attributes": {
                            "description": "Allows ELB Access Access",
                            "egress.#": "1",
                            "egress.1407289853.cidr_blocks.#": "1",
                            "egress.1407289853.cidr_blocks.0": "10.50.0.0/16",
                            "egress.1407289853.from_port": "0",
                            "egress.1407289853.ipv6_cidr_blocks.#": "0",
                            "egress.1407289853.prefix_list_ids.#": "0",
                            "egress.1407289853.protocol": "-1",
                            "egress.1407289853.security_groups.#": "0",
                            "egress.1407289853.self": "false",
                            "egress.1407289853.to_port": "0",
                            "id": "sg-601ad41b",
                            "ingress.#": "1",
                            "ingress.1407289853.cidr_blocks.#": "1",
                            "ingress.1407289853.cidr_blocks.0": "10.50.0.0/16",
                            "ingress.1407289853.from_port": "0",
                            "ingress.1407289853.ipv6_cidr_blocks.#": "0",
                            "ingress.1407289853.protocol": "-1",
                            "ingress.1407289853.security_groups.#": "0",
                            "ingress.1407289853.self": "false",
                            "ingress.1407289853.to_port": "0",
                            "name": "engineering-internal_elb",
                            "owner_id": "433610389961",
                            "tags.%": "1",
                            "tags.Name": "engineering internal elb",
                            "vpc_id": "vpc-e2f2ad85"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group.internal_ssh": {
                    "type": "aws_security_group",
                    "depends_on": [],
                    "primary": {
                        "id": "sg-1718d66c",
                        "attributes": {
                            "description": "Allows ssh from inside the VPN/VPC",
                            "egress.#": "1",
                            "egress.2898440063.cidr_blocks.#": "1",
                            "egress.2898440063.cidr_blocks.0": "10.50.0.0/16",
                            "egress.2898440063.from_port": "0",
                            "egress.2898440063.ipv6_cidr_blocks.#": "0",
                            "egress.2898440063.prefix_list_ids.#": "0",
                            "egress.2898440063.protocol": "tcp",
                            "egress.2898440063.security_groups.#": "0",
                            "egress.2898440063.self": "false",
                            "egress.2898440063.to_port": "0",
                            "id": "sg-1718d66c",
                            "ingress.#": "1",
                            "ingress.2541437006.cidr_blocks.#": "1",
                            "ingress.2541437006.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2541437006.from_port": "22",
                            "ingress.2541437006.ipv6_cidr_blocks.#": "0",
                            "ingress.2541437006.protocol": "tcp",
                            "ingress.2541437006.security_groups.#": "0",
                            "ingress.2541437006.self": "false",
                            "ingress.2541437006.to_port": "22",
                            "name": "engineering-internal-ssh",
                            "owner_id": "433610389961",
                            "tags.%": "1",
                            "tags.Name": "engineering internal ssh",
                            "vpc_id": "vpc-e2f2ad85"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group.tools": {
                    "type": "aws_security_group",
                    "depends_on": [],
                    "primary": {
                        "id": "sg-941ad4ef",
                        "attributes": {
                            "description": "Centralized SG for the Shared Production Tools ECS Cluster",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.ipv6_cidr_blocks.#": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-941ad4ef",
                            "ingress.#": "1",
                            "ingress.1404918823.cidr_blocks.#": "0",
                            "ingress.1404918823.from_port": "0",
                            "ingress.1404918823.ipv6_cidr_blocks.#": "0",
                            "ingress.1404918823.protocol": "-1",
                            "ingress.1404918823.security_groups.#": "2",
                            "ingress.1404918823.security_groups.1051762784": "sg-601ad41b",
                            "ingress.1404918823.security_groups.2784399806": "sg-c122ecba",
                            "ingress.1404918823.self": "true",
                            "ingress.1404918823.to_port": "0",
                            "name": "engineering-tools",
                            "owner_id": "433610389961",
                            "tags.%": "1",
                            "tags.Name": "Shared Production Tools",
                            "vpc_id": "vpc-e2f2ad85"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group.vpn": {
                    "type": "aws_security_group",
                    "depends_on": [],
                    "primary": {
                        "id": "sg-b739eacc",
                        "attributes": {
                            "description": "Pritunl OpenVPN Server",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.ipv6_cidr_blocks.#": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-b739eacc",
                            "ingress.#": "1",
                            "ingress.3132682223.cidr_blocks.#": "1",
                            "ingress.3132682223.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.3132682223.from_port": "10000",
                            "ingress.3132682223.ipv6_cidr_blocks.#": "0",
                            "ingress.3132682223.protocol": "udp",
                            "ingress.3132682223.security_groups.#": "0",
                            "ingress.3132682223.self": "false",
                            "ingress.3132682223.to_port": "20000",
                            "name": "engineering-vpn",
                            "owner_id": "433610389961",
                            "tags.%": "1",
                            "tags.Name": "Pritunl OpenVPN Server",
                            "vpc_id": "vpc-e2f2ad85"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group_rule.allow_elb": {
                    "type": "aws_security_group_rule",
                    "depends_on": [
                        "aws_security_group.internal_elb",
                        "aws_security_group.tools"
                    ],
                    "primary": {
                        "id": "sgrule-4215952124",
                        "attributes": {
                            "cidr_blocks.#": "0",
                            "from_port": "0",
                            "id": "sgrule-4215952124",
                            "ipv6_cidr_blocks.#": "0",
                            "prefix_list_ids.#": "0",
                            "protocol": "-1",
                            "security_group_id": "sg-941ad4ef",
                            "self": "false",
                            "source_security_group_id": "sg-601ad41b",
                            "to_port": "0",
                            "type": "ingress"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group_rule.allow_out": {
                    "type": "aws_security_group_rule",
                    "depends_on": [
                        "aws_security_group.tools"
                    ],
                    "primary": {
                        "id": "sgrule-2893547086",
                        "attributes": {
                            "cidr_blocks.#": "1",
                            "cidr_blocks.0": "0.0.0.0/0",
                            "from_port": "-1",
                            "id": "sgrule-2893547086",
                            "ipv6_cidr_blocks.#": "0",
                            "prefix_list_ids.#": "0",
                            "protocol": "-1",
                            "security_group_id": "sg-941ad4ef",
                            "self": "false",
                            "to_port": "-1",
                            "type": "egress"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "vpc"
            ],
            "outputs": {
                "availability_zones": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "us-west-2a",
                        "us-west-2b",
                        "us-west-2c"
                    ]
                },
                "external_rtb_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "rtb-32925154"
                },
                "external_subnets": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "subnet-78028e31",
                        "subnet-a7d9b3c0",
                        "subnet-76688d2d"
                    ]
                },
                "id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "vpc-e2f2ad85"
                },
                "internal_nat_ips": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "35.160.159.94",
                        "52.89.169.49",
                        "52.27.234.237"
                    ]
                },
                "internal_rtb_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "rtb-da9754bc,rtb-ea90538c,rtb-c59350a3"
                },
                "internal_subnets": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "subnet-ad1c90e4",
                        "subnet-b3dcb6d4",
                        "subnet-a8688df3"
                    ]
                },
                "raw_route_tables_id": {
                    "sensitive": false,
                    "type": "list",
                    "value": [
                        "rtb-da9754bc",
                        "rtb-ea90538c",
                        "rtb-c59350a3"
                    ]
                },
                "security_group": {
                    "sensitive": false,
                    "type": "string",
                    "value": "sg-5118d62a"
                }
            },
            "resources": {
                "aws_eip.nat.0": {
                    "type": "aws_eip",
                    "depends_on": [],
                    "primary": {
                        "id": "eipalloc-1818df7e",
                        "attributes": {
                            "association_id": "eipassoc-ea75a597",
                            "domain": "vpc",
                            "id": "eipalloc-1818df7e",
                            "instance": "",
                            "network_interface": "eni-cbf16cf1",
                            "private_ip": "10.50.46.182",
                            "public_ip": "35.160.159.94",
                            "vpc": "true"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_eip.nat.1": {
                    "type": "aws_eip",
                    "depends_on": [],
                    "primary": {
                        "id": "eipalloc-2026e146",
                        "attributes": {
                            "association_id": "eipassoc-1974a464",
                            "domain": "vpc",
                            "id": "eipalloc-2026e146",
                            "instance": "",
                            "network_interface": "eni-24acdf0c",
                            "private_ip": "10.50.106.24",
                            "public_ip": "52.89.169.49",
                            "vpc": "true"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_eip.nat.2": {
                    "type": "aws_eip",
                    "depends_on": [],
                    "primary": {
                        "id": "eipalloc-5027e036",
                        "attributes": {
                            "association_id": "eipassoc-2d76a650",
                            "domain": "vpc",
                            "id": "eipalloc-5027e036",
                            "instance": "",
                            "network_interface": "eni-eac874e6",
                            "private_ip": "10.50.175.113",
                            "public_ip": "52.27.234.237",
                            "vpc": "true"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_internet_gateway.main": {
                    "type": "aws_internet_gateway",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "igw-37bda353",
                        "attributes": {
                            "id": "igw-37bda353",
                            "tags.%": "1",
                            "tags.Name": "Shared Production Tools",
                            "vpc_id": "vpc-e2f2ad85"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_nat_gateway.main.0": {
                    "type": "aws_nat_gateway",
                    "depends_on": [
                        "aws_eip.nat.*",
                        "aws_internet_gateway.main",
                        "aws_subnet.external.*"
                    ],
                    "primary": {
                        "id": "nat-0d75e13777bbf96ab",
                        "attributes": {
                            "allocation_id": "eipalloc-1818df7e",
                            "id": "nat-0d75e13777bbf96ab",
                            "network_interface_id": "eni-cbf16cf1",
                            "private_ip": "10.50.46.182",
                            "public_ip": "35.160.159.94",
                            "subnet_id": "subnet-78028e31"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_nat_gateway.main.1": {
                    "type": "aws_nat_gateway",
                    "depends_on": [
                        "aws_eip.nat.*",
                        "aws_internet_gateway.main",
                        "aws_subnet.external.*"
                    ],
                    "primary": {
                        "id": "nat-03a101a30b93bcfad",
                        "attributes": {
                            "allocation_id": "eipalloc-2026e146",
                            "id": "nat-03a101a30b93bcfad",
                            "network_interface_id": "eni-24acdf0c",
                            "private_ip": "10.50.106.24",
                            "public_ip": "52.89.169.49",
                            "subnet_id": "subnet-a7d9b3c0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_nat_gateway.main.2": {
                    "type": "aws_nat_gateway",
                    "depends_on": [
                        "aws_eip.nat.*",
                        "aws_internet_gateway.main",
                        "aws_subnet.external.*"
                    ],
                    "primary": {
                        "id": "nat-071ab85273bcf43eb",
                        "attributes": {
                            "allocation_id": "eipalloc-5027e036",
                            "id": "nat-071ab85273bcf43eb",
                            "network_interface_id": "eni-eac874e6",
                            "private_ip": "10.50.175.113",
                            "public_ip": "52.27.234.237",
                            "subnet_id": "subnet-76688d2d"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route.external": {
                    "type": "aws_route",
                    "depends_on": [
                        "aws_internet_gateway.main",
                        "aws_route_table.external"
                    ],
                    "primary": {
                        "id": "r-rtb-329251541080289494",
                        "attributes": {
                            "destination_cidr_block": "0.0.0.0/0",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "igw-37bda353",
                            "id": "r-rtb-329251541080289494",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-32925154",
                            "state": "active",
                            "vpc_peering_connection_id": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route.internal.0": {
                    "type": "aws_route",
                    "depends_on": [
                        "aws_nat_gateway.main.*",
                        "aws_route_table.internal.*"
                    ],
                    "primary": {
                        "id": "r-rtb-da9754bc1080289494",
                        "attributes": {
                            "destination_cidr_block": "0.0.0.0/0",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-da9754bc1080289494",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "nat-0d75e13777bbf96ab",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-da9754bc",
                            "state": "active",
                            "vpc_peering_connection_id": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route.internal.1": {
                    "type": "aws_route",
                    "depends_on": [
                        "aws_nat_gateway.main.*",
                        "aws_route_table.internal.*"
                    ],
                    "primary": {
                        "id": "r-rtb-ea90538c1080289494",
                        "attributes": {
                            "destination_cidr_block": "0.0.0.0/0",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-ea90538c1080289494",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "nat-03a101a30b93bcfad",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-ea90538c",
                            "state": "active",
                            "vpc_peering_connection_id": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route.internal.2": {
                    "type": "aws_route",
                    "depends_on": [
                        "aws_nat_gateway.main.*",
                        "aws_route_table.internal.*"
                    ],
                    "primary": {
                        "id": "r-rtb-c59350a31080289494",
                        "attributes": {
                            "destination_cidr_block": "0.0.0.0/0",
                            "destination_prefix_list_id": "",
                            "egress_only_gateway_id": "",
                            "gateway_id": "",
                            "id": "r-rtb-c59350a31080289494",
                            "instance_id": "",
                            "instance_owner_id": "",
                            "nat_gateway_id": "nat-071ab85273bcf43eb",
                            "network_interface_id": "",
                            "origin": "CreateRoute",
                            "route_table_id": "rtb-c59350a3",
                            "state": "active",
                            "vpc_peering_connection_id": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table.external": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "rtb-32925154",
                        "attributes": {
                            "id": "rtb-32925154",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.1861732464.cidr_block": "0.0.0.0/0",
                            "route.1861732464.egress_only_gateway_id": "",
                            "route.1861732464.gateway_id": "igw-37bda353",
                            "route.1861732464.instance_id": "",
                            "route.1861732464.ipv6_cidr_block": "",
                            "route.1861732464.nat_gateway_id": "",
                            "route.1861732464.network_interface_id": "",
                            "route.1861732464.vpc_peering_connection_id": "",
                            "tags.%": "1",
                            "tags.Name": "Shared Production Tools-external-001",
                            "vpc_id": "vpc-e2f2ad85"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table.internal.0": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "rtb-da9754bc",
                        "attributes": {
                            "id": "rtb-da9754bc",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.3249006304.cidr_block": "0.0.0.0/0",
                            "route.3249006304.egress_only_gateway_id": "",
                            "route.3249006304.gateway_id": "",
                            "route.3249006304.instance_id": "",
                            "route.3249006304.ipv6_cidr_block": "",
                            "route.3249006304.nat_gateway_id": "nat-0d75e13777bbf96ab",
                            "route.3249006304.network_interface_id": "",
                            "route.3249006304.vpc_peering_connection_id": "",
                            "tags.%": "1",
                            "tags.Name": "Shared Production Tools-internal-001",
                            "vpc_id": "vpc-e2f2ad85"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table.internal.1": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "rtb-ea90538c",
                        "attributes": {
                            "id": "rtb-ea90538c",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.4227015204.cidr_block": "0.0.0.0/0",
                            "route.4227015204.egress_only_gateway_id": "",
                            "route.4227015204.gateway_id": "",
                            "route.4227015204.instance_id": "",
                            "route.4227015204.ipv6_cidr_block": "",
                            "route.4227015204.nat_gateway_id": "nat-03a101a30b93bcfad",
                            "route.4227015204.network_interface_id": "",
                            "route.4227015204.vpc_peering_connection_id": "",
                            "tags.%": "1",
                            "tags.Name": "Shared Production Tools-internal-002",
                            "vpc_id": "vpc-e2f2ad85"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table.internal.2": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "rtb-c59350a3",
                        "attributes": {
                            "id": "rtb-c59350a3",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.109508197.cidr_block": "0.0.0.0/0",
                            "route.109508197.egress_only_gateway_id": "",
                            "route.109508197.gateway_id": "",
                            "route.109508197.instance_id": "",
                            "route.109508197.ipv6_cidr_block": "",
                            "route.109508197.nat_gateway_id": "nat-071ab85273bcf43eb",
                            "route.109508197.network_interface_id": "",
                            "route.109508197.vpc_peering_connection_id": "",
                            "tags.%": "1",
                            "tags.Name": "Shared Production Tools-internal-003",
                            "vpc_id": "vpc-e2f2ad85"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table_association.external.0": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.external",
                        "aws_subnet.external.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-16e4126f",
                        "attributes": {
                            "id": "rtbassoc-16e4126f",
                            "route_table_id": "rtb-32925154",
                            "subnet_id": "subnet-78028e31"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table_association.external.1": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.external",
                        "aws_subnet.external.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-d4e214ad",
                        "attributes": {
                            "id": "rtbassoc-d4e214ad",
                            "route_table_id": "rtb-32925154",
                            "subnet_id": "subnet-a7d9b3c0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table_association.external.2": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.external",
                        "aws_subnet.external.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-88e513f1",
                        "attributes": {
                            "id": "rtbassoc-88e513f1",
                            "route_table_id": "rtb-32925154",
                            "subnet_id": "subnet-76688d2d"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table_association.internal.0": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.internal.*",
                        "aws_subnet.internal.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-39e11740",
                        "attributes": {
                            "id": "rtbassoc-39e11740",
                            "route_table_id": "rtb-da9754bc",
                            "subnet_id": "subnet-ad1c90e4"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table_association.internal.1": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.internal.*",
                        "aws_subnet.internal.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-7ee31507",
                        "attributes": {
                            "id": "rtbassoc-7ee31507",
                            "route_table_id": "rtb-ea90538c",
                            "subnet_id": "subnet-b3dcb6d4"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table_association.internal.2": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.internal.*",
                        "aws_subnet.internal.*"
                    ],
                    "primary": {
                        "id": "rtbassoc-a2e412db",
                        "attributes": {
                            "id": "rtbassoc-a2e412db",
                            "route_table_id": "rtb-c59350a3",
                            "subnet_id": "subnet-a8688df3"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_subnet.external.0": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-78028e31",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-west-2a",
                            "cidr_block": "10.50.32.0/20",
                            "id": "subnet-78028e31",
                            "map_public_ip_on_launch": "true",
                            "tags.%": "1",
                            "tags.Name": "Shared Production Tools-external-001",
                            "vpc_id": "vpc-e2f2ad85"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_subnet.external.1": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-a7d9b3c0",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-west-2b",
                            "cidr_block": "10.50.96.0/20",
                            "id": "subnet-a7d9b3c0",
                            "map_public_ip_on_launch": "true",
                            "tags.%": "1",
                            "tags.Name": "Shared Production Tools-external-002",
                            "vpc_id": "vpc-e2f2ad85"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_subnet.external.2": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-76688d2d",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-west-2c",
                            "cidr_block": "10.50.160.0/20",
                            "id": "subnet-76688d2d",
                            "map_public_ip_on_launch": "true",
                            "tags.%": "1",
                            "tags.Name": "Shared Production Tools-external-003",
                            "vpc_id": "vpc-e2f2ad85"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_subnet.internal.0": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-ad1c90e4",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-west-2a",
                            "cidr_block": "10.50.0.0/19",
                            "id": "subnet-ad1c90e4",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "1",
                            "tags.Name": "Shared Production Tools-internal-001",
                            "vpc_id": "vpc-e2f2ad85"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_subnet.internal.1": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-b3dcb6d4",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-west-2b",
                            "cidr_block": "10.50.64.0/19",
                            "id": "subnet-b3dcb6d4",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "1",
                            "tags.Name": "Shared Production Tools-internal-002",
                            "vpc_id": "vpc-e2f2ad85"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_subnet.internal.2": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.main"
                    ],
                    "primary": {
                        "id": "subnet-a8688df3",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "us-west-2c",
                            "cidr_block": "10.50.128.0/19",
                            "id": "subnet-a8688df3",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "1",
                            "tags.Name": "Shared Production Tools-internal-003",
                            "vpc_id": "vpc-e2f2ad85"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_vpc.main": {
                    "type": "aws_vpc",
                    "depends_on": [],
                    "primary": {
                        "id": "vpc-e2f2ad85",
                        "attributes": {
                            "assign_generated_ipv6_cidr_block": "false",
                            "cidr_block": "10.50.0.0/16",
                            "default_network_acl_id": "acl-10677177",
                            "default_route_table_id": "rtb-67925101",
                            "default_security_group_id": "sg-5118d62a",
                            "dhcp_options_id": "dopt-e5229e82",
                            "enable_classiclink": "false",
                            "enable_dns_hostnames": "true",
                            "enable_dns_support": "true",
                            "id": "vpc-e2f2ad85",
                            "instance_tenancy": "default",
                            "main_route_table_id": "rtb-67925101",
                            "tags.%": "1",
                            "tags.Name": "Shared Production Tools"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "ami",
                "ami"
            ],
            "outputs": {
                "ami_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "ami-9516adf5"
                }
            },
            "resources": {},
            "depends_on": []
        },
        {
            "path": [
                "root",
                "ami",
                "virttype"
            ],
            "outputs": {
                "prefer_hvm": {
                    "sensitive": false,
                    "type": "string",
                    "value": "hvm"
                },
                "prefer_pv": {
                    "sensitive": false,
                    "type": "string",
                    "value": "hvm"
                }
            },
            "resources": {},
            "depends_on": []
        }
    ]
}
