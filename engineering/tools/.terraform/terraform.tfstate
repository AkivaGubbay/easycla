{
    "version": 3,
    "terraform_version": "0.8.7",
    "serial": 25,
    "lineage": "8eecf0e5-a762-433b-a241-52c074cbdbae",
    "remote": {
        "type": "s3",
        "config": {
            "access_key": "AKIAJZSPEM5HOEMPP67Q",
            "bucket": "lfe-terraform-states",
            "key": "tools/terraform.tfstate",
            "region": "us-west-2",
            "secret_key": "VtFYzpbv+TC9RGxEHVEDAneRMGAfVUaW+GswaruV"
        }
    },
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {},
            "resources": {
                "aws_alb.pypi": {
                    "type": "aws_alb",
                    "depends_on": [
                        "aws_security_group.sg_external_pypi_elb",
                        "data.terraform_remote_state.engineering"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-west-2:433610389961:loadbalancer/app/engineering-tools-pypi/dfdeec8960254adf",
                        "attributes": {
                            "access_logs.#": "0",
                            "arn": "arn:aws:elasticloadbalancing:us-west-2:433610389961:loadbalancer/app/engineering-tools-pypi/dfdeec8960254adf",
                            "arn_suffix": "app/engineering-tools-pypi/dfdeec8960254adf",
                            "dns_name": "internal-engineering-tools-pypi-2116632598.us-west-2.elb.amazonaws.com",
                            "enable_deletion_protection": "false",
                            "id": "arn:aws:elasticloadbalancing:us-west-2:433610389961:loadbalancer/app/engineering-tools-pypi/dfdeec8960254adf",
                            "idle_timeout": "60",
                            "internal": "true",
                            "name": "engineering-tools-pypi",
                            "security_groups.#": "1",
                            "security_groups.918906552": "sg-042b767c",
                            "subnets.#": "3",
                            "subnets.2055414451": "subnet-1a2b1442",
                            "subnets.74575692": "subnet-57fe231e",
                            "subnets.873240711": "subnet-da73c8bd",
                            "tags.%": "3",
                            "tags.Environment": "Production",
                            "tags.Name": "PyPi Server",
                            "tags.Team": "Engineering",
                            "vpc_id": "vpc-21254546",
                            "zone_id": "Z1H1FL5HABSF5"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_alb_listener.pypi_443": {
                    "type": "aws_alb_listener",
                    "depends_on": [
                        "aws_alb.pypi",
                        "aws_alb_target_group.pypi"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-west-2:433610389961:listener/app/engineering-tools-pypi/dfdeec8960254adf/0fad26f2a3edf24b",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:us-west-2:433610389961:listener/app/engineering-tools-pypi/dfdeec8960254adf/0fad26f2a3edf24b",
                            "certificate_arn": "arn:aws:acm:us-west-2:433610389961:certificate/bb946be4-a4f4-4f91-a786-60eddbd055b6",
                            "default_action.#": "1",
                            "default_action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-west-2:433610389961:targetgroup/engineering-tools-pypi/4de9d61bd2bf0a5a",
                            "default_action.0.type": "forward",
                            "id": "arn:aws:elasticloadbalancing:us-west-2:433610389961:listener/app/engineering-tools-pypi/dfdeec8960254adf/0fad26f2a3edf24b",
                            "load_balancer_arn": "arn:aws:elasticloadbalancing:us-west-2:433610389961:loadbalancer/app/engineering-tools-pypi/dfdeec8960254adf",
                            "port": "443",
                            "protocol": "HTTPS",
                            "ssl_policy": "ELBSecurityPolicy-2015-05"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_alb_listener.pypi_80": {
                    "type": "aws_alb_listener",
                    "depends_on": [
                        "aws_alb.pypi",
                        "aws_alb_target_group.pypi"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-west-2:433610389961:listener/app/engineering-tools-pypi/dfdeec8960254adf/9c3c9c1475a138b3",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:us-west-2:433610389961:listener/app/engineering-tools-pypi/dfdeec8960254adf/9c3c9c1475a138b3",
                            "default_action.#": "1",
                            "default_action.0.target_group_arn": "arn:aws:elasticloadbalancing:us-west-2:433610389961:targetgroup/engineering-tools-pypi/4de9d61bd2bf0a5a",
                            "default_action.0.type": "forward",
                            "id": "arn:aws:elasticloadbalancing:us-west-2:433610389961:listener/app/engineering-tools-pypi/dfdeec8960254adf/9c3c9c1475a138b3",
                            "load_balancer_arn": "arn:aws:elasticloadbalancing:us-west-2:433610389961:loadbalancer/app/engineering-tools-pypi/dfdeec8960254adf",
                            "port": "80",
                            "protocol": "HTTP",
                            "ssl_policy": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_alb_target_group.pypi": {
                    "type": "aws_alb_target_group",
                    "depends_on": [
                        "data.terraform_remote_state.engineering"
                    ],
                    "primary": {
                        "id": "arn:aws:elasticloadbalancing:us-west-2:433610389961:targetgroup/engineering-tools-pypi/4de9d61bd2bf0a5a",
                        "attributes": {
                            "arn": "arn:aws:elasticloadbalancing:us-west-2:433610389961:targetgroup/engineering-tools-pypi/4de9d61bd2bf0a5a",
                            "arn_suffix": "targetgroup/engineering-tools-pypi/4de9d61bd2bf0a5a",
                            "deregistration_delay": "300",
                            "health_check.#": "1",
                            "health_check.0.healthy_threshold": "5",
                            "health_check.0.interval": "60",
                            "health_check.0.matcher": "200",
                            "health_check.0.path": "/",
                            "health_check.0.port": "traffic-port",
                            "health_check.0.protocol": "HTTP",
                            "health_check.0.timeout": "15",
                            "health_check.0.unhealthy_threshold": "3",
                            "id": "arn:aws:elasticloadbalancing:us-west-2:433610389961:targetgroup/engineering-tools-pypi/4de9d61bd2bf0a5a",
                            "name": "engineering-tools-pypi",
                            "port": "8080",
                            "protocol": "HTTP",
                            "vpc_id": "vpc-21254546"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_autoscaling_attachment.elk": {
                    "type": "aws_autoscaling_attachment",
                    "depends_on": [
                        "aws_elb.elk",
                        "module.engineering-tools-ecs-cluster"
                    ],
                    "primary": {
                        "id": "engineering-tools-ecs-instances-000a9820b6eae04a51d96084c1",
                        "attributes": {
                            "autoscaling_group_name": "engineering-tools-ecs-instances",
                            "elb": "engineering-tools-elk",
                            "id": "engineering-tools-ecs-instances-000a9820b6eae04a51d96084c1"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_autoscaling_attachment.jenkins_to_asg": {
                    "type": "aws_autoscaling_attachment",
                    "depends_on": [
                        "aws_elb.engineering_tools_jenkins",
                        "module.engineering-tools-ecs-cluster"
                    ],
                    "primary": {
                        "id": "engineering-tools-ecs-instances-00b3cfdff19c35eb4900b3df4d",
                        "attributes": {
                            "autoscaling_group_name": "engineering-tools-ecs-instances",
                            "elb": "engineering-tools-jenkins",
                            "id": "engineering-tools-ecs-instances-00b3cfdff19c35eb4900b3df4d"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_autoscaling_attachment.mongodb": {
                    "type": "aws_autoscaling_attachment",
                    "depends_on": [
                        "aws_elb.mongodb",
                        "module.engineering-tools-ecs-cluster"
                    ],
                    "primary": {
                        "id": "engineering-tools-ecs-instances-003f8c6512437bef37c7b9ec5a",
                        "attributes": {
                            "autoscaling_group_name": "engineering-tools-ecs-instances",
                            "elb": "engineering-tools-mongodb",
                            "id": "engineering-tools-ecs-instances-003f8c6512437bef37c7b9ec5a"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_cloudwatch_log_group.tools": {
                    "type": "aws_cloudwatch_log_group",
                    "depends_on": [],
                    "primary": {
                        "id": "engineering-tools",
                        "attributes": {
                            "arn": "arn:aws:logs:us-west-2:433610389961:log-group:engineering-tools:*",
                            "id": "engineering-tools",
                            "name": "engineering-tools",
                            "retention_in_days": "0",
                            "tags.%": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecs_service.elk": {
                    "type": "aws_ecs_service",
                    "depends_on": [
                        "aws_ecs_task_definition.elk",
                        "module.engineering-tools-ecs-cluster"
                    ],
                    "primary": {
                        "id": "arn:aws:ecs:us-west-2:433610389961:service/elk",
                        "attributes": {
                            "cluster": "engineering-tools",
                            "deployment_maximum_percent": "200",
                            "deployment_minimum_healthy_percent": "100",
                            "desired_count": "1",
                            "id": "arn:aws:ecs:us-west-2:433610389961:service/elk",
                            "name": "elk",
                            "placement_constraints.#": "0",
                            "placement_strategy.#": "0",
                            "task_definition": "arn:aws:ecs:us-west-2:433610389961:task-definition/elk:2"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecs_service.jenkins_master_service": {
                    "type": "aws_ecs_service",
                    "depends_on": [
                        "aws_ecs_task_definition.jenkins_master_task",
                        "module.engineering-tools-ecs-cluster"
                    ],
                    "primary": {
                        "id": "arn:aws:ecs:us-west-2:433610389961:service/jenkins-master",
                        "attributes": {
                            "cluster": "engineering-tools",
                            "deployment_maximum_percent": "200",
                            "deployment_minimum_healthy_percent": "100",
                            "desired_count": "1",
                            "id": "arn:aws:ecs:us-west-2:433610389961:service/jenkins-master",
                            "name": "jenkins-master",
                            "placement_constraints.#": "0",
                            "placement_strategy.#": "0",
                            "task_definition": "arn:aws:ecs:us-west-2:433610389961:task-definition/jenkins:4"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecs_service.main": {
                    "type": "aws_ecs_service",
                    "depends_on": [
                        "aws_ecs_task_definition.task",
                        "module.engineering-tools-ecs-cluster"
                    ],
                    "primary": {
                        "id": "arn:aws:ecs:us-west-2:433610389961:service/cli-mongodb",
                        "attributes": {
                            "cluster": "engineering-tools",
                            "deployment_maximum_percent": "200",
                            "deployment_minimum_healthy_percent": "100",
                            "desired_count": "1",
                            "id": "arn:aws:ecs:us-west-2:433610389961:service/cli-mongodb",
                            "name": "cli-mongodb",
                            "placement_constraints.#": "0",
                            "placement_strategy.#": "0",
                            "task_definition": "arn:aws:ecs:us-west-2:433610389961:task-definition/cli_mongodb:6"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecs_service.pypi": {
                    "type": "aws_ecs_service",
                    "depends_on": [
                        "aws_alb_target_group.pypi",
                        "aws_ecs_task_definition.pypi",
                        "module.engineering-tools-ecs-cluster"
                    ],
                    "primary": {
                        "id": "arn:aws:ecs:us-west-2:433610389961:service/pypi-server",
                        "attributes": {
                            "cluster": "engineering-tools",
                            "deployment_maximum_percent": "200",
                            "deployment_minimum_healthy_percent": "100",
                            "desired_count": "3",
                            "iam_role": "arn:aws:iam::433610389961:role/ecsServiceRole",
                            "id": "arn:aws:ecs:us-west-2:433610389961:service/pypi-server",
                            "load_balancer.#": "1",
                            "load_balancer.1410455596.container_name": "pypi",
                            "load_balancer.1410455596.container_port": "8080",
                            "load_balancer.1410455596.elb_name": "",
                            "load_balancer.1410455596.target_group_arn": "arn:aws:elasticloadbalancing:us-west-2:433610389961:targetgroup/engineering-tools-pypi/4de9d61bd2bf0a5a",
                            "name": "pypi-server",
                            "placement_constraints.#": "0",
                            "placement_strategy.#": "0",
                            "task_definition": "arn:aws:ecs:us-west-2:433610389961:task-definition/pypi:3"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecs_task_definition.elk": {
                    "type": "aws_ecs_task_definition",
                    "depends_on": [],
                    "primary": {
                        "id": "elk",
                        "attributes": {
                            "arn": "arn:aws:ecs:us-west-2:433610389961:task-definition/elk:2",
                            "container_definitions": "b2f728485de4890c8274631191fe538ef6eb802f",
                            "family": "elk",
                            "id": "elk",
                            "network_mode": "",
                            "placement_constraints.#": "0",
                            "revision": "2",
                            "task_role_arn": "",
                            "volume.#": "1",
                            "volume.1761937321.host_path": "/mnt/storage/elk",
                            "volume.1761937321.name": "tools-storage"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecs_task_definition.jenkins_master_task": {
                    "type": "aws_ecs_task_definition",
                    "depends_on": [],
                    "primary": {
                        "id": "jenkins",
                        "attributes": {
                            "arn": "arn:aws:ecs:us-west-2:433610389961:task-definition/jenkins:4",
                            "container_definitions": "385e5dd800c9df4f39de6ca3c6e2c06b45d28fbe",
                            "family": "jenkins",
                            "id": "jenkins",
                            "network_mode": "",
                            "placement_constraints.#": "0",
                            "revision": "4",
                            "task_role_arn": "",
                            "volume.#": "1",
                            "volume.840349101.host_path": "/mnt/storage/ci/jenkins",
                            "volume.840349101.name": "tools-storage"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecs_task_definition.pypi": {
                    "type": "aws_ecs_task_definition",
                    "depends_on": [],
                    "primary": {
                        "id": "pypi",
                        "attributes": {
                            "arn": "arn:aws:ecs:us-west-2:433610389961:task-definition/pypi:3",
                            "container_definitions": "5b3b87b1753debe1145068dfa8a07ab237faca87",
                            "family": "pypi",
                            "id": "pypi",
                            "network_mode": "",
                            "placement_constraints.#": "0",
                            "revision": "3",
                            "task_role_arn": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecs_task_definition.task": {
                    "type": "aws_ecs_task_definition",
                    "depends_on": [],
                    "primary": {
                        "id": "cli_mongodb",
                        "attributes": {
                            "arn": "arn:aws:ecs:us-west-2:433610389961:task-definition/cli_mongodb:6",
                            "container_definitions": "e3b229cb237d459f6264df491a986a03868fd901",
                            "family": "cli_mongodb",
                            "id": "cli_mongodb",
                            "network_mode": "",
                            "placement_constraints.#": "0",
                            "revision": "6",
                            "task_role_arn": "",
                            "volume.#": "1",
                            "volume.86333820.host_path": "/mnt/storage/cli/mongodb",
                            "volume.86333820.name": "tools-storage"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_efs_file_system.engineering-tools-storage": {
                    "type": "aws_efs_file_system",
                    "depends_on": [],
                    "primary": {
                        "id": "fs-bd428b14",
                        "attributes": {
                            "creation_token": "enginnering-tools-storage",
                            "id": "fs-bd428b14",
                            "performance_mode": "generalPurpose",
                            "tags.%": "1",
                            "tags.Name": "Enginnering Tools - Storage"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_efs_mount_target.efs_mount_1": {
                    "type": "aws_efs_mount_target",
                    "depends_on": [
                        "aws_efs_file_system.engineering-tools-storage",
                        "aws_security_group.sg_internal_efs",
                        "data.terraform_remote_state.engineering"
                    ],
                    "primary": {
                        "id": "fsmt-df7ab176",
                        "attributes": {
                            "dns_name": "fs-bd428b14.efs.us-west-2.amazonaws.com",
                            "file_system_id": "fs-bd428b14",
                            "id": "fsmt-df7ab176",
                            "ip_address": "10.40.3.142",
                            "network_interface_id": "eni-92105bd0",
                            "security_groups.#": "1",
                            "security_groups.362993667": "sg-8982ccf1",
                            "subnet_id": "subnet-57fe231e"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_efs_mount_target.efs_mount_2": {
                    "type": "aws_efs_mount_target",
                    "depends_on": [
                        "aws_efs_file_system.engineering-tools-storage",
                        "aws_security_group.sg_internal_efs",
                        "data.terraform_remote_state.engineering"
                    ],
                    "primary": {
                        "id": "fsmt-d37ab17a",
                        "attributes": {
                            "dns_name": "fs-bd428b14.efs.us-west-2.amazonaws.com",
                            "file_system_id": "fs-bd428b14",
                            "id": "fsmt-d37ab17a",
                            "ip_address": "10.40.74.235",
                            "network_interface_id": "eni-174eba64",
                            "security_groups.#": "1",
                            "security_groups.362993667": "sg-8982ccf1",
                            "subnet_id": "subnet-da73c8bd"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_efs_mount_target.efs_mount_3": {
                    "type": "aws_efs_mount_target",
                    "depends_on": [
                        "aws_efs_file_system.engineering-tools-storage",
                        "aws_security_group.sg_internal_efs",
                        "data.terraform_remote_state.engineering"
                    ],
                    "primary": {
                        "id": "fsmt-d17ab178",
                        "attributes": {
                            "dns_name": "fs-bd428b14.efs.us-west-2.amazonaws.com",
                            "file_system_id": "fs-bd428b14",
                            "id": "fsmt-d17ab178",
                            "ip_address": "10.40.156.223",
                            "network_interface_id": "eni-fc8cd4af",
                            "security_groups.#": "1",
                            "security_groups.362993667": "sg-8982ccf1",
                            "subnet_id": "subnet-1a2b1442"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_elb.elk": {
                    "type": "aws_elb",
                    "depends_on": [
                        "aws_security_group.sg_external_elk_elb",
                        "data.terraform_remote_state.engineering"
                    ],
                    "primary": {
                        "id": "engineering-tools-elk",
                        "attributes": {
                            "access_logs.#": "0",
                            "availability_zones.#": "3",
                            "availability_zones.2050015877": "us-west-2c",
                            "availability_zones.221770259": "us-west-2b",
                            "availability_zones.2487133097": "us-west-2a",
                            "connection_draining": "true",
                            "connection_draining_timeout": "400",
                            "cross_zone_load_balancing": "true",
                            "dns_name": "internal-engineering-tools-elk-1017386301.us-west-2.elb.amazonaws.com",
                            "health_check.#": "1",
                            "health_check.0.healthy_threshold": "2",
                            "health_check.0.interval": "30",
                            "health_check.0.target": "TCP:9200",
                            "health_check.0.timeout": "3",
                            "health_check.0.unhealthy_threshold": "2",
                            "id": "engineering-tools-elk",
                            "idle_timeout": "400",
                            "instances.#": "3",
                            "instances.1074211585": "i-033179ee4188e71e0",
                            "instances.1769295738": "i-078cf3679d66e47d8",
                            "instances.3916394635": "i-0547d997e44165028",
                            "internal": "true",
                            "listener.#": "4",
                            "listener.2607972038.instance_port": "5601",
                            "listener.2607972038.instance_protocol": "http",
                            "listener.2607972038.lb_port": "80",
                            "listener.2607972038.lb_protocol": "http",
                            "listener.2607972038.ssl_certificate_id": "",
                            "listener.3266764319.instance_port": "5044",
                            "listener.3266764319.instance_protocol": "tcp",
                            "listener.3266764319.lb_port": "5044",
                            "listener.3266764319.lb_protocol": "tcp",
                            "listener.3266764319.ssl_certificate_id": "",
                            "listener.3294440530.instance_port": "9200",
                            "listener.3294440530.instance_protocol": "tcp",
                            "listener.3294440530.lb_port": "9200",
                            "listener.3294440530.lb_protocol": "tcp",
                            "listener.3294440530.ssl_certificate_id": "",
                            "listener.3400836328.instance_port": "5601",
                            "listener.3400836328.instance_protocol": "http",
                            "listener.3400836328.lb_port": "443",
                            "listener.3400836328.lb_protocol": "https",
                            "listener.3400836328.ssl_certificate_id": "arn:aws:acm:us-west-2:433610389961:certificate/bb946be4-a4f4-4f91-a786-60eddbd055b6",
                            "name": "engineering-tools-elk",
                            "security_groups.#": "1",
                            "security_groups.1732680926": "sg-8a2974f2",
                            "source_security_group": "433610389961/engineering-tools-elk-elb",
                            "source_security_group_id": "sg-8a2974f2",
                            "subnets.#": "3",
                            "subnets.2055414451": "subnet-1a2b1442",
                            "subnets.74575692": "subnet-57fe231e",
                            "subnets.873240711": "subnet-da73c8bd",
                            "tags.%": "1",
                            "tags.Name": "engineering-tools-elk",
                            "zone_id": "Z1H1FL5HABSF5"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_elb.engineering_tools_jenkins": {
                    "type": "aws_elb",
                    "depends_on": [
                        "aws_security_group.sg_external_jenkins_elb",
                        "data.terraform_remote_state.engineering"
                    ],
                    "primary": {
                        "id": "engineering-tools-jenkins",
                        "attributes": {
                            "access_logs.#": "0",
                            "availability_zones.#": "3",
                            "availability_zones.2050015877": "us-west-2c",
                            "availability_zones.221770259": "us-west-2b",
                            "availability_zones.2487133097": "us-west-2a",
                            "connection_draining": "true",
                            "connection_draining_timeout": "400",
                            "cross_zone_load_balancing": "true",
                            "dns_name": "internal-engineering-tools-jenkins-1205708740.us-west-2.elb.amazonaws.com",
                            "health_check.#": "1",
                            "health_check.0.healthy_threshold": "2",
                            "health_check.0.interval": "30",
                            "health_check.0.target": "TCP:50000",
                            "health_check.0.timeout": "3",
                            "health_check.0.unhealthy_threshold": "2",
                            "id": "engineering-tools-jenkins",
                            "idle_timeout": "400",
                            "instances.#": "3",
                            "instances.1074211585": "i-033179ee4188e71e0",
                            "instances.1769295738": "i-078cf3679d66e47d8",
                            "instances.3916394635": "i-0547d997e44165028",
                            "internal": "true",
                            "listener.#": "3",
                            "listener.1455764437.instance_port": "50000",
                            "listener.1455764437.instance_protocol": "tcp",
                            "listener.1455764437.lb_port": "50000",
                            "listener.1455764437.lb_protocol": "tcp",
                            "listener.1455764437.ssl_certificate_id": "",
                            "listener.2584006131.instance_port": "8080",
                            "listener.2584006131.instance_protocol": "http",
                            "listener.2584006131.lb_port": "443",
                            "listener.2584006131.lb_protocol": "https",
                            "listener.2584006131.ssl_certificate_id": "arn:aws:acm:us-west-2:433610389961:certificate/bb946be4-a4f4-4f91-a786-60eddbd055b6",
                            "listener.3931999347.instance_port": "8080",
                            "listener.3931999347.instance_protocol": "http",
                            "listener.3931999347.lb_port": "80",
                            "listener.3931999347.lb_protocol": "http",
                            "listener.3931999347.ssl_certificate_id": "",
                            "name": "engineering-tools-jenkins",
                            "security_groups.#": "1",
                            "security_groups.3002909327": "sg-49257831",
                            "source_security_group": "433610389961/engineering-tools-jenkins-elb",
                            "source_security_group_id": "sg-49257831",
                            "subnets.#": "3",
                            "subnets.2055414451": "subnet-1a2b1442",
                            "subnets.74575692": "subnet-57fe231e",
                            "subnets.873240711": "subnet-da73c8bd",
                            "tags.%": "1",
                            "tags.Name": "engineering-tools-mongodb",
                            "zone_id": "Z1H1FL5HABSF5"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_elb.mongodb": {
                    "type": "aws_elb",
                    "depends_on": [
                        "aws_security_group.sg_external_mongo_elb",
                        "data.terraform_remote_state.engineering"
                    ],
                    "primary": {
                        "id": "engineering-tools-mongodb",
                        "attributes": {
                            "access_logs.#": "0",
                            "availability_zones.#": "3",
                            "availability_zones.2050015877": "us-west-2c",
                            "availability_zones.221770259": "us-west-2b",
                            "availability_zones.2487133097": "us-west-2a",
                            "connection_draining": "true",
                            "connection_draining_timeout": "400",
                            "cross_zone_load_balancing": "true",
                            "dns_name": "internal-engineering-tools-mongodb-1832213592.us-west-2.elb.amazonaws.com",
                            "health_check.#": "1",
                            "health_check.0.healthy_threshold": "2",
                            "health_check.0.interval": "30",
                            "health_check.0.target": "TCP:59215",
                            "health_check.0.timeout": "3",
                            "health_check.0.unhealthy_threshold": "2",
                            "id": "engineering-tools-mongodb",
                            "idle_timeout": "400",
                            "instances.#": "3",
                            "instances.1074211585": "i-033179ee4188e71e0",
                            "instances.1769295738": "i-078cf3679d66e47d8",
                            "instances.3916394635": "i-0547d997e44165028",
                            "internal": "true",
                            "listener.#": "1",
                            "listener.2627262757.instance_port": "59215",
                            "listener.2627262757.instance_protocol": "ssl",
                            "listener.2627262757.lb_port": "59215",
                            "listener.2627262757.lb_protocol": "ssl",
                            "listener.2627262757.ssl_certificate_id": "arn:aws:acm:us-west-2:433610389961:certificate/bb946be4-a4f4-4f91-a786-60eddbd055b6",
                            "name": "engineering-tools-mongodb",
                            "security_groups.#": "1",
                            "security_groups.2578176898": "sg-c72f72bf",
                            "source_security_group": "433610389961/engineering-tools-mongo-elb",
                            "source_security_group_id": "sg-c72f72bf",
                            "subnets.#": "3",
                            "subnets.2055414451": "subnet-1a2b1442",
                            "subnets.74575692": "subnet-57fe231e",
                            "subnets.873240711": "subnet-da73c8bd",
                            "tags.%": "1",
                            "tags.Name": "engineering-tools-mongodb",
                            "zone_id": "Z1H1FL5HABSF5"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route53_record.elk": {
                    "type": "aws_route53_record",
                    "depends_on": [
                        "aws_elb.elk",
                        "aws_elb.elk"
                    ],
                    "primary": {
                        "id": "Z2MDT77FL23F9B_elk.engineering.tux.rocks._A",
                        "attributes": {
                            "alias.#": "1",
                            "alias.3861451691.evaluate_target_health": "true",
                            "alias.3861451691.name": "internal-engineering-tools-elk-1017386301.us-west-2.elb.amazonaws.com",
                            "alias.3861451691.zone_id": "Z1H1FL5HABSF5",
                            "fqdn": "elk.engineering.tux.rocks",
                            "health_check_id": "",
                            "id": "Z2MDT77FL23F9B_elk.engineering.tux.rocks._A",
                            "name": "elk.engineering.tux.rocks",
                            "records.#": "0",
                            "set_identifier": "",
                            "ttl": "0",
                            "type": "A",
                            "zone_id": "Z2MDT77FL23F9B"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route53_record.jenkins": {
                    "type": "aws_route53_record",
                    "depends_on": [
                        "aws_elb.engineering_tools_jenkins",
                        "aws_elb.engineering_tools_jenkins"
                    ],
                    "primary": {
                        "id": "Z2MDT77FL23F9B_jenkins.engineering.tux.rocks._A",
                        "attributes": {
                            "alias.#": "1",
                            "alias.4061467831.evaluate_target_health": "true",
                            "alias.4061467831.name": "internal-engineering-tools-jenkins-1205708740.us-west-2.elb.amazonaws.com",
                            "alias.4061467831.zone_id": "Z1H1FL5HABSF5",
                            "fqdn": "jenkins.engineering.tux.rocks",
                            "health_check_id": "",
                            "id": "Z2MDT77FL23F9B_jenkins.engineering.tux.rocks._A",
                            "name": "jenkins.engineering.tux.rocks",
                            "records.#": "0",
                            "set_identifier": "",
                            "ttl": "0",
                            "type": "A",
                            "zone_id": "Z2MDT77FL23F9B"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route53_record.mongodb": {
                    "type": "aws_route53_record",
                    "depends_on": [
                        "aws_elb.mongodb",
                        "aws_elb.mongodb"
                    ],
                    "primary": {
                        "id": "Z2MDT77FL23F9B_mongodb.engineering.tux.rocks._A",
                        "attributes": {
                            "alias.#": "1",
                            "alias.1565341531.evaluate_target_health": "true",
                            "alias.1565341531.name": "internal-engineering-tools-mongodb-1832213592.us-west-2.elb.amazonaws.com",
                            "alias.1565341531.zone_id": "Z1H1FL5HABSF5",
                            "fqdn": "mongodb.engineering.tux.rocks",
                            "health_check_id": "",
                            "id": "Z2MDT77FL23F9B_mongodb.engineering.tux.rocks._A",
                            "name": "mongodb.engineering.tux.rocks",
                            "records.#": "0",
                            "set_identifier": "",
                            "ttl": "0",
                            "type": "A",
                            "zone_id": "Z2MDT77FL23F9B"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route53_record.pypi": {
                    "type": "aws_route53_record",
                    "depends_on": [
                        "aws_alb.pypi",
                        "aws_alb.pypi"
                    ],
                    "primary": {
                        "id": "Z2MDT77FL23F9B_pypi.engineering.tux.rocks._A",
                        "attributes": {
                            "alias.#": "1",
                            "alias.4169423669.evaluate_target_health": "true",
                            "alias.4169423669.name": "internal-engineering-tools-pypi-2116632598.us-west-2.elb.amazonaws.com",
                            "alias.4169423669.zone_id": "Z1H1FL5HABSF5",
                            "fqdn": "pypi.engineering.tux.rocks",
                            "health_check_id": "",
                            "id": "Z2MDT77FL23F9B_pypi.engineering.tux.rocks._A",
                            "name": "pypi.engineering.tux.rocks",
                            "records.#": "0",
                            "set_identifier": "",
                            "ttl": "0",
                            "type": "A",
                            "zone_id": "Z2MDT77FL23F9B"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group.jenkins-slave": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "data.terraform_remote_state.engineering",
                        "module.engineering-tools-ecs-cluster"
                    ],
                    "primary": {
                        "id": "sg-fe277a86",
                        "attributes": {
                            "description": "Jenkins Slaves",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-fe277a86",
                            "ingress.#": "1",
                            "ingress.585279867.cidr_blocks.#": "0",
                            "ingress.585279867.from_port": "22",
                            "ingress.585279867.protocol": "tcp",
                            "ingress.585279867.security_groups.#": "1",
                            "ingress.585279867.security_groups.3026471495": "sg-ba560bc2",
                            "ingress.585279867.self": "false",
                            "ingress.585279867.to_port": "22",
                            "name": "jenkins-slave",
                            "owner_id": "433610389961",
                            "tags.%": "1",
                            "tags.Name": "jenkins-slave",
                            "vpc_id": "vpc-21254546"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group.sg_external_elk_elb": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "data.terraform_remote_state.engineering"
                    ],
                    "primary": {
                        "id": "sg-8a2974f2",
                        "attributes": {
                            "description": "Allows External Access to Engineering ELK Instance",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-8a2974f2",
                            "ingress.#": "4",
                            "ingress.2214680975.cidr_blocks.#": "1",
                            "ingress.2214680975.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2214680975.from_port": "80",
                            "ingress.2214680975.protocol": "tcp",
                            "ingress.2214680975.security_groups.#": "0",
                            "ingress.2214680975.self": "false",
                            "ingress.2214680975.to_port": "80",
                            "ingress.2500694996.cidr_blocks.#": "1",
                            "ingress.2500694996.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2500694996.from_port": "9200",
                            "ingress.2500694996.protocol": "tcp",
                            "ingress.2500694996.security_groups.#": "0",
                            "ingress.2500694996.self": "false",
                            "ingress.2500694996.to_port": "9200",
                            "ingress.2617001939.cidr_blocks.#": "1",
                            "ingress.2617001939.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2617001939.from_port": "443",
                            "ingress.2617001939.protocol": "tcp",
                            "ingress.2617001939.security_groups.#": "0",
                            "ingress.2617001939.self": "false",
                            "ingress.2617001939.to_port": "443",
                            "ingress.2937129820.cidr_blocks.#": "1",
                            "ingress.2937129820.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2937129820.from_port": "5044",
                            "ingress.2937129820.protocol": "tcp",
                            "ingress.2937129820.security_groups.#": "0",
                            "ingress.2937129820.self": "false",
                            "ingress.2937129820.to_port": "5044",
                            "name": "engineering-tools-elk-elb",
                            "owner_id": "433610389961",
                            "tags.%": "1",
                            "tags.Name": "engineering-tools-elk-elb",
                            "vpc_id": "vpc-21254546"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group.sg_external_jenkins_elb": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "data.terraform_remote_state.engineering"
                    ],
                    "primary": {
                        "id": "sg-49257831",
                        "attributes": {
                            "description": "Allows External Access to Engineering Jenkins Instance",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-49257831",
                            "ingress.#": "2",
                            "ingress.2214680975.cidr_blocks.#": "1",
                            "ingress.2214680975.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2214680975.from_port": "80",
                            "ingress.2214680975.protocol": "tcp",
                            "ingress.2214680975.security_groups.#": "0",
                            "ingress.2214680975.self": "false",
                            "ingress.2214680975.to_port": "80",
                            "ingress.2617001939.cidr_blocks.#": "1",
                            "ingress.2617001939.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2617001939.from_port": "443",
                            "ingress.2617001939.protocol": "tcp",
                            "ingress.2617001939.security_groups.#": "0",
                            "ingress.2617001939.self": "false",
                            "ingress.2617001939.to_port": "443",
                            "name": "engineering-tools-jenkins-elb",
                            "owner_id": "433610389961",
                            "tags.%": "1",
                            "tags.Name": "engineering-tools-jenkins-elb",
                            "vpc_id": "vpc-21254546"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group.sg_external_mongo_elb": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "data.terraform_remote_state.engineering"
                    ],
                    "primary": {
                        "id": "sg-c72f72bf",
                        "attributes": {
                            "description": "Allows External Access to Engineering MongoDB Instance",
                            "egress.#": "1",
                            "egress.3650442312.cidr_blocks.#": "1",
                            "egress.3650442312.cidr_blocks.0": "0.0.0.0/0",
                            "egress.3650442312.from_port": "59215",
                            "egress.3650442312.prefix_list_ids.#": "0",
                            "egress.3650442312.protocol": "tcp",
                            "egress.3650442312.security_groups.#": "0",
                            "egress.3650442312.self": "false",
                            "egress.3650442312.to_port": "59215",
                            "id": "sg-c72f72bf",
                            "ingress.#": "1",
                            "ingress.3650442312.cidr_blocks.#": "1",
                            "ingress.3650442312.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.3650442312.from_port": "59215",
                            "ingress.3650442312.protocol": "tcp",
                            "ingress.3650442312.security_groups.#": "0",
                            "ingress.3650442312.self": "false",
                            "ingress.3650442312.to_port": "59215",
                            "name": "engineering-tools-mongo-elb",
                            "owner_id": "433610389961",
                            "tags.%": "1",
                            "tags.Name": "engineering-tools-mongo-elb",
                            "vpc_id": "vpc-21254546"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group.sg_external_pypi_elb": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "data.terraform_remote_state.engineering"
                    ],
                    "primary": {
                        "id": "sg-042b767c",
                        "attributes": {
                            "description": "Allows External Access to Engineering Pypi Instance",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-042b767c",
                            "ingress.#": "3",
                            "ingress.2214680975.cidr_blocks.#": "1",
                            "ingress.2214680975.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2214680975.from_port": "80",
                            "ingress.2214680975.protocol": "tcp",
                            "ingress.2214680975.security_groups.#": "0",
                            "ingress.2214680975.self": "false",
                            "ingress.2214680975.to_port": "80",
                            "ingress.2617001939.cidr_blocks.#": "1",
                            "ingress.2617001939.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2617001939.from_port": "443",
                            "ingress.2617001939.protocol": "tcp",
                            "ingress.2617001939.security_groups.#": "0",
                            "ingress.2617001939.self": "false",
                            "ingress.2617001939.to_port": "443",
                            "ingress.516175195.cidr_blocks.#": "1",
                            "ingress.516175195.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.516175195.from_port": "8080",
                            "ingress.516175195.protocol": "tcp",
                            "ingress.516175195.security_groups.#": "0",
                            "ingress.516175195.self": "false",
                            "ingress.516175195.to_port": "8080",
                            "name": "engineering-tools-pypi-elb",
                            "owner_id": "433610389961",
                            "tags.%": "1",
                            "tags.Name": "engineering-tools-pypi-elb",
                            "vpc_id": "vpc-21254546"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group.sg_internal_efs": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_security_group.jenkins-slave",
                        "data.terraform_remote_state.engineering",
                        "data.terraform_remote_state.engineering",
                        "module.engineering-tools-ecs-cluster"
                    ],
                    "primary": {
                        "id": "sg-8982ccf1",
                        "attributes": {
                            "description": "Allows Internal EFS use from Engineering VPC",
                            "egress.#": "1",
                            "egress.1817415347.cidr_blocks.#": "1",
                            "egress.1817415347.cidr_blocks.0": "10.40.0.0/16",
                            "egress.1817415347.from_port": "2049",
                            "egress.1817415347.prefix_list_ids.#": "0",
                            "egress.1817415347.protocol": "tcp",
                            "egress.1817415347.security_groups.#": "0",
                            "egress.1817415347.self": "false",
                            "egress.1817415347.to_port": "2049",
                            "id": "sg-8982ccf1",
                            "ingress.#": "2",
                            "ingress.1908642904.cidr_blocks.#": "0",
                            "ingress.1908642904.from_port": "2049",
                            "ingress.1908642904.protocol": "tcp",
                            "ingress.1908642904.security_groups.#": "1",
                            "ingress.1908642904.security_groups.3026471495": "sg-ba560bc2",
                            "ingress.1908642904.self": "false",
                            "ingress.1908642904.to_port": "2049",
                            "ingress.42881326.cidr_blocks.#": "0",
                            "ingress.42881326.from_port": "2049",
                            "ingress.42881326.protocol": "tcp",
                            "ingress.42881326.security_groups.#": "1",
                            "ingress.42881326.security_groups.632799168": "sg-fe277a86",
                            "ingress.42881326.self": "false",
                            "ingress.42881326.to_port": "2049",
                            "name": "engineering-tools-efs",
                            "owner_id": "433610389961",
                            "tags.%": "1",
                            "tags.Name": "Engineering Tools EFS",
                            "vpc_id": "vpc-21254546"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group.tools": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "data.terraform_remote_state.engineering"
                    ],
                    "primary": {
                        "id": "sg-ba560bc2",
                        "attributes": {
                            "description": "Centralized SG for all the tools using the Tools ECS Cluster",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-ba560bc2",
                            "ingress.#": "3",
                            "ingress.1201080519.cidr_blocks.#": "0",
                            "ingress.1201080519.from_port": "0",
                            "ingress.1201080519.protocol": "-1",
                            "ingress.1201080519.security_groups.#": "4",
                            "ingress.1201080519.security_groups.1732680926": "sg-8a2974f2",
                            "ingress.1201080519.security_groups.2578176898": "sg-c72f72bf",
                            "ingress.1201080519.security_groups.3002909327": "sg-49257831",
                            "ingress.1201080519.security_groups.918906552": "sg-042b767c",
                            "ingress.1201080519.self": "false",
                            "ingress.1201080519.to_port": "0",
                            "ingress.2956133683.cidr_blocks.#": "0",
                            "ingress.2956133683.from_port": "0",
                            "ingress.2956133683.protocol": "-1",
                            "ingress.2956133683.security_groups.#": "1",
                            "ingress.2956133683.security_groups.2232759779": "sg-3307494b",
                            "ingress.2956133683.self": "false",
                            "ingress.2956133683.to_port": "0",
                            "ingress.3397660813.cidr_blocks.#": "0",
                            "ingress.3397660813.from_port": "22",
                            "ingress.3397660813.protocol": "tcp",
                            "ingress.3397660813.security_groups.#": "1",
                            "ingress.3397660813.security_groups.1781108480": "sg-5dcc8c25",
                            "ingress.3397660813.self": "false",
                            "ingress.3397660813.to_port": "22",
                            "name": "engineering-tools",
                            "owner_id": "433610389961",
                            "tags.%": "1",
                            "tags.Name": "Tools: ECS Cluster",
                            "vpc_id": "vpc-21254546"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group_rule.allow_out": {
                    "type": "aws_security_group_rule",
                    "depends_on": [
                        "aws_security_group.tools"
                    ],
                    "primary": {
                        "id": "sgrule-3527541211",
                        "attributes": {
                            "cidr_blocks.#": "1",
                            "cidr_blocks.0": "0.0.0.0/0",
                            "from_port": "-1",
                            "id": "sgrule-3527541211",
                            "prefix_list_ids.#": "0",
                            "protocol": "-1",
                            "security_group_id": "sg-ba560bc2",
                            "self": "false",
                            "to_port": "-1",
                            "type": "egress"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group_rule.allow_ssh": {
                    "type": "aws_security_group_rule",
                    "depends_on": [
                        "aws_security_group.tools",
                        "data.terraform_remote_state.engineering"
                    ],
                    "primary": {
                        "id": "sgrule-1107277683",
                        "attributes": {
                            "cidr_blocks.#": "0",
                            "from_port": "22",
                            "id": "sgrule-1107277683",
                            "prefix_list_ids.#": "0",
                            "protocol": "tcp",
                            "security_group_id": "sg-ba560bc2",
                            "self": "false",
                            "source_security_group_id": "sg-5dcc8c25",
                            "to_port": "22",
                            "type": "ingress"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group_rule.allow_vpn": {
                    "type": "aws_security_group_rule",
                    "depends_on": [
                        "aws_security_group.tools",
                        "data.terraform_remote_state.engineering"
                    ],
                    "primary": {
                        "id": "sgrule-1984217163",
                        "attributes": {
                            "cidr_blocks.#": "0",
                            "from_port": "0",
                            "id": "sgrule-1984217163",
                            "prefix_list_ids.#": "0",
                            "protocol": "-1",
                            "security_group_id": "sg-ba560bc2",
                            "self": "false",
                            "source_security_group_id": "sg-3307494b",
                            "to_port": "0",
                            "type": "ingress"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group_rule.elk": {
                    "type": "aws_security_group_rule",
                    "depends_on": [
                        "aws_security_group.sg_external_elk_elb",
                        "aws_security_group.tools"
                    ],
                    "primary": {
                        "id": "sgrule-3014029802",
                        "attributes": {
                            "cidr_blocks.#": "0",
                            "from_port": "-1",
                            "id": "sgrule-3014029802",
                            "prefix_list_ids.#": "0",
                            "protocol": "-1",
                            "security_group_id": "sg-ba560bc2",
                            "self": "false",
                            "source_security_group_id": "sg-8a2974f2",
                            "to_port": "-1",
                            "type": "ingress"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group_rule.jenkins": {
                    "type": "aws_security_group_rule",
                    "depends_on": [
                        "aws_security_group.sg_external_jenkins_elb",
                        "aws_security_group.tools"
                    ],
                    "primary": {
                        "id": "sgrule-2631251126",
                        "attributes": {
                            "cidr_blocks.#": "0",
                            "from_port": "0",
                            "id": "sgrule-2631251126",
                            "prefix_list_ids.#": "0",
                            "protocol": "-1",
                            "security_group_id": "sg-ba560bc2",
                            "self": "false",
                            "source_security_group_id": "sg-49257831",
                            "to_port": "0",
                            "type": "ingress"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group_rule.mongodb": {
                    "type": "aws_security_group_rule",
                    "depends_on": [
                        "aws_security_group.sg_external_mongo_elb",
                        "aws_security_group.tools"
                    ],
                    "primary": {
                        "id": "sgrule-1292913004",
                        "attributes": {
                            "cidr_blocks.#": "0",
                            "from_port": "-1",
                            "id": "sgrule-1292913004",
                            "prefix_list_ids.#": "0",
                            "protocol": "-1",
                            "security_group_id": "sg-ba560bc2",
                            "self": "false",
                            "source_security_group_id": "sg-c72f72bf",
                            "to_port": "-1",
                            "type": "ingress"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group_rule.pypi": {
                    "type": "aws_security_group_rule",
                    "depends_on": [
                        "aws_security_group.sg_external_pypi_elb",
                        "aws_security_group.tools"
                    ],
                    "primary": {
                        "id": "sgrule-3714709322",
                        "attributes": {
                            "cidr_blocks.#": "0",
                            "from_port": "-1",
                            "id": "sgrule-3714709322",
                            "prefix_list_ids.#": "0",
                            "protocol": "-1",
                            "security_group_id": "sg-ba560bc2",
                            "self": "false",
                            "source_security_group_id": "sg-042b767c",
                            "to_port": "-1",
                            "type": "ingress"
                        },
                        "meta": {
                            "schema_version": "2"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.template_file.ecs_cloud_config": {
                    "type": "template_file",
                    "depends_on": [
                        "aws_efs_file_system.engineering-tools-storage"
                    ],
                    "primary": {
                        "id": "a7d34ee0761dbd91ad7a6528bfa3bd4ac06d7afe2b2fe4661fafdcbb177cb8db",
                        "attributes": {
                            "id": "a7d34ee0761dbd91ad7a6528bfa3bd4ac06d7afe2b2fe4661fafdcbb177cb8db",
                            "rendered": "#!/bin/bash\n\n# Join the default ECS cluster\necho ECS_CLUSTER=engineering-tools \u003e\u003e /etc/ecs/ecs.config\n\nPATH=$PATH:/usr/local/bin\n\n# Instance should be added to an security group that allows HTTP outbound\nyum update -y\n\n# Install packages\nyum -y install jq nfs-utils python27 python27-pip\n\n# Get region of EC2 from instance metadata\nEC2_AVAIL_ZONE=`curl -s http://169.254.169.254/latest/meta-data/placement/availability-zone`\nEC2_REGION=\"`echo \\\"$EC2_AVAIL_ZONE\\\" | sed -e 's:\\([0-9][0-9]*\\)[a-z]*\\$:\\\\1:'`\"\n\n# Create mount point\nmkdir /mnt/storage\n\n# Get EFS FileSystemID attribute\n#Instance needs to be added to a EC2 role that give the instance at least read access to EFS\nEFS_FILE_SYSTEM_ID=fs-bd428b14\n\n# Instance needs to be a member of security group that allows 2049 inbound/outbound\n#The security group that the instance belongs to has to be added to EFS file system configuration\n#Create variables for source and target\nDIR_SRC=$EC2_AVAIL_ZONE.$EFS_FILE_SYSTEM_ID.efs.$EC2_REGION.amazonaws.com:/\nDIR_TGT=/mnt/storage\n\n# Mount EFS file system\nmount -t nfs4 -o nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2 $DIR_SRC $DIR_TGT\n\n#Backup fstab\ncp -p /etc/fstab /etc/fstab.back-$(date +%F)\n\n#Append line to fstab\necho -e \"$DIR_SRC \\t\\t $DIR_TGT \\t\\t nfs \\t\\t defaults \\t\\t 0 \\t\\t 0\" | tee -a /etc/fstab\n\nEC2_INSTANCE_ID=`curl -s http://169.254.169.254/latest/meta-data/instance-id`\n\n#NewRelic Installation\nrpm -Uvh https://download.newrelic.com/pub/newrelic/el5/i386/newrelic-repo-5-3.noarch.rpm\nyum install newrelic-sysmond -y\nusermod -a -G docker newrelic\nnrsysmond-config --set license_key=951db34ebed364ea663002571b63db5d3f827758\nsed -i '/#hostname*/c\\hostname=\\\"Engineering Tools - ECS Container Instance ('$EC2_INSTANCE_ID')\\\"' /etc/newrelic/nrsysmond.cfg\nsed -i '/#labels*/c\\labels=Environment:Production;Team:Engineering;Datacenter:AWS' /etc/newrelic/nrsysmond.cfg\n/etc/init.d/newrelic-sysmond start\n\n# Setting for ES\nsysctl -w vm.max_map_count=262144\n\n# Using a different CIDR for Docker (not to conflict with coreIT VPC CIDR)\nsed -i '$ d' /etc/sysconfig/docker\necho 'OPTIONS=\"--default-ulimit nofile=1024:4096 --bip=192.168.5.1/24\"' \u003e\u003e /etc/sysconfig/docker\nservice docker stop\nip link set docker0 down\nip link delete docker0\nservice docker start\n\n# Restarting ECS\nstart ecs\n",
                            "template": "#!/bin/bash\n\n# Join the default ECS cluster\necho ECS_CLUSTER=${ecs_cluster_name} \u003e\u003e /etc/ecs/ecs.config\n\nPATH=$PATH:/usr/local/bin\n\n# Instance should be added to an security group that allows HTTP outbound\nyum update -y\n\n# Install packages\nyum -y install jq nfs-utils python27 python27-pip\n\n# Get region of EC2 from instance metadata\nEC2_AVAIL_ZONE=`curl -s http://169.254.169.254/latest/meta-data/placement/availability-zone`\nEC2_REGION=\"`echo \\\"$EC2_AVAIL_ZONE\\\" | sed -e 's:\\([0-9][0-9]*\\)[a-z]*\\$:\\\\1:'`\"\n\n# Create mount point\nmkdir /mnt/storage\n\n# Get EFS FileSystemID attribute\n#Instance needs to be added to a EC2 role that give the instance at least read access to EFS\nEFS_FILE_SYSTEM_ID=${efs_id}\n\n# Instance needs to be a member of security group that allows 2049 inbound/outbound\n#The security group that the instance belongs to has to be added to EFS file system configuration\n#Create variables for source and target\nDIR_SRC=$EC2_AVAIL_ZONE.$EFS_FILE_SYSTEM_ID.efs.$EC2_REGION.amazonaws.com:/\nDIR_TGT=/mnt/storage\n\n# Mount EFS file system\nmount -t nfs4 -o nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2 $DIR_SRC $DIR_TGT\n\n#Backup fstab\ncp -p /etc/fstab /etc/fstab.back-$(date +%F)\n\n#Append line to fstab\necho -e \"$DIR_SRC \\t\\t $DIR_TGT \\t\\t nfs \\t\\t defaults \\t\\t 0 \\t\\t 0\" | tee -a /etc/fstab\n\nEC2_INSTANCE_ID=`curl -s http://169.254.169.254/latest/meta-data/instance-id`\n\n#NewRelic Installation\nrpm -Uvh https://download.newrelic.com/pub/newrelic/el5/i386/newrelic-repo-5-3.noarch.rpm\nyum install newrelic-sysmond -y\nusermod -a -G docker newrelic\nnrsysmond-config --set license_key=${newrelic_key}\nsed -i '/#hostname*/c\\hostname=\\\"${newrelic_hostname} ('$EC2_INSTANCE_ID')\\\"' /etc/newrelic/nrsysmond.cfg\nsed -i '/#labels*/c\\labels=${newrelic_labels}' /etc/newrelic/nrsysmond.cfg\n/etc/init.d/newrelic-sysmond start\n\n# Setting for ES\nsysctl -w vm.max_map_count=262144\n\n# Using a different CIDR for Docker (not to conflict with coreIT VPC CIDR)\nsed -i '$ d' /etc/sysconfig/docker\necho 'OPTIONS=\"--default-ulimit nofile=1024:4096 --bip=192.168.5.1/24\"' \u003e\u003e /etc/sysconfig/docker\nservice docker stop\nip link set docker0 down\nip link delete docker0\nservice docker start\n\n# Restarting ECS\nstart ecs\n",
                            "vars.%": "6",
                            "vars.ecs_cluster_name": "engineering-tools",
                            "vars.efs_id": "fs-bd428b14",
                            "vars.efs_name": "engineering_tools_storage",
                            "vars.newrelic_hostname": "Engineering Tools - ECS Container Instance",
                            "vars.newrelic_key": "951db34ebed364ea663002571b63db5d3f827758",
                            "vars.newrelic_labels": "Environment:Production;Team:Engineering;Datacenter:AWS"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.terraform_remote_state.engineering": {
                    "type": "terraform_remote_state",
                    "depends_on": [],
                    "primary": {
                        "id": "2017-03-07 15:42:13.702670438 +0000 UTC",
                        "attributes": {
                            "availability_zones.#": "3",
                            "availability_zones.0": "us-west-2a",
                            "availability_zones.1": "us-west-2b",
                            "availability_zones.2": "us-west-2c",
                            "backend": "s3",
                            "cidr": "10.40.0.0/16",
                            "config.%": "5",
                            "config.access_key": "AKIAJZSPEM5HOEMPP67Q",
                            "config.bucket": "lfe-terraform-states",
                            "config.key": "general/terraform.tfstate",
                            "config.region": "us-west-2",
                            "config.secret_key": "VtFYzpbv+TC9RGxEHVEDAneRMGAfVUaW+GswaruV",
                            "domain_name": "engineering.local",
                            "external_route_tables": "rtb-24b9bf43",
                            "external_subnets.#": "3",
                            "external_subnets.0": "subnet-56fe231f",
                            "external_subnets.1": "subnet-d973c8be",
                            "external_subnets.2": "subnet-192b1441",
                            "id": "2017-03-07 15:42:13.702670438 +0000 UTC",
                            "internal_route_tables": "rtb-27b9bf40,rtb-25b9bf42,rtb-23b9bf44",
                            "internal_subnets.#": "3",
                            "internal_subnets.0": "subnet-57fe231e",
                            "internal_subnets.1": "subnet-da73c8bd",
                            "internal_subnets.2": "subnet-1a2b1442",
                            "region": "us-west-2",
                            "sg_external_elb": "sg-4a044a32",
                            "sg_external_ssh": "sg-6dcc8c15",
                            "sg_internal_elb": "sg-49044a31",
                            "sg_internal_ssh": "sg-5dcc8c25",
                            "sg_vpn": "sg-3307494b",
                            "vpc_id": "vpc-21254546",
                            "vpc_security_group": "sg-7ccc8c04",
                            "zone_id": "Z1TA0POP3MZIJ5"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "engineering-tools-ecs-cluster"
            ],
            "outputs": {
                "asg_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "engineering-tools-ecs-instances"
                },
                "name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "engineering-tools"
                },
                "security_group_id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "sg-ba560bc2"
                }
            },
            "resources": {
                "aws_autoscaling_group.main": {
                    "type": "aws_autoscaling_group",
                    "depends_on": [
                        "aws_launch_configuration.main"
                    ],
                    "primary": {
                        "id": "engineering-tools-ecs-instances",
                        "attributes": {
                            "arn": "arn:aws:autoscaling:us-west-2:433610389961:autoScalingGroup:bfd629f5-86a2-46ac-a0a4-932e0425ffcb:autoScalingGroupName/engineering-tools-ecs-instances",
                            "availability_zones.#": "3",
                            "availability_zones.2050015877": "us-west-2c",
                            "availability_zones.221770259": "us-west-2b",
                            "availability_zones.2487133097": "us-west-2a",
                            "default_cooldown": "300",
                            "desired_capacity": "3",
                            "force_delete": "false",
                            "health_check_grace_period": "300",
                            "health_check_type": "EC2",
                            "id": "engineering-tools-ecs-instances",
                            "launch_configuration": "engineering-tools-ecs-004616ccc846422633b2ea013b",
                            "load_balancers.#": "3",
                            "load_balancers.1434458751": "engineering-tools-jenkins",
                            "load_balancers.4021816549": "engineering-tools-mongodb",
                            "load_balancers.821226602": "engineering-tools-elk",
                            "max_size": "100",
                            "metrics_granularity": "1Minute",
                            "min_size": "3",
                            "name": "engineering-tools-ecs-instances",
                            "placement_group": "",
                            "protect_from_scale_in": "false",
                            "suspended_processes.#": "0",
                            "tag.#": "4",
                            "tag.1039535141.key": "Environment",
                            "tag.1039535141.propagate_at_launch": "true",
                            "tag.1039535141.value": "Production",
                            "tag.1959015614.key": "Name",
                            "tag.1959015614.propagate_at_launch": "true",
                            "tag.1959015614.value": "engineering-tools",
                            "tag.376133772.key": "Cluster",
                            "tag.376133772.propagate_at_launch": "true",
                            "tag.376133772.value": "engineering-tools",
                            "tag.534765253.key": "Team",
                            "tag.534765253.propagate_at_launch": "true",
                            "tag.534765253.value": "Engineering",
                            "target_group_arns.#": "0",
                            "termination_policies.#": "2",
                            "termination_policies.0": "OldestLaunchConfiguration",
                            "termination_policies.1": "Default",
                            "vpc_zone_identifier.#": "3",
                            "vpc_zone_identifier.2055414451": "subnet-1a2b1442",
                            "vpc_zone_identifier.74575692": "subnet-57fe231e",
                            "vpc_zone_identifier.873240711": "subnet-da73c8bd",
                            "wait_for_capacity_timeout": "10m"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_autoscaling_policy.scale_down": {
                    "type": "aws_autoscaling_policy",
                    "depends_on": [
                        "aws_autoscaling_group.main"
                    ],
                    "primary": {
                        "id": "engineering-tools-scaledown",
                        "attributes": {
                            "adjustment_type": "ChangeInCapacity",
                            "arn": "arn:aws:autoscaling:us-west-2:433610389961:scalingPolicy:441700f3-14ef-494b-9908-0256f51ea19e:autoScalingGroupName/engineering-tools-ecs-instances:policyName/engineering-tools-scaledown",
                            "autoscaling_group_name": "engineering-tools-ecs-instances",
                            "cooldown": "300",
                            "estimated_instance_warmup": "0",
                            "id": "engineering-tools-scaledown",
                            "metric_aggregation_type": "",
                            "min_adjustment_step": "0",
                            "name": "engineering-tools-scaledown",
                            "policy_type": "SimpleScaling",
                            "scaling_adjustment": "-1",
                            "step_adjustment.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_autoscaling_policy.scale_up": {
                    "type": "aws_autoscaling_policy",
                    "depends_on": [
                        "aws_autoscaling_group.main"
                    ],
                    "primary": {
                        "id": "engineering-tools-scaleup",
                        "attributes": {
                            "adjustment_type": "ChangeInCapacity",
                            "arn": "arn:aws:autoscaling:us-west-2:433610389961:scalingPolicy:a25762ee-b12f-40fa-b3df-75729e736704:autoScalingGroupName/engineering-tools-ecs-instances:policyName/engineering-tools-scaleup",
                            "autoscaling_group_name": "engineering-tools-ecs-instances",
                            "cooldown": "300",
                            "estimated_instance_warmup": "0",
                            "id": "engineering-tools-scaleup",
                            "metric_aggregation_type": "",
                            "min_adjustment_step": "0",
                            "name": "engineering-tools-scaleup",
                            "policy_type": "SimpleScaling",
                            "scaling_adjustment": "1",
                            "step_adjustment.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_cloudwatch_metric_alarm.cpu_high": {
                    "type": "aws_cloudwatch_metric_alarm",
                    "depends_on": [
                        "aws_autoscaling_policy.scale_up",
                        "aws_ecs_cluster.main"
                    ],
                    "primary": {
                        "id": "engineering-tools-cpureservation-high",
                        "attributes": {
                            "actions_enabled": "true",
                            "alarm_actions.#": "1",
                            "alarm_actions.931660500": "arn:aws:autoscaling:us-west-2:433610389961:scalingPolicy:a25762ee-b12f-40fa-b3df-75729e736704:autoScalingGroupName/engineering-tools-ecs-instances:policyName/engineering-tools-scaleup",
                            "alarm_description": "Scale up if the cpu reservation is above 90% for 10 minutes",
                            "alarm_name": "engineering-tools-cpureservation-high",
                            "comparison_operator": "GreaterThanOrEqualToThreshold",
                            "dimensions.%": "1",
                            "dimensions.ClusterName": "engineering-tools",
                            "evaluation_periods": "2",
                            "extended_statistic": "",
                            "id": "engineering-tools-cpureservation-high",
                            "insufficient_data_actions.#": "0",
                            "metric_name": "CPUReservation",
                            "namespace": "AWS/ECS",
                            "ok_actions.#": "0",
                            "period": "300",
                            "statistic": "Maximum",
                            "threshold": "90",
                            "unit": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_cloudwatch_metric_alarm.cpu_low": {
                    "type": "aws_cloudwatch_metric_alarm",
                    "depends_on": [
                        "aws_autoscaling_policy.scale_down",
                        "aws_cloudwatch_metric_alarm.memory_high",
                        "aws_ecs_cluster.main"
                    ],
                    "primary": {
                        "id": "engineering-tools-cpureservation-low",
                        "attributes": {
                            "actions_enabled": "true",
                            "alarm_actions.#": "1",
                            "alarm_actions.3659241547": "arn:aws:autoscaling:us-west-2:433610389961:scalingPolicy:441700f3-14ef-494b-9908-0256f51ea19e:autoScalingGroupName/engineering-tools-ecs-instances:policyName/engineering-tools-scaledown",
                            "alarm_description": "Scale down if the cpu reservation is below 10% for 10 minutes",
                            "alarm_name": "engineering-tools-cpureservation-low",
                            "comparison_operator": "LessThanOrEqualToThreshold",
                            "dimensions.%": "1",
                            "dimensions.ClusterName": "engineering-tools",
                            "evaluation_periods": "2",
                            "extended_statistic": "",
                            "id": "engineering-tools-cpureservation-low",
                            "insufficient_data_actions.#": "0",
                            "metric_name": "CPUReservation",
                            "namespace": "AWS/ECS",
                            "ok_actions.#": "0",
                            "period": "300",
                            "statistic": "Maximum",
                            "threshold": "10",
                            "unit": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_cloudwatch_metric_alarm.memory_high": {
                    "type": "aws_cloudwatch_metric_alarm",
                    "depends_on": [
                        "aws_autoscaling_policy.scale_up",
                        "aws_cloudwatch_metric_alarm.cpu_high",
                        "aws_ecs_cluster.main"
                    ],
                    "primary": {
                        "id": "engineering-tools-memoryreservation-high",
                        "attributes": {
                            "actions_enabled": "true",
                            "alarm_actions.#": "1",
                            "alarm_actions.931660500": "arn:aws:autoscaling:us-west-2:433610389961:scalingPolicy:a25762ee-b12f-40fa-b3df-75729e736704:autoScalingGroupName/engineering-tools-ecs-instances:policyName/engineering-tools-scaleup",
                            "alarm_description": "Scale up if the memory reservation is above 90% for 10 minutes",
                            "alarm_name": "engineering-tools-memoryreservation-high",
                            "comparison_operator": "GreaterThanOrEqualToThreshold",
                            "dimensions.%": "1",
                            "dimensions.ClusterName": "engineering-tools",
                            "evaluation_periods": "2",
                            "extended_statistic": "",
                            "id": "engineering-tools-memoryreservation-high",
                            "insufficient_data_actions.#": "0",
                            "metric_name": "MemoryReservation",
                            "namespace": "AWS/ECS",
                            "ok_actions.#": "0",
                            "period": "300",
                            "statistic": "Maximum",
                            "threshold": "90",
                            "unit": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_cloudwatch_metric_alarm.memory_low": {
                    "type": "aws_cloudwatch_metric_alarm",
                    "depends_on": [
                        "aws_autoscaling_policy.scale_down",
                        "aws_cloudwatch_metric_alarm.cpu_low",
                        "aws_ecs_cluster.main"
                    ],
                    "primary": {
                        "id": "engineering-tools-memoryreservation-low",
                        "attributes": {
                            "actions_enabled": "true",
                            "alarm_actions.#": "1",
                            "alarm_actions.3659241547": "arn:aws:autoscaling:us-west-2:433610389961:scalingPolicy:441700f3-14ef-494b-9908-0256f51ea19e:autoScalingGroupName/engineering-tools-ecs-instances:policyName/engineering-tools-scaledown",
                            "alarm_description": "Scale down if the memory reservation is below 10% for 10 minutes",
                            "alarm_name": "engineering-tools-memoryreservation-low",
                            "comparison_operator": "LessThanOrEqualToThreshold",
                            "dimensions.%": "1",
                            "dimensions.ClusterName": "engineering-tools",
                            "evaluation_periods": "2",
                            "extended_statistic": "",
                            "id": "engineering-tools-memoryreservation-low",
                            "insufficient_data_actions.#": "0",
                            "metric_name": "MemoryReservation",
                            "namespace": "AWS/ECS",
                            "ok_actions.#": "0",
                            "period": "300",
                            "statistic": "Maximum",
                            "threshold": "10",
                            "unit": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_ecs_cluster.main": {
                    "type": "aws_ecs_cluster",
                    "depends_on": [],
                    "primary": {
                        "id": "arn:aws:ecs:us-west-2:433610389961:cluster/engineering-tools",
                        "attributes": {
                            "id": "arn:aws:ecs:us-west-2:433610389961:cluster/engineering-tools",
                            "name": "engineering-tools"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_launch_configuration.main": {
                    "type": "aws_launch_configuration",
                    "depends_on": [
                        "data.template_cloudinit_config.cloud_config"
                    ],
                    "primary": {
                        "id": "engineering-tools-ecs-004616ccc846422633b2ea013b",
                        "attributes": {
                            "associate_public_ip_address": "false",
                            "ebs_block_device.#": "1",
                            "ebs_block_device.504524833.delete_on_termination": "true",
                            "ebs_block_device.504524833.device_name": "/dev/xvdcz",
                            "ebs_block_device.504524833.encrypted": "false",
                            "ebs_block_device.504524833.iops": "0",
                            "ebs_block_device.504524833.snapshot_id": "",
                            "ebs_block_device.504524833.volume_size": "25",
                            "ebs_block_device.504524833.volume_type": "gp2",
                            "ebs_optimized": "false",
                            "enable_monitoring": "true",
                            "ephemeral_block_device.#": "0",
                            "iam_instance_profile": "arn:aws:iam::433610389961:instance-profile/ecsInstanceRole",
                            "id": "engineering-tools-ecs-004616ccc846422633b2ea013b",
                            "image_id": "ami-022b9262",
                            "instance_type": "t2.medium",
                            "key_name": "engineering-tools",
                            "name": "engineering-tools-ecs-004616ccc846422633b2ea013b",
                            "name_prefix": "engineering-tools-ecs-",
                            "root_block_device.#": "1",
                            "root_block_device.0.delete_on_termination": "true",
                            "root_block_device.0.iops": "0",
                            "root_block_device.0.volume_size": "25",
                            "root_block_device.0.volume_type": "gp2",
                            "security_groups.#": "1",
                            "security_groups.3026471495": "sg-ba560bc2",
                            "spot_price": "",
                            "user_data": "e09a01fb396c8bdee6bbc9c2c6c70b36a695ef75",
                            "vpc_classic_link_id": "",
                            "vpc_classic_link_security_groups.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "data.template_cloudinit_config.cloud_config": {
                    "type": "template_cloudinit_config",
                    "depends_on": [],
                    "primary": {
                        "id": "164943521",
                        "attributes": {
                            "base64_encode": "true",
                            "gzip": "false",
                            "id": "164943521",
                            "part.#": "1",
                            "part.0.content": "#!/bin/bash\n\n# Join the default ECS cluster\necho ECS_CLUSTER=engineering-tools \u003e\u003e /etc/ecs/ecs.config\n\nPATH=$PATH:/usr/local/bin\n\n# Instance should be added to an security group that allows HTTP outbound\nyum update -y\n\n# Install packages\nyum -y install jq nfs-utils python27 python27-pip\n\n# Get region of EC2 from instance metadata\nEC2_AVAIL_ZONE=`curl -s http://169.254.169.254/latest/meta-data/placement/availability-zone`\nEC2_REGION=\"`echo \\\"$EC2_AVAIL_ZONE\\\" | sed -e 's:\\([0-9][0-9]*\\)[a-z]*\\$:\\\\1:'`\"\n\n# Create mount point\nmkdir /mnt/storage\n\n# Get EFS FileSystemID attribute\n#Instance needs to be added to a EC2 role that give the instance at least read access to EFS\nEFS_FILE_SYSTEM_ID=fs-bd428b14\n\n# Instance needs to be a member of security group that allows 2049 inbound/outbound\n#The security group that the instance belongs to has to be added to EFS file system configuration\n#Create variables for source and target\nDIR_SRC=$EC2_AVAIL_ZONE.$EFS_FILE_SYSTEM_ID.efs.$EC2_REGION.amazonaws.com:/\nDIR_TGT=/mnt/storage\n\n# Mount EFS file system\nmount -t nfs4 -o nfsvers=4.1,rsize=1048576,wsize=1048576,hard,timeo=600,retrans=2 $DIR_SRC $DIR_TGT\n\n#Backup fstab\ncp -p /etc/fstab /etc/fstab.back-$(date +%F)\n\n#Append line to fstab\necho -e \"$DIR_SRC \\t\\t $DIR_TGT \\t\\t nfs \\t\\t defaults \\t\\t 0 \\t\\t 0\" | tee -a /etc/fstab\n\nEC2_INSTANCE_ID=`curl -s http://169.254.169.254/latest/meta-data/instance-id`\n\n#NewRelic Installation\nrpm -Uvh https://download.newrelic.com/pub/newrelic/el5/i386/newrelic-repo-5-3.noarch.rpm\nyum install newrelic-sysmond -y\nusermod -a -G docker newrelic\nnrsysmond-config --set license_key=951db34ebed364ea663002571b63db5d3f827758\nsed -i '/#hostname*/c\\hostname=\\\"Engineering Tools - ECS Container Instance ('$EC2_INSTANCE_ID')\\\"' /etc/newrelic/nrsysmond.cfg\nsed -i '/#labels*/c\\labels=Environment:Production;Team:Engineering;Datacenter:AWS' /etc/newrelic/nrsysmond.cfg\n/etc/init.d/newrelic-sysmond start\n\n# Setting for ES\nsysctl -w vm.max_map_count=262144\n\n# Using a different CIDR for Docker (not to conflict with coreIT VPC CIDR)\nsed -i '$ d' /etc/sysconfig/docker\necho 'OPTIONS=\"--default-ulimit nofile=1024:4096 --bip=192.168.5.1/24\"' \u003e\u003e /etc/sysconfig/docker\nservice docker stop\nip link set docker0 down\nip link delete docker0\nservice docker start\n\n# Restarting ECS\nstart ecs\n",
                            "part.0.content_type": "",
                            "part.0.filename": "",
                            "part.0.merge_type": "",
                            "rendered": "Q29udGVudC1UeXBlOiBtdWx0aXBhcnQvbWl4ZWQ7IGJvdW5kYXJ5PSJNSU1FQk9VTkRBUlkiCk1JTUUtVmVyc2lvbjogMS4wDQotLU1JTUVCT1VOREFSWQ0KQ29udGVudC1UcmFuc2Zlci1FbmNvZGluZzogN2JpdA0KQ29udGVudC1UeXBlOiB0ZXh0L3BsYWluDQpNaW1lLVZlcnNpb246IDEuMA0KDQojIS9iaW4vYmFzaAoKIyBKb2luIHRoZSBkZWZhdWx0IEVDUyBjbHVzdGVyCmVjaG8gRUNTX0NMVVNURVI9ZW5naW5lZXJpbmctdG9vbHMgPj4gL2V0Yy9lY3MvZWNzLmNvbmZpZwoKUEFUSD0kUEFUSDovdXNyL2xvY2FsL2JpbgoKIyBJbnN0YW5jZSBzaG91bGQgYmUgYWRkZWQgdG8gYW4gc2VjdXJpdHkgZ3JvdXAgdGhhdCBhbGxvd3MgSFRUUCBvdXRib3VuZAp5dW0gdXBkYXRlIC15CgojIEluc3RhbGwgcGFja2FnZXMKeXVtIC15IGluc3RhbGwganEgbmZzLXV0aWxzIHB5dGhvbjI3IHB5dGhvbjI3LXBpcAoKIyBHZXQgcmVnaW9uIG9mIEVDMiBmcm9tIGluc3RhbmNlIG1ldGFkYXRhCkVDMl9BVkFJTF9aT05FPWBjdXJsIC1zIGh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbGF0ZXN0L21ldGEtZGF0YS9wbGFjZW1lbnQvYXZhaWxhYmlsaXR5LXpvbmVgCkVDMl9SRUdJT049ImBlY2hvIFwiJEVDMl9BVkFJTF9aT05FXCIgfCBzZWQgLWUgJ3M6XChbMC05XVswLTldKlwpW2Etel0qXCQ6XFwxOidgIgoKIyBDcmVhdGUgbW91bnQgcG9pbnQKbWtkaXIgL21udC9zdG9yYWdlCgojIEdldCBFRlMgRmlsZVN5c3RlbUlEIGF0dHJpYnV0ZQojSW5zdGFuY2UgbmVlZHMgdG8gYmUgYWRkZWQgdG8gYSBFQzIgcm9sZSB0aGF0IGdpdmUgdGhlIGluc3RhbmNlIGF0IGxlYXN0IHJlYWQgYWNjZXNzIHRvIEVGUwpFRlNfRklMRV9TWVNURU1fSUQ9ZnMtYmQ0MjhiMTQKCiMgSW5zdGFuY2UgbmVlZHMgdG8gYmUgYSBtZW1iZXIgb2Ygc2VjdXJpdHkgZ3JvdXAgdGhhdCBhbGxvd3MgMjA0OSBpbmJvdW5kL291dGJvdW5kCiNUaGUgc2VjdXJpdHkgZ3JvdXAgdGhhdCB0aGUgaW5zdGFuY2UgYmVsb25ncyB0byBoYXMgdG8gYmUgYWRkZWQgdG8gRUZTIGZpbGUgc3lzdGVtIGNvbmZpZ3VyYXRpb24KI0NyZWF0ZSB2YXJpYWJsZXMgZm9yIHNvdXJjZSBhbmQgdGFyZ2V0CkRJUl9TUkM9JEVDMl9BVkFJTF9aT05FLiRFRlNfRklMRV9TWVNURU1fSUQuZWZzLiRFQzJfUkVHSU9OLmFtYXpvbmF3cy5jb206LwpESVJfVEdUPS9tbnQvc3RvcmFnZQoKIyBNb3VudCBFRlMgZmlsZSBzeXN0ZW0KbW91bnQgLXQgbmZzNCAtbyBuZnN2ZXJzPTQuMSxyc2l6ZT0xMDQ4NTc2LHdzaXplPTEwNDg1NzYsaGFyZCx0aW1lbz02MDAscmV0cmFucz0yICRESVJfU1JDICRESVJfVEdUCgojQmFja3VwIGZzdGFiCmNwIC1wIC9ldGMvZnN0YWIgL2V0Yy9mc3RhYi5iYWNrLSQoZGF0ZSArJUYpCgojQXBwZW5kIGxpbmUgdG8gZnN0YWIKZWNobyAtZSAiJERJUl9TUkMgXHRcdCAkRElSX1RHVCBcdFx0IG5mcyBcdFx0IGRlZmF1bHRzIFx0XHQgMCBcdFx0IDAiIHwgdGVlIC1hIC9ldGMvZnN0YWIKCkVDMl9JTlNUQU5DRV9JRD1gY3VybCAtcyBodHRwOi8vMTY5LjI1NC4xNjkuMjU0L2xhdGVzdC9tZXRhLWRhdGEvaW5zdGFuY2UtaWRgCgojTmV3UmVsaWMgSW5zdGFsbGF0aW9uCnJwbSAtVXZoIGh0dHBzOi8vZG93bmxvYWQubmV3cmVsaWMuY29tL3B1Yi9uZXdyZWxpYy9lbDUvaTM4Ni9uZXdyZWxpYy1yZXBvLTUtMy5ub2FyY2gucnBtCnl1bSBpbnN0YWxsIG5ld3JlbGljLXN5c21vbmQgLXkKdXNlcm1vZCAtYSAtRyBkb2NrZXIgbmV3cmVsaWMKbnJzeXNtb25kLWNvbmZpZyAtLXNldCBsaWNlbnNlX2tleT05NTFkYjM0ZWJlZDM2NGVhNjYzMDAyNTcxYjYzZGI1ZDNmODI3NzU4CnNlZCAtaSAnLyNob3N0bmFtZSovY1xob3N0bmFtZT1cIkVuZ2luZWVyaW5nIFRvb2xzIC0gRUNTIENvbnRhaW5lciBJbnN0YW5jZSAoJyRFQzJfSU5TVEFOQ0VfSUQnKVwiJyAvZXRjL25ld3JlbGljL25yc3lzbW9uZC5jZmcKc2VkIC1pICcvI2xhYmVscyovY1xsYWJlbHM9RW52aXJvbm1lbnQ6UHJvZHVjdGlvbjtUZWFtOkVuZ2luZWVyaW5nO0RhdGFjZW50ZXI6QVdTJyAvZXRjL25ld3JlbGljL25yc3lzbW9uZC5jZmcKL2V0Yy9pbml0LmQvbmV3cmVsaWMtc3lzbW9uZCBzdGFydAoKIyBTZXR0aW5nIGZvciBFUwpzeXNjdGwgLXcgdm0ubWF4X21hcF9jb3VudD0yNjIxNDQKCiMgVXNpbmcgYSBkaWZmZXJlbnQgQ0lEUiBmb3IgRG9ja2VyIChub3QgdG8gY29uZmxpY3Qgd2l0aCBjb3JlSVQgVlBDIENJRFIpCnNlZCAtaSAnJCBkJyAvZXRjL3N5c2NvbmZpZy9kb2NrZXIKZWNobyAnT1BUSU9OUz0iLS1kZWZhdWx0LXVsaW1pdCBub2ZpbGU9MTAyNDo0MDk2IC0tYmlwPTE5Mi4xNjguNS4xLzI0IicgPj4gL2V0Yy9zeXNjb25maWcvZG9ja2VyCnNlcnZpY2UgZG9ja2VyIHN0b3AKaXAgbGluayBzZXQgZG9ja2VyMCBkb3duCmlwIGxpbmsgZGVsZXRlIGRvY2tlcjAKc2VydmljZSBkb2NrZXIgc3RhcnQKCiMgUmVzdGFydGluZyBFQ1MKc3RhcnQgZWNzCg0KLS1NSU1FQk9VTkRBUlktLQ0K"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "rds-cluster"
            ],
            "outputs": {
                "endpoint": {
                    "sensitive": false,
                    "type": "string",
                    "value": "engineering-tools.cnfn2tun3mjw.us-west-2.rds.amazonaws.com:3306"
                },
                "id": {
                    "sensitive": false,
                    "type": "string",
                    "value": "engineering-tools"
                },
                "port": {
                    "sensitive": false,
                    "type": "string",
                    "value": "3306"
                }
            },
            "resources": {
                "aws_db_instance.main": {
                    "type": "aws_db_instance",
                    "depends_on": [
                        "aws_db_subnet_group.main",
                        "aws_security_group.main"
                    ],
                    "primary": {
                        "id": "engineering-tools",
                        "attributes": {
                            "address": "engineering-tools.cnfn2tun3mjw.us-west-2.rds.amazonaws.com",
                            "allocated_storage": "100",
                            "arn": "arn:aws:rds:us-west-2:433610389961:db:engineering-tools",
                            "auto_minor_version_upgrade": "true",
                            "availability_zone": "us-west-2b",
                            "backup_retention_period": "5",
                            "backup_window": "07:00-09:00",
                            "copy_tags_to_snapshot": "false",
                            "db_subnet_group_name": "engineering-tools",
                            "endpoint": "engineering-tools.cnfn2tun3mjw.us-west-2.rds.amazonaws.com:3306",
                            "engine": "mariadb",
                            "engine_version": "10.1.19",
                            "hosted_zone_id": "Z1PVIF0B656C1W",
                            "id": "engineering-tools",
                            "identifier": "engineering-tools",
                            "instance_class": "db.t2.medium",
                            "iops": "0",
                            "kms_key_id": "",
                            "license_model": "general-public-license",
                            "maintenance_window": "mon:00:00-mon:03:00",
                            "monitoring_interval": "0",
                            "multi_az": "false",
                            "name": "",
                            "option_group_name": "default:mariadb-10-1",
                            "parameter_group_name": "engineering",
                            "password": "buanCAWwwAGxUyoU2Fai",
                            "port": "3306",
                            "publicly_accessible": "false",
                            "replicas.#": "0",
                            "replicate_source_db": "",
                            "security_group_names.#": "0",
                            "skip_final_snapshot": "true",
                            "status": "available",
                            "storage_encrypted": "false",
                            "storage_type": "standard",
                            "tags.%": "3",
                            "tags.Environment": "Preprod",
                            "tags.Name": "engineering-tools",
                            "tags.Team": "Engineering",
                            "timezone": "",
                            "username": "lfengineering",
                            "vpc_security_group_ids.#": "1",
                            "vpc_security_group_ids.3302155041": "sg-8882ccf0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_db_subnet_group.main": {
                    "type": "aws_db_subnet_group",
                    "depends_on": [],
                    "primary": {
                        "id": "engineering-tools",
                        "attributes": {
                            "arn": "arn:aws:rds:us-west-2:433610389961:subgrp:engineering-tools",
                            "description": "RDS cluster subnet group",
                            "id": "engineering-tools",
                            "name": "engineering-tools",
                            "subnet_ids.#": "3",
                            "subnet_ids.2055414451": "subnet-1a2b1442",
                            "subnet_ids.74575692": "subnet-57fe231e",
                            "subnet_ids.873240711": "subnet-da73c8bd",
                            "tags.%": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group.main": {
                    "type": "aws_security_group",
                    "depends_on": [],
                    "primary": {
                        "id": "sg-8882ccf0",
                        "attributes": {
                            "description": "Allows traffic to rds from other security groups",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-8882ccf0",
                            "ingress.#": "1",
                            "ingress.3128647477.cidr_blocks.#": "0",
                            "ingress.3128647477.from_port": "3306",
                            "ingress.3128647477.protocol": "TCP",
                            "ingress.3128647477.security_groups.#": "1",
                            "ingress.3128647477.security_groups.3026471495": "sg-ba560bc2",
                            "ingress.3128647477.self": "false",
                            "ingress.3128647477.to_port": "3306",
                            "name": "engineering-tools-rds-cluster",
                            "owner_id": "433610389961",
                            "tags.%": "2",
                            "tags.Environment": "Preprod",
                            "tags.Name": "RDS cluster (engineering-tools)",
                            "vpc_id": "vpc-21254546"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        }
    ]
}
